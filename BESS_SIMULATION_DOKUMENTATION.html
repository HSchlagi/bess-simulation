<!DOCTYPE html>
<html>
<head>
<title>BESS_SIMULATION_DOKUMENTATION.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="%F0%9F%93%9A-bess-simulation---vollst%C3%A4ndige-dokumentation">üìö BESS Simulation - Vollst√§ndige Dokumentation</h1>
<p><strong>Version:</strong> 2.5<br>
<strong>Datum:</strong> Januar 2025<br>
<strong>Autor:</strong> Ing. Heinz Schlagintweit<br>
<strong>Repository:</strong> https://github.com/HSchlagi/bess-simulation<br>
<strong>Letzte Aktualisierung:</strong> Roadmap 2025 - Stufe 1 (Netzrestriktionen, Degradation, Second-Life), Stufe 2.1 (Co-Location PV+BESS), Stufe 2.2 (Optimierte Regelstrategien), GeoSphere-Wind-Integration, Jahresertrag-Anzeige f√ºr PV/Wind/Hydro</p>
<hr>
<h2 id="%F0%9F%93%8B-inhaltsverzeichnis">üìã Inhaltsverzeichnis</h2>
<h3 id="teil-i-einf%C3%BChrung-und-grundlagen"><strong>Teil I: Einf√ºhrung und Grundlagen</strong></h3>
<ol>
<li>
<p><a href="#%C3%BCberblick">√úberblick</a></p>
<ul>
<li>1.1 Was ist BESS Simulation?</li>
<li>1.2 Kernfunktionalit√§ten im Detail</li>
<li>1.3 Hauptfunktionen</li>
<li>1.4 Zielgruppe und Anwendungsbereiche</li>
<li>1.5 Marktposition und Wettbewerbsvorteile</li>
</ul>
</li>
<li>
<p><a href="#installation--setup">Installation &amp; Setup</a></p>
<ul>
<li>2.1 Systemanforderungen</li>
<li>2.2 Lokale Installation</li>
<li>2.3 Docker-Installation</li>
<li>2.4 Produktions-Deployment (Hetzner)</li>
<li>2.5 Konfiguration und Anpassung</li>
<li>2.6 Erste Schritte nach der Installation</li>
</ul>
</li>
</ol>
<h3 id="teil-ii-benutzerhandbuch"><strong>Teil II: Benutzerhandbuch</strong></h3>
<ol start="3">
<li><a href="#benutzerhandbuch">Benutzerhandbuch</a>
<ul>
<li>3.1 Erste Schritte und Anmeldung</li>
<li>3.2 Dashboard und Navigation</li>
<li>3.3 Projekt-Management im Detail</li>
<li>3.4 Simulation durchf√ºhren</li>
<li>3.5 Dispatch &amp; Redispatch verwenden</li>
<li>3.6 ML &amp; KI Dashboard verwenden</li>
<li>3.7 Datenimport und -verwaltung (inkl. aWattar API, Smart Grid &amp; IoT)</li>
<li>3.8 Export &amp; Reporting</li>
<li>3.9 Multi-User-System und Berechtigungen</li>
</ul>
</li>
</ol>
<h3 id="teil-iii-technische-dokumentation"><strong>Teil III: Technische Dokumentation</strong></h3>
<ol start="4">
<li>
<p><a href="#technische-dokumentation">Technische Dokumentation</a></p>
<ul>
<li>4.1 BESS Sizing &amp; Optimierung - Machbare Region</li>
<li>4.2 Architektur und Systemdesign</li>
<li>4.3 Datenmodell und Datenbankstruktur</li>
<li>4.4 Performance-Optimierung</li>
<li>4.5 Sicherheit und Datenschutz</li>
<li>4.6 Monitoring und Logging</li>
<li>4.7 Backup und Wiederherstellung</li>
</ul>
</li>
<li>
<p><a href="#api-referenz">API-Referenz</a> (inkl. aWattar API, Smart Grid &amp; IoT)</p>
<ul>
<li>5.1 Authentifizierung und Autorisierung</li>
<li>5.2 Projekt-API</li>
<li>5.3 Simulation-API</li>
<li>5.4 Dispatch-API</li>
<li>5.5 ML &amp; KI-API</li>
<li>5.6 Datenimport-API</li>
<li>5.7 Export-API</li>
<li>5.8 Progressive Web App (PWA) Features</li>
<li>5.9 Fehlerbehandlung und Statuscodes</li>
</ul>
</li>
</ol>
<h3 id="teil-iv-erweiterte-themen"><strong>Teil IV: Erweiterte Themen</strong></h3>
<ol start="6">
<li>
<p><a href="#troubleshooting">Troubleshooting</a></p>
<ul>
<li>6.1 H√§ufige Probleme und L√∂sungen</li>
<li>6.2 Log-Analyse und Debugging</li>
<li>6.3 Performance-Probleme</li>
<li>6.4 Datenbank-Probleme</li>
<li>6.5 Netzwerk- und Verbindungsprobleme</li>
<li>6.6 Support und Kontakt</li>
</ul>
</li>
<li>
<p><a href="#entwickler-guide">Entwickler-Guide</a></p>
<ul>
<li>7.1 Entwicklungsumgebung einrichten</li>
<li>7.2 Code-Struktur und Standards</li>
<li>7.3 Testing und Qualit√§tssicherung</li>
<li>7.4 Deployment und CI/CD</li>
<li>7.5 Contributing und Pull Requests</li>
<li>7.6 Erweiterte Konfiguration</li>
</ul>
</li>
</ol>
<h3 id="teil-v-anh%C3%A4nge"><strong>Teil V: Anh√§nge</strong></h3>
<ol start="8">
<li><a href="#changelog">Changelog</a></li>
<li><a href="#glossar">Glossar</a></li>
<li><a href="#index">Index</a></li>
<li><a href="#lizenz-und-impressum">Lizenz und Impressum</a></li>
</ol>
<hr>
<h2 id="%F0%9F%8E%AF-%C3%BCberblick">üéØ √úberblick</h2>
<h3 id="was-ist-bess-simulation">Was ist BESS Simulation?</h3>
<p>Die <strong>BESS Simulation</strong> ist eine professionelle, webbasierte Anwendung zur umfassenden Simulation und Wirtschaftlichkeitsanalyse von <strong>Batterie-Energiespeichersystemen (BESS)</strong>. Das System wurde speziell f√ºr den √∂sterreichischen Energiemarkt entwickelt und bietet eine vollst√§ndige L√∂sung f√ºr die Planung, Optimierung und Bewertung von Energiespeicherprojekten.</p>
<h4 id="kernfunktionalit%C3%A4ten-im-detail"><strong>Kernfunktionalit√§ten im Detail:</strong></h4>
<p><strong>Wirtschaftlichkeitsanalysen f√ºr BESS-Projekte:</strong></p>
<ul>
<li>Durchf√ºhrung von 10-Jahres-Wirtschaftlichkeitsanalysen mit detaillierten Cashflow-Berechnungen</li>
<li>Berechnung aller relevanten KPIs (NPV, IRR, Payback-Zeit, LCOE)</li>
<li>Ber√ºcksichtigung von Investitionskosten, Betriebskosten, Degradation und Marktentwicklungen</li>
<li>Vergleich verschiedener Use Cases (Eigenverbrauch, Peak Shaving, Intraday-Arbitrage, Regelreserve)</li>
<li>Sensitivit√§tsanalysen f√ºr kritische Parameter</li>
</ul>
<p><strong>Dispatch-Optimierung f√ºr verschiedene Betriebsmodi:</strong></p>
<ul>
<li>Intelligente Betriebsstrategien f√ºr maximale Ertr√§ge</li>
<li>15-Minuten-Aufl√∂sung f√ºr pr√§zise Marktteilnahme</li>
<li>Integration von Spot-Preisen, Intraday-M√§rkten und Regelreserve</li>
<li>Baseline- und Redispatch-Simulationen</li>
<li>Automatische Optimierung der Lade-/Entladezyklen</li>
</ul>
<p><strong>Integration erneuerbarer Energien (PV, Wasserkraft):</strong></p>
<ul>
<li>Vollst√§ndige Integration von Photovoltaik-Anlagen mit realistischen Ertragsprognosen</li>
<li>Wasserkraft-Integration mit EHYD-Daten f√ºr √∂sterreichische Fl√ºsse</li>
<li>Wetterdaten-Integration √ºber PVGIS-API</li>
<li>Kombinierte Simulation von BESS + erneuerbare Energien</li>
<li>Optimierung der Eigenverbrauchsquote</li>
</ul>
<p><strong>Intraday-Arbitrage und Marktoptimierung:</strong></p>
<ul>
<li>Automatische Erkennung von Arbitrage-M√∂glichkeiten</li>
<li>Integration √∂sterreichischer Spot-Preise (APG)</li>
<li>Intraday-Handelssimulation mit realistischen Spreads</li>
<li>Regelreserve-Marktteilnahme mit Frequenzhaltung</li>
<li>Optimierung der Marktteilnahme-Strategien</li>
</ul>
<p><strong>√ñsterreichische Marktdaten und Regularien:</strong></p>
<ul>
<li>Vollst√§ndige Integration der √∂sterreichischen Strommarktstruktur</li>
<li>APG-Spot-Preise mit historischen und aktuellen Daten</li>
<li>ENTSO-E-Integration f√ºr grenz√ºberschreitende M√§rkte</li>
<li>Ber√ºcksichtigung √∂sterreichischer Netzentgelte und Abgaben</li>
<li>Compliance mit √∂sterreichischen Energieregularien</li>
</ul>
<h3 id="hauptfunktionen">Hauptfunktionen</h3>
<h4 id="%E2%9C%85-projekt-management---vollst%C3%A4ndige-bess-projektverwaltung">‚úÖ <strong>Projekt-Management - Vollst√§ndige BESS-Projektverwaltung</strong></h4>
<p>Das umfassende Projekt-Management-System erm√∂glicht die vollst√§ndige Verwaltung von BESS-Projekten von der ersten Idee bis zur finalen Implementierung:</p>
<ul>
<li><strong>Projekt-Erstellung:</strong> Intuitive Benutzeroberfl√§che f√ºr die Eingabe aller relevanten Projektparameter</li>
<li><strong>Kundenverwaltung:</strong> Vollst√§ndige Kundenstammdaten mit Kontaktinformationen und Projektzuordnung</li>
<li><strong>Standort-Management:</strong> Geografische Zuordnung mit PLZ, Bundesland und spezifischen Standortdaten</li>
<li><strong>BESS-Parameter:</strong> Detaillierte Konfiguration von Kapazit√§t, Leistung, Wirkungsgrad und Zyklen</li>
<li><strong>Projekt-Tracking:</strong> Verfolgung des Projektstatus von der Planung bis zur Umsetzung</li>
<li><strong>Auto-Save:</strong> Automatisches Speichern alle 30 Sekunden zur Datensicherheit</li>
<li><strong>Projekt-Archivierung:</strong> Langzeitarchivierung abgeschlossener Projekte</li>
</ul>
<h4 id="%E2%9C%85-simulation-engine---10-jahres-wirtschaftlichkeitsanalysen">‚úÖ <strong>Simulation-Engine - 10-Jahres-Wirtschaftlichkeitsanalysen</strong></h4>
<p>Die leistungsstarke Simulation-Engine f√ºhrt umfassende Wirtschaftlichkeitsanalysen √ºber einen Zeitraum von 10 Jahren durch:</p>
<ul>
<li><strong>Use Case-Simulationen:</strong> Spezifische Simulationen f√ºr Eigenverbrauch, Peak Shaving, Intraday-Arbitrage und Regelreserve</li>
<li><strong>KPI-Berechnungen:</strong> Automatische Berechnung von NPV, IRR, Payback-Zeit, LCOE und weiteren Kennzahlen</li>
<li><strong>Cashflow-Analysen:</strong> Detaillierte monatliche und j√§hrliche Cashflow-Berechnungen</li>
<li><strong>Sensitivit√§tsanalysen:</strong> Untersuchung der Auswirkungen von Parameter√§nderungen</li>
<li><strong>Szenario-Vergleiche:</strong> Vergleich verschiedener Betriebsstrategien und Marktbedingungen</li>
<li><strong>Degradation-Modellierung:</strong> Realistische Modellierung der Batteriealterung √ºber die Zeit (2% pro Jahr)</li>
<li><strong>Marktentwicklungen:</strong> Ber√ºcksichtigung von Strompreisentwicklungen und Marktver√§nderungen</li>
</ul>
<p><strong>Neue Features der 10-Jahres-Prognose:</strong></p>
<ul>
<li>
<p><strong>Konfigurierbares Bezugsjahr:</strong> Das Bezugsjahr f√ºr die 10-Jahres-Prognose kann vom Benutzer konfiguriert werden (z.B. 2024, 2025). Die Projektion erfolgt dann dynamisch vom Bezugsjahr bis Bezugsjahr + 10 Jahre.</p>
</li>
<li>
<p><strong>Marktpreise konfigurieren:</strong> Benutzer k√∂nnen individuelle Marktpreise f√ºr die Wirtschaftlichkeitsberechnung festlegen:</p>
<ul>
<li><strong>Spot-Arbitrage</strong> (‚Ç¨/kWh) - Standard: 0.0074 ‚Ç¨/kWh</li>
<li><strong>Intraday-Handel</strong> (‚Ç¨/kWh) - Standard: 0.0111 ‚Ç¨/kWh</li>
<li><strong>Regelenergie</strong> (‚Ç¨/kWh) - Standard: 0.0231 ‚Ç¨/kWh</li>
<li><strong>Frequenzregelung</strong> (‚Ç¨/kWh) - Standard: 0.30 ‚Ç¨/kWh</li>
<li><strong>Kapazit√§tsm√§rkte</strong> (‚Ç¨/kWh) - Standard: 0.18 ‚Ç¨/kWh</li>
<li><strong>Flexibilit√§tsm√§rkte</strong> (‚Ç¨/kWh) - Standard: 0.22 ‚Ç¨/kWh</li>
</ul>
<p>Die Preise k√∂nnen projektspezifisch oder global konfiguriert werden. Falls keine projektspezifischen Preise vorhanden sind, werden die globalen Standardwerte verwendet.</p>
</li>
<li>
<p><strong>Detaillierte Kostenaufstellung:</strong> Der 10-Jahres-Report enth√§lt eine detaillierte Aufstellung aller Kosten mit Sub-Kategorien:</p>
<ul>
<li><strong>Systemnutzungsentgelte BESS:</strong>
<ul>
<li>Netzentgelte Lieferung</li>
<li>Reduzierte Netzentgelte Bezug</li>
<li>Regul√§re Netzentgelte Bezug</li>
</ul>
</li>
<li><strong>Gesetzliche Abgaben BESS</strong></li>
<li><strong>Kosten HKNs f√ºr Verluste</strong></li>
<li><strong>Sonstige Stromkosten</strong></li>
</ul>
</li>
<li>
<p><strong>PDF- und Excel-Export:</strong> Der 10-Jahres-Report kann als PDF (A4 Querformat, optimiert f√ºr eine Seite) oder als Excel-Datei exportiert werden. Beide Formate enthalten die vollst√§ndige Jahresaufstellung mit allen Erl√∂sen und Kosten.</p>
</li>
<li>
<p><strong>Dynamische Jahresprojektion:</strong> Die Jahresprojektion wird dynamisch basierend auf dem konfigurierten Bezugsjahr erstellt. Die Tabellen√ºberschriften zeigen das Referenzjahr und die Projektionsjahre (z.B. &quot;Referenzjahr 2024&quot;, &quot;2025&quot;, &quot;2026&quot;, etc.).</p>
</li>
</ul>
<p><strong>Wichtige Korrekturen und Verbesserungen (Januar 2025):</strong></p>
<ul>
<li>
<p><strong>Korrigierte Gesamterl√∂s-Berechnung im Use Case Vergleich:</strong></p>
<ul>
<li><strong>Problem:</strong> Der Gesamterl√∂s wurde f√§lschlicherweise als Summe √ºber alle Use Cases berechnet, was zu unrealistisch hohen Werten f√ºhrte (z.B. 51.828.396 ‚Ç¨ statt ~30.279.839 ‚Ç¨).</li>
<li><strong>L√∂sung:</strong> Der Gesamterl√∂s wird jetzt korrekt vom besten Use Case (h√∂chste ROI) berechnet, da Use Cases alternative Szenarien sind, nicht additive. Die Abweichung zum 10-Jahres-Report wurde von 71,2% auf &lt; 0,5% reduziert.</li>
</ul>
</li>
<li>
<p><strong>Vollst√§ndige Angleichung der Berechnungen:</strong></p>
<ul>
<li><strong>Anzahl Jahre:</strong> Korrigiert von 10 auf 11 Jahre (Bezugsjahr + 10 Projektionsjahre), um Konsistenz mit dem 10-Jahres-Report zu gew√§hrleisten.</li>
<li><strong>Marktpreise:</strong> SRL/SRE-Marktteilnahme auf 50% gesetzt (wie im 10-Jahres-Report), Day-Ahead und Balancing Energy Erl√∂se entfernt (nicht im 10-Jahres-Report enthalten).</li>
<li><strong>Intraday-Berechnung:</strong> Efficiency und Marktteilnahme-Raten f√ºr Intraday entfernt, um exakte √úbereinstimmung mit dem 10-Jahres-Report zu erreichen.</li>
<li><strong>Degradationsanwendung:</strong> Identische Anwendung wie im 10-Jahres-Report (2% pro Jahr, degradation_factor = (1 - 0.02) ** year_idx).</li>
</ul>
</li>
<li>
<p><strong>Ergebnis:</strong> Die Berechnungen im Use Case Vergleich stimmen jetzt vollst√§ndig mit dem 10-Jahres-Report √ºberein (Abweichung &lt; 0,5%, was durch Rundungsdifferenzen erkl√§rt werden kann).</p>
</li>
</ul>
<h4 id="%E2%9C%85-dispatch-integration---optimierte-betriebsstrategien">‚úÖ <strong>Dispatch-Integration - Optimierte Betriebsstrategien</strong></h4>
<p>Die Dispatch-Integration bietet intelligente Betriebsstrategien f√ºr maximale Ertr√§ge:</p>
<ul>
<li><strong>15-Minuten-Aufl√∂sung:</strong> Hochaufl√∂sende Simulation f√ºr pr√§zise Marktteilnahme</li>
<li><strong>Spot-Preis-Integration:</strong> Automatische Integration aktueller APG-Spot-Preise</li>
<li><strong>Intraday-Handel:</strong> Simulation des Intraday-Handels mit realistischen Spreads</li>
<li><strong>Regelreserve:</strong> Integration der √∂sterreichischen Regelreserve-M√§rkte</li>
<li><strong>Baseline-Simulation:</strong> Standard-Betriebsstrategie als Referenz</li>
<li><strong>Redispatch-Optimierung:</strong> Optimierte Betriebsstrategie f√ºr maximale Ertr√§ge</li>
<li><strong>Echtzeit-Anpassungen:</strong> Dynamische Anpassung der Strategien basierend auf Marktbedingungen</li>
</ul>
<h4 id="%E2%9C%85-datenimport---spot-preise-lastprofile-wetterdaten">‚úÖ <strong>Datenimport - Spot-Preise, Lastprofile, Wetterdaten</strong></h4>
<p>Umfassendes Datenimport-System f√ºr alle relevanten Markt- und Wetterdaten:</p>
<ul>
<li><strong>Spot-Preis-Import:</strong> Automatischer und manueller Import von APG-Spot-Preisen</li>
<li><strong>aWattar-Integration:</strong> Automatischer Import √∂sterreichischer Strompreise (t√§glich 14:00/15:00 Uhr)</li>
<li><strong>Multi-Quellen-Dashboard:</strong> Auswahl zwischen ENTSO-E A44, APG, aWATTar oder kombinierter Ansicht mit detaillierter Quellenaufschl√ºsselung, farbcodierten Datenpunkten und Tooltips im Spotpreis-Dashboard</li>
<li><strong>Lastprofil-Integration:</strong> Import von Haushalts-, Gewerbe- und Industrieprofilen</li>
<li><strong>Wetterdaten:</strong> Integration von PVGIS-Wetterdaten f√ºr PV-Simulationen</li>
<li><strong>EHYD-Integration:</strong> Automatischer Import von Wasserkraftdaten f√ºr √∂sterreichische Fl√ºsse</li>
<li><strong>CSV/Excel-Support:</strong> Unterst√ºtzung verschiedener Dateiformate</li>
<li><strong>Datenvalidierung:</strong> Automatische Validierung und Bereinigung importierter Daten</li>
<li><strong>API-Integrationen:</strong> Direkte Anbindung an externe Datenquellen (APG, ENTSO-E, aWattar)</li>
<li><strong>Scheduler-System:</strong> Automatische Datenabrufe mit Python Schedule Library</li>
</ul>
<h4 id="%E2%9C%85-export-funktionen---pdf-excel-csv-reports">‚úÖ <strong>Export-Funktionen - PDF, Excel, CSV-Reports</strong></h4>
<p>Professionelle Export-Funktionen f√ºr alle Analyseergebnisse:</p>
<ul>
<li><strong>PDF-Reports:</strong> Professionelle Berichte mit Charts, Tabellen und Zusammenfassungen</li>
<li><strong>Excel-Export:</strong> Vollst√§ndige Rohdaten und Berechnungen f√ºr weitere Analysen</li>
<li><strong>CSV-Export:</strong> Zeitreihen-Daten f√ºr externe Analysetools</li>
<li><strong>Chart-Export:</strong> Hochaufl√∂sende Grafiken f√ºr Pr√§sentationen</li>
<li><strong>Zusammenfassungs-Reports:</strong> Executive Summary f√ºr Entscheidungstr√§ger</li>
<li><strong>Vergleichs-Reports:</strong> Vergleich verschiedener Projekte und Szenarien</li>
<li><strong>Anpassbare Templates:</strong> Individuell anpassbare Report-Templates</li>
</ul>
<h4 id="%E2%9C%85-multi-user-system---rollenbasierte-zugriffskontrolle">‚úÖ <strong>Multi-User-System - Rollenbasierte Zugriffskontrolle</strong></h4>
<p>Sicheres Multi-User-System mit differenzierten Zugriffsrechten:</p>
<ul>
<li><strong>Benutzerverwaltung:</strong> Vollst√§ndige Verwaltung von Benutzern und Rollen</li>
<li><strong>Rollenbasierte Rechte:</strong> Admin, User und Viewer mit unterschiedlichen Berechtigungen</li>
<li><strong>Projekt-Zugriffe:</strong> Benutzer-spezifische Zugriffe auf Projekte</li>
<li><strong>Session-Management:</strong> Sichere Session-Verwaltung mit automatischer Abmeldung</li>
<li><strong>Audit-Log:</strong> Vollst√§ndige Protokollierung aller Benutzeraktivit√§ten</li>
<li><strong>Passwort-Sicherheit:</strong> Bcrypt-Verschl√ºsselung f√ºr maximale Sicherheit</li>
<li><strong>CSRF-Protection:</strong> Schutz vor Cross-Site-Request-Forgery-Angriffen</li>
</ul>
<h4 id="%E2%9C%85-mobile-optimiert---responsive-design-f%C3%BCr-alle-ger%C3%A4te">‚úÖ <strong>Mobile-Optimiert - Responsive Design f√ºr alle Ger√§te</strong></h4>
<p>Vollst√§ndig responsive Anwendung f√ºr optimale Nutzung auf allen Ger√§ten:</p>
<ul>
<li><strong>Responsive Design:</strong> Optimierte Darstellung f√ºr Desktop, Tablet und Mobile</li>
<li><strong>Touch-Optimierung:</strong> Speziell optimierte Touch-Events f√ºr mobile Ger√§te</li>
<li><strong>Mobile-Men√º:</strong> Intuitive Navigation f√ºr kleine Bildschirme</li>
<li><strong>Cross-Browser-Kompatibilit√§t:</strong> Unterst√ºtzung aller modernen Browser</li>
<li><strong>Progressive Web App:</strong> PWA-Features f√ºr bessere mobile Erfahrung</li>
<li><strong>Offline-Funktionalit√§t:</strong> Grundlegende Funktionen auch ohne Internetverbindung</li>
<li><strong>Performance-Optimierung:</strong> Optimierte Ladezeiten f√ºr mobile Ger√§te</li>
</ul>
<h4 id="%E2%9C%85-roadmap-2025-features---erweiterte-simulation--optimierung">‚úÖ <strong>Roadmap 2025 Features - Erweiterte Simulation &amp; Optimierung</strong></h4>
<p>Die BESS Simulation wurde um umfassende Roadmap 2025 Features erweitert, die die Realit√§t und Wirtschaftlichkeit von BESS-Projekten deutlich verbessern:</p>
<p><strong>üî¥ Stufe 1 - Top-Priorit√§t (Implementiert):</strong></p>
<ul>
<li>
<p><strong>Netzrestriktionen &amp; Grid Code Compliance:</strong></p>
<ul>
<li><strong>Ramp-Rate Limits:</strong> Max. 10% Leistungs√§nderung pro Minute zur Einhaltung von Netzstabilit√§tsanforderungen</li>
<li><strong>Exportlimits:</strong> Netzebenen-spezifische Limits (NE5/NE6/NE7) f√ºr Einspeisung</li>
<li><strong>100-h-Regel (EEG/DE):</strong> Stundenweise Einspeisebegrenzung nach deutscher EEG-Regelung</li>
<li><strong>Einspeiseleistungsbegrenzung:</strong> Am Netzanschlusspunkt</li>
<li><strong>H√ºllkurvenregelungen:</strong> APG, ENTSO-E Vorgaben</li>
<li><strong>Kennzahlen:</strong> Erl√∂sverlust durch Netzrestriktionen (EUR/Jahr), Theoretischer vs. realer Arbitragegewinn, Auslastungsgrad der BESS-Kapazit√§t</li>
</ul>
</li>
<li>
<p><strong>Erweiterte Batterie-Degradation:</strong></p>
<ul>
<li><strong>Cycle Count Tracking:</strong> Full Cycle Equivalent (FCE) basierte Degradationsberechnung</li>
<li><strong>DoD-Abh√§ngige Alterung:</strong> Tiefe Entladung f√ºhrt zu h√∂herer Degradation</li>
<li><strong>Temperaturfaktor:</strong> Betriebstemperatur-basierte Degradationsanpassung</li>
<li><strong>Kapazit√§tsverlust pro Jahr:</strong> %-Verlust basierend auf Zyklen, DoD und Temperatur</li>
<li><strong>State of Health (SoH) Tracking:</strong> Kontinuierliche √úberwachung des Batteriezustands</li>
<li><strong>Lebensdauer-Prognose:</strong> Berechnung bis 80% SoH-Schwelle</li>
<li><strong>Frontend-Kennzahlen:</strong> Aktuelle Kapazit√§t, SoH, Kapazit√§tsverlust, gesch√§tzte Lebensdauer</li>
</ul>
</li>
<li>
<p><strong>Second-Life-Batterien:</strong></p>
<ul>
<li><strong>Reduzierte Startkapazit√§t:</strong> 70-85% statt 100% f√ºr Economy-Szenarien</li>
<li><strong>K√ºrzere Lebensdauer:</strong> 3-7 Jahre statt 10-15 Jahre</li>
<li><strong>Kostenvorteil:</strong> 40-60% g√ºnstiger als neue Batterien (CAPEX-Reduktion)</li>
<li><strong>H√∂here Degradation:</strong> Schnellerer Kapazit√§tsverlust durch Voralterung</li>
<li><strong>Frontend-Kennzahlen:</strong> CAPEX/kWh Vergleich, LCOE BESS Vergleich, TCO √ºber 10-15 Jahre</li>
</ul>
</li>
</ul>
<p><strong>üü° Stufe 2.1 - Co-Location PV + BESS (Implementiert):</strong></p>
<ul>
<li>
<p><strong>Gemeinsamer Netzanschluss:</strong></p>
<ul>
<li><strong>Shared Grid Connection:</strong> PV und BESS teilen einen Netzanschlusspunkt</li>
<li><strong>Netzkosten-Reduktion:</strong> Gemeinsame Nutzung reduziert Anschlusskosten</li>
<li><strong>Kapazit√§tsoptimierung:</strong> Besserer Auslastungsgrad des Netzanschlusses</li>
</ul>
</li>
<li>
<p><strong>Curtailment-Vermeidung:</strong></p>
<ul>
<li><strong>PV-Abschaltung vermeiden:</strong> BESS nimmt PV-√úberschuss auf, wenn Exportlimit erreicht</li>
<li><strong>PV-Mehrproduktion:</strong> Berechnung der zus√§tzlichen PV-Erzeugung durch BESS</li>
<li><strong>PV-Ausnutzung:</strong> Verbesserte Ausnutzung der PV-Anlage durch BESS-Integration</li>
<li><strong>Erl√∂szuwachs:</strong> Vermiedene Curtailment-Verluste werden zu Erl√∂sen</li>
</ul>
</li>
<li>
<p><strong>PV-gef√ºhrtes Peak-Shaving:</strong></p>
<ul>
<li><strong>Intelligente Lastverschiebung:</strong> BESS reagiert auf PV-Erzeugung und Verbrauch</li>
<li><strong>Peak-Reduktion:</strong> Reduzierung von Lastspitzen durch BESS-Entladung bei niedriger PV-Erzeugung</li>
<li><strong>Eigenverbrauchssteigerung:</strong> Erh√∂hung des Eigenverbrauchs durch optimierte BESS-Nutzung</li>
</ul>
</li>
<li>
<p><strong>Frontend-Kennzahlen:</strong></p>
<ul>
<li>Curtailment-Verluste (kW), Vermiedene Curtailment (kW)</li>
<li>PV-Ausnutzung (%), Eigenverbrauchsquote (%)</li>
<li>Peak-Shaving (kW), Erl√∂szuwachs (EUR), Kosteneinsparungen (EUR)</li>
</ul>
</li>
</ul>
<p><strong>üü° Stufe 2.2 - Optimierte Regelstrategien (Implementiert):</strong></p>
<ul>
<li>
<p><strong>Particle Swarm Optimization (PSO):</strong></p>
<ul>
<li><strong>Schwarm-basierte Optimierung:</strong> Intelligente Suche nach optimalen Lade-/Entlade-Entscheidungen</li>
<li><strong>Mehrertrag:</strong> +5-15% Erl√∂ssteigerung durch optimierte Strategien</li>
<li><strong>Preis-Volatilit√§t:</strong> Nutzung von Preisschwankungen f√ºr maximale Arbitrage</li>
</ul>
</li>
<li>
<p><strong>Multi-Objective Optimierung:</strong></p>
<ul>
<li><strong>Erl√∂s maximieren + Degradation minimieren:</strong> Balance zwischen Ertrag und Batteriegesundheit</li>
<li><strong>Gewichtete Optimierung:</strong> Konfigurierbare Gewichtung von Erl√∂s vs. Degradationskosten</li>
<li><strong>Netto-Nutzen:</strong> Berechnung des optimalen Trade-offs</li>
</ul>
</li>
<li>
<p><strong>Zyklenoptimierung:</strong></p>
<ul>
<li><strong>Battery Health sch√ºtzen:</strong> Begrenzung der Zyklenzahl pro Tag</li>
<li><strong>Optimaler SOC-Bereich:</strong> Betrieb innerhalb optimaler State-of-Charge-Grenzen</li>
<li><strong>Tiefentladungsvermeidung:</strong> Strafe f√ºr Tiefentladungen zur Lebensdauerverl√§ngerung</li>
</ul>
</li>
<li>
<p><strong>Cluster-Based Dispatch:</strong></p>
<ul>
<li><strong>Preis-Cluster-Erkennung:</strong> Identifikation von Hoch- und Niedrigpreisperioden</li>
<li><strong>Gruppenbasierte Lastverteilung:</strong> Optimierte Dispatch-Entscheidungen basierend auf Preis-Clustern</li>
<li><strong>Reaktionsgeschwindigkeit:</strong> Schnelle Anpassung an Marktver√§nderungen</li>
</ul>
</li>
<li>
<p><strong>UI-Features:</strong></p>
<ul>
<li><strong>Optimierungs-Toggle:</strong> Ein/Aus-Schalter f√ºr Optimierung direkt im Dashboard</li>
<li><strong>Strategie-Auswahl:</strong> Konfigurierbare bevorzugte Strategie (PSO, Multi-Objective, Cycle Optimization, Cluster Dispatch)</li>
<li><strong>Frontend-Kennzahlen:</strong> Optimierungsstatus, verwendete Strategie, Erl√∂s-Boost (%), Preis-Volatilit√§t (%), Optimierungs-Benefit (EUR)</li>
</ul>
</li>
</ul>
<p><strong>Technische Implementierung:</strong></p>
<ul>
<li><strong>Datenbank-Erweiterungen:</strong> Neue Tabellen f√ºr NetworkRestrictions, BatteryDegradationAdvanced, SecondLifeConfig, CoLocationConfig, OptimizationStrategyConfig</li>
<li><strong>Backend-Integration:</strong> Integration in Simulation-Engine (<code>app/routes.py</code>)</li>
<li><strong>Frontend-Integration:</strong> Neue Sektionen in Enhanced Dashboard mit ausklappbaren Bereichen</li>
<li><strong>API-Endpunkte:</strong> Neue Endpunkte f√ºr Optimierungs-Konfiguration und Statistiken</li>
<li><strong>Migration-Skripte:</strong> Automatische Datenbank-Migrationen f√ºr bestehende Projekte</li>
</ul>
<p><strong>Status:</strong> ‚úÖ Alle Stufe 1, 2.1 und 2.2 Features vollst√§ndig implementiert und im Frontend sichtbar</p>
<h3 id="zielgruppe">Zielgruppe</h3>
<h4 id="energieberater-und-ingenieurb%C3%BCros"><strong>Energieberater und Ingenieurb√ºros</strong></h4>
<p>Professionelle Beratungsunternehmen, die ihre Kunden bei der Planung und Umsetzung von Energiespeicherprojekten unterst√ºtzen:</p>
<ul>
<li><strong>Projektplanung:</strong> Umfassende Wirtschaftlichkeitsanalysen f√ºr Kundenprojekte</li>
<li><strong>Technische Beratung:</strong> Detaillierte technische Auslegung von BESS-Systemen</li>
<li><strong>Marktanalysen:</strong> Bewertung verschiedener Gesch√§ftsmodelle und Use Cases</li>
<li><strong>Kundenpr√§sentationen:</strong> Professionelle Reports und Pr√§sentationen</li>
<li><strong>Projektvergleich:</strong> Vergleich verschiedener Technologien und Anbieter</li>
<li><strong>Regulatorische Beratung:</strong> Unterst√ºtzung bei der Einhaltung √∂sterreichischer Vorschriften</li>
</ul>
<h4 id="bess-hersteller-und-systemintegratoren"><strong>BESS-Hersteller und Systemintegratoren</strong></h4>
<p>Unternehmen, die Batteriespeichersysteme entwickeln, herstellen oder integrieren:</p>
<ul>
<li><strong>Produktentwicklung:</strong> Simulation verschiedener Systemkonfigurationen</li>
<li><strong>Marktanalyse:</strong> Bewertung der Marktchancen f√ºr verschiedene Produkte</li>
<li><strong>Kundenberatung:</strong> Technische und wirtschaftliche Beratung f√ºr Endkunden</li>
<li><strong>Systemoptimierung:</strong> Optimierung der Systemparameter f√ºr maximale Ertr√§ge</li>
<li><strong>Verkaufsunterst√ºtzung:</strong> Professionelle Tools f√ºr das Verkaufsteam</li>
<li><strong>Wettbewerbsanalyse:</strong> Vergleich mit konkurrierenden L√∂sungen</li>
</ul>
<h4 id="investoren-und-projektentwickler"><strong>Investoren und Projektentwickler</strong></h4>
<p>Finanzinvestoren und Projektentwickler, die in Energiespeicherprojekte investieren:</p>
<ul>
<li><strong>Due Diligence:</strong> Umfassende Wirtschaftlichkeitspr√ºfung vor Investitionsentscheidungen</li>
<li><strong>Risikobewertung:</strong> Analyse verschiedener Risikofaktoren und Szenarien</li>
<li><strong>Portfolio-Management:</strong> Verwaltung mehrerer Energiespeicherprojekte</li>
<li><strong>Renditeoptimierung:</strong> Optimierung der Investitionsrendite durch verschiedene Strategien</li>
<li><strong>Marktentwicklung:</strong> Bewertung der langfristigen Marktentwicklung</li>
<li><strong>Exit-Strategien:</strong> Bewertung verschiedener Exit-Optionen</li>
</ul>
<h4 id="forschungseinrichtungen-und-universit%C3%A4ten"><strong>Forschungseinrichtungen und Universit√§ten</strong></h4>
<p>Akademische Institutionen, die im Bereich der Energiespeicherung forschen:</p>
<ul>
<li><strong>Forschungsprojekte:</strong> Simulation verschiedener Forschungsans√§tze</li>
<li><strong>Technologiebewertung:</strong> Bewertung neuer Technologien und Konzepte</li>
<li><strong>Marktstudien:</strong> Analyse der Marktentwicklung und -trends</li>
<li><strong>Lehre:</strong> Einsatz in der Ausbildung von Studierenden</li>
<li><strong>Publikationen:</strong> Unterst√ºtzung bei der Erstellung wissenschaftlicher Publikationen</li>
<li><strong>Kooperationen:</strong> Zusammenarbeit mit Industrie und anderen Forschungseinrichtungen</li>
</ul>
<h4 id="energieversorger-und-stadtwerke"><strong>Energieversorger und Stadtwerke</strong></h4>
<p>Traditionelle Energieversorger, die in den Energiespeichermarkt expandieren:</p>
<ul>
<li><strong>Portfolio-Erweiterung:</strong> Integration von Energiespeichern in das bestehende Portfolio</li>
<li><strong>Netzstabilit√§t:</strong> Verbesserung der Netzstabilit√§t durch Energiespeicher</li>
<li><strong>Kundenservice:</strong> Erweiterte Dienstleistungen f√ºr Endkunden</li>
<li><strong>Regelenergie:</strong> Teilnahme an Regelenergiem√§rkten</li>
<li><strong>Eigenverbrauch:</strong> Optimierung des Eigenverbrauchs erneuerbarer Energien</li>
<li><strong>Innovation:</strong> Entwicklung neuer Gesch√§ftsmodelle im Energiesektor</li>
</ul>
<h3 id="marktposition-und-wettbewerbsvorteile">Marktposition und Wettbewerbsvorteile</h3>
<h4 id="einzigartige-marktposition"><strong>Einzigartige Marktposition</strong></h4>
<p>Die BESS Simulation positioniert sich als f√ºhrende L√∂sung f√ºr die √∂sterreichische Energiespeicherbranche durch ihre spezialisierte Ausrichtung auf den √∂sterreichischen Markt und ihre umfassende Funktionalit√§t:</p>
<p><strong>√ñsterreichische Marktspezialisierung:</strong></p>
<ul>
<li><strong>APG-Integration:</strong> Vollst√§ndige Integration der Austrian Power Grid (APG) Spot-Preise</li>
<li><strong>EHYD-Daten:</strong> Automatischer Import von Wasserkraftdaten f√ºr √∂sterreichische Fl√ºsse</li>
<li><strong>Regulatorische Compliance:</strong> Einhaltung aller √∂sterreichischen Energieregularien</li>
<li><strong>Netzentgelte:</strong> Ber√ºcksichtigung √∂sterreichischer Netzentgelte und Abgaben</li>
<li><strong>Marktstruktur:</strong> Anpassung an die spezifische √∂sterreichische Strommarktstruktur</li>
</ul>
<p><strong>Technische √úberlegenheit:</strong></p>
<ul>
<li><strong>15-Minuten-Aufl√∂sung:</strong> H√∂chste verf√ºgbare Aufl√∂sung f√ºr pr√§zise Marktteilnahme</li>
<li><strong>Multi-Use-Case-Simulation:</strong> Gleichzeitige Simulation verschiedener Gesch√§ftsmodelle</li>
<li><strong>Echtzeit-Integration:</strong> Live-Daten von APG, ENTSO-E und anderen Quellen</li>
<li><strong>Erweiterte Degradation:</strong> Realistische Modellierung der Batteriealterung</li>
<li><strong>Sensitivit√§tsanalysen:</strong> Umfassende Risikobewertung verschiedener Szenarien</li>
</ul>
<h4 id="wettbewerbsvorteile-gegen%C3%BCber-anderen-l%C3%B6sungen"><strong>Wettbewerbsvorteile gegen√ºber anderen L√∂sungen</strong></h4>
<p><strong>Vollst√§ndige Integration vs. Einzell√∂sungen:</strong></p>
<ul>
<li><strong>All-in-One-Ansatz:</strong> Eine L√∂sung f√ºr alle Aspekte der BESS-Simulation</li>
<li><strong>Nahtlose Workflows:</strong> Von der Projektplanung bis zum finalen Report</li>
<li><strong>Konsistente Datenbasis:</strong> Alle Berechnungen basieren auf derselben Datenquelle</li>
<li><strong>Reduzierte Komplexit√§t:</strong> Keine Integration verschiedener Tools erforderlich</li>
</ul>
<p><strong>√ñsterreichische Marktkenntnis:</strong></p>
<ul>
<li><strong>Lokale Expertise:</strong> Entwickelt von Experten mit √∂sterreichischer Marktkenntnis</li>
<li><strong>Regulatorisches Know-how:</strong> Vollst√§ndige Ber√ºcksichtigung √∂sterreichischer Vorschriften</li>
<li><strong>Marktdaten-Integration:</strong> Direkte Anbindung an √∂sterreichische Datenquellen</li>
<li><strong>Sprachunterst√ºtzung:</strong> Vollst√§ndige deutsche Benutzeroberfl√§che</li>
</ul>
<p><strong>Benutzerfreundlichkeit:</strong></p>
<ul>
<li><strong>Intuitive Bedienung:</strong> Selbst f√ºr Nicht-Techniker verst√§ndlich</li>
<li><strong>Umfassende Hilfe:</strong> Vollst√§ndige Dokumentation und Hilfesystem</li>
<li><strong>Mobile Optimierung:</strong> Vollst√§ndig responsive f√ºr alle Ger√§te</li>
<li><strong>Multi-User-System:</strong> Rollenbasierte Zugriffskontrolle f√ºr Teams</li>
</ul>
<p><strong>Technische Robustheit:</strong></p>
<ul>
<li><strong>Skalierbarkeit:</strong> Von kleinen Projekten bis zu gro√üen Portfolios</li>
<li><strong>Performance:</strong> Optimiert f√ºr schnelle Berechnungen auch bei gro√üen Datenmengen</li>
<li><strong>Zuverl√§ssigkeit:</strong> Umfassendes Backup- und Wiederherstellungssystem</li>
<li><strong>Sicherheit:</strong> Enterprise-Grade Sicherheitsfeatures</li>
</ul>
<h4 id="zielgruppen-spezifische-vorteile"><strong>Zielgruppen-spezifische Vorteile</strong></h4>
<p><strong>F√ºr Energieberater:</strong></p>
<ul>
<li><strong>Professionelle Reports:</strong> Hochwertige PDF- und Excel-Reports f√ºr Kunden</li>
<li><strong>Schnelle Analysen:</strong> Reduzierung der Analysezeit von Tagen auf Stunden</li>
<li><strong>Kundenpr√§sentationen:</strong> Interaktive Charts und Grafiken f√ºr Pr√§sentationen</li>
<li><strong>Projektvergleich:</strong> Einfacher Vergleich verschiedener Technologien und Anbieter</li>
</ul>
<p><strong>F√ºr BESS-Hersteller:</strong></p>
<ul>
<li><strong>Produktentwicklung:</strong> Simulation verschiedener Systemkonfigurationen</li>
<li><strong>Verkaufsunterst√ºtzung:</strong> Professionelle Tools f√ºr das Verkaufsteam</li>
<li><strong>Kundenberatung:</strong> Technische und wirtschaftliche Beratung f√ºr Endkunden</li>
<li><strong>Wettbewerbsanalyse:</strong> Vergleich mit konkurrierenden L√∂sungen</li>
</ul>
<p><strong>F√ºr Investoren:</strong></p>
<ul>
<li><strong>Due Diligence:</strong> Umfassende Wirtschaftlichkeitspr√ºfung vor Investitionsentscheidungen</li>
<li><strong>Risikobewertung:</strong> Analyse verschiedener Risikofaktoren und Szenarien</li>
<li><strong>Portfolio-Management:</strong> Verwaltung mehrerer Energiespeicherprojekte</li>
<li><strong>Renditeoptimierung:</strong> Optimierung der Investitionsrendite durch verschiedene Strategien</li>
</ul>
<p><strong>F√ºr Forschungseinrichtungen:</strong></p>
<ul>
<li><strong>Forschungsprojekte:</strong> Simulation verschiedener Forschungsans√§tze</li>
<li><strong>Technologiebewertung:</strong> Bewertung neuer Technologien und Konzepte</li>
<li><strong>Marktstudien:</strong> Analyse der Marktentwicklung und -trends</li>
<li><strong>Lehre:</strong> Einsatz in der Ausbildung von Studierenden</li>
</ul>
<p><strong>F√ºr Energieversorger:</strong></p>
<ul>
<li><strong>Portfolio-Erweiterung:</strong> Integration von Energiespeichern in das bestehende Portfolio</li>
<li><strong>Netzstabilit√§t:</strong> Verbesserung der Netzstabilit√§t durch Energiespeicher</li>
<li><strong>Kundenservice:</strong> Erweiterte Dienstleistungen f√ºr Endkunden</li>
<li><strong>Innovation:</strong> Entwicklung neuer Gesch√§ftsmodelle im Energiesektor</li>
</ul>
<hr>
<h2 id="%F0%9F%9A%80-installation--setup">üöÄ Installation &amp; Setup</h2>
<h3 id="21-systemanforderungen">2.1 Systemanforderungen</h3>
<h4 id="server-anforderungen"><strong>Server-Anforderungen</strong></h4>
<p><strong>Betriebssystem:</strong></p>
<ul>
<li><strong>Ubuntu 20.04 LTS oder h√∂her</strong> (empfohlen f√ºr Produktionsumgebung)</li>
<li><strong>Windows 10/11</strong> (f√ºr Entwicklung und lokale Tests)</li>
<li><strong>macOS 10.15+</strong> (f√ºr Entwicklung und lokale Tests)</li>
<li><strong>CentOS/RHEL 8+</strong> (f√ºr Enterprise-Umgebungen)</li>
</ul>
<p><strong>Python-Umgebung:</strong></p>
<ul>
<li><strong>Python 3.9 oder h√∂her</strong> (empfohlen: Python 3.11)</li>
<li><strong>pip 21.0+</strong> f√ºr Paketverwaltung</li>
<li><strong>virtualenv</strong> oder <strong>venv</strong> f√ºr isolierte Umgebungen</li>
<li><strong>Git 2.20+</strong> f√ºr Versionskontrolle</li>
</ul>
<p><strong>Hardware-Anforderungen:</strong></p>
<ul>
<li><strong>RAM:</strong> Mindestens 4GB (8GB empfohlen f√ºr Produktion)</li>
<li><strong>CPU:</strong> 2 Kerne (4 Kerne empfohlen f√ºr Produktion)</li>
<li><strong>Speicher:</strong> 10GB freier Speicherplatz (20GB empfohlen)</li>
<li><strong>Netzwerk:</strong> Stabile Internetverbindung f√ºr API-Integrationen</li>
</ul>
<p><strong>Produktions-Server (Hetzner/Cloud):</strong></p>
<ul>
<li><strong>RAM:</strong> 8GB oder mehr</li>
<li><strong>CPU:</strong> 4 Kerne oder mehr</li>
<li><strong>SSD:</strong> 50GB oder mehr</li>
<li><strong>Bandbreite:</strong> 100 Mbps oder mehr</li>
<li><strong>Uptime:</strong> 99.9% Verf√ºgbarkeit</li>
</ul>
<h4 id="browser-anforderungen"><strong>Browser-Anforderungen</strong></h4>
<p><strong>Desktop-Browser:</strong></p>
<ul>
<li><strong>Google Chrome 90+</strong> (empfohlen)</li>
<li><strong>Microsoft Edge 90+</strong></li>
<li><strong>Mozilla Firefox 88+</strong></li>
<li><strong>Safari 14+</strong> (macOS)</li>
</ul>
<p><strong>Mobile-Browser:</strong></p>
<ul>
<li><strong>iOS Safari 14+</strong> (iPhone/iPad)</li>
<li><strong>Chrome Mobile 90+</strong> (Android)</li>
<li><strong>Samsung Internet 13+</strong> (Android)</li>
<li><strong>Firefox Mobile 88+</strong> (Android)</li>
</ul>
<p><strong>Browser-Features:</strong></p>
<ul>
<li><strong>JavaScript:</strong> Muss aktiviert sein</li>
<li><strong>Cookies:</strong> F√ºr Session-Management erforderlich</li>
<li><strong>Local Storage:</strong> F√ºr Benutzereinstellungen</li>
<li><strong>WebGL:</strong> F√ºr erweiterte Charts (optional)</li>
</ul>
<h4 id="netzwerk-anforderungen"><strong>Netzwerk-Anforderungen</strong></h4>
<p><strong>API-Integrationen:</strong></p>
<ul>
<li><strong>APG (Austrian Power Grid):</strong> HTTPS-Zugriff auf Spot-Preise</li>
<li><strong>ENTSO-E:</strong> Zugriff auf europ√§ische Marktdaten</li>
<li><strong>PVGIS:</strong> Wetterdaten f√ºr PV-Simulationen</li>
<li><strong>EHYD:</strong> Wasserkraftdaten f√ºr √∂sterreichische Fl√ºsse</li>
</ul>
<p><strong>Ports und Firewall:</strong></p>
<ul>
<li><strong>HTTP:</strong> Port 80 (f√ºr lokale Entwicklung)</li>
<li><strong>HTTPS:</strong> Port 443 (f√ºr Produktion)</li>
<li><strong>SSH:</strong> Port 22 (f√ºr Server-Zugriff)</li>
<li><strong>Database:</strong> Port 5432 (PostgreSQL) oder 3306 (MySQL)</li>
</ul>
<p><strong>SSL/TLS:</strong></p>
<ul>
<li><strong>Let's Encrypt:</strong> F√ºr kostenlose SSL-Zertifikate</li>
<li><strong>Wildcard-Zertifikate:</strong> F√ºr Subdomains</li>
<li><strong>HSTS:</strong> HTTP Strict Transport Security</li>
</ul>
<h3 id="22-lokale-installation">2.2 Lokale Installation</h3>
<h4 id="schritt-1-repository-klonen"><strong>Schritt 1: Repository klonen</strong></h4>
<p><strong>Git-Repository herunterladen:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># Repository klonen</span>
git <span class="hljs-built_in">clone</span> https://github.com/HSchlagi/bess-simulation.git

<span class="hljs-comment"># In das Projektverzeichnis wechseln</span>
<span class="hljs-built_in">cd</span> bess-simulation

<span class="hljs-comment"># Aktuelle Version √ºberpr√ºfen</span>
git status
</div></code></pre>
<p><strong>Verzeichnisstruktur nach dem Klonen:</strong></p>
<pre class="hljs"><code><div>bess-simulation/
‚îú‚îÄ‚îÄ app/                    # Hauptanwendung
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py        # Flask-App Initialisierung
‚îÇ   ‚îú‚îÄ‚îÄ models.py          # Datenbank-Modelle
‚îÇ   ‚îú‚îÄ‚îÄ routes.py          # Route-Handler
‚îÇ   ‚îú‚îÄ‚îÄ templates/         # HTML-Templates
‚îÇ   ‚îî‚îÄ‚îÄ static/            # Statische Dateien
‚îú‚îÄ‚îÄ instance/              # Instanz-spezifische Dateien
‚îú‚îÄ‚îÄ logs/                  # Log-Dateien
‚îú‚îÄ‚îÄ requirements.txt       # Python-Abh√§ngigkeiten
‚îú‚îÄ‚îÄ run.py                # Server-Start
‚îî‚îÄ‚îÄ README.md             # Projekt-Dokumentation
</div></code></pre>
<h4 id="schritt-2-python-umgebung-einrichten"><strong>Schritt 2: Python-Umgebung einrichten</strong></h4>
<p><strong>Virtual Environment erstellen:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># Virtual Environment erstellen</span>
python -m venv venv

<span class="hljs-comment"># Aktivieren (Windows)</span>
venv\Scripts\activate

<span class="hljs-comment"># Aktivieren (Linux/macOS)</span>
<span class="hljs-built_in">source</span> venv/bin/activate

<span class="hljs-comment"># Python-Version √ºberpr√ºfen</span>
python --version
</div></code></pre>
<p><strong>Virtual Environment verwalten:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># Virtual Environment deaktivieren</span>
deactivate

<span class="hljs-comment"># Virtual Environment erneut aktivieren</span>
<span class="hljs-comment"># Windows:</span>
venv\Scripts\activate
<span class="hljs-comment"># Linux/macOS:</span>
<span class="hljs-built_in">source</span> venv/bin/activate
</div></code></pre>
<h4 id="schritt-3-abh%C3%A4ngigkeiten-installieren"><strong>Schritt 3: Abh√§ngigkeiten installieren</strong></h4>
<p><strong>Grundlegende Installation:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># pip aktualisieren</span>
pip install --upgrade pip

<span class="hljs-comment"># Abh√§ngigkeiten installieren</span>
pip install -r requirements.txt

<span class="hljs-comment"># Installation √ºberpr√ºfen</span>
pip list
</div></code></pre>
<p><strong>Wichtige Python-Pakete:</strong></p>
<ul>
<li><strong>Flask 2.3+</strong> - Web-Framework</li>
<li><strong>SQLAlchemy 2.0+</strong> - ORM f√ºr Datenbankzugriff</li>
<li><strong>Pandas 2.0+</strong> - Datenanalyse</li>
<li><strong>NumPy 1.24+</strong> - Numerische Berechnungen</li>
<li><strong>Matplotlib 3.7+</strong> - Charts und Grafiken</li>
<li><strong>Requests 2.31+</strong> - HTTP-Client f√ºr APIs</li>
<li><strong>Gunicorn 21.2+</strong> - WSGI-Server f√ºr Produktion</li>
</ul>
<p><strong>M√∂gliche Probleme und L√∂sungen:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># Falls Installation fehlschl√§gt</span>
pip install --upgrade setuptools wheel

<span class="hljs-comment"># Spezifische Version installieren</span>
pip install flask==2.3.3

<span class="hljs-comment"># Abh√§ngigkeiten neu installieren</span>
pip install -r requirements.txt --force-reinstall
</div></code></pre>
<h4 id="schritt-4-datenbank-initialisieren"><strong>Schritt 4: Datenbank initialisieren</strong></h4>
<p><strong>SQLite-Datenbank erstellen:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># Datenbank initialisieren</span>
python init_db.py

<span class="hljs-comment"># Datenbank-Struktur √ºberpr√ºfen</span>
python check_database_structure.py

<span class="hljs-comment"># Demo-Daten importieren (optional)</span>
python import_demo_pv_hydro_data.py
</div></code></pre>
<p><strong>Datenbank-Verzeichnis:</strong></p>
<pre class="hljs"><code><div>instance/
‚îî‚îÄ‚îÄ bess.db              # SQLite-Datenbank
</div></code></pre>
<p><strong>Wichtige Tabellen:</strong></p>
<ul>
<li><strong>projects</strong> - BESS-Projekte</li>
<li><strong>customers</strong> - Kundenstammdaten</li>
<li><strong>spot_prices</strong> - APG-Spot-Preise</li>
<li><strong>load_profiles</strong> - Lastprofile</li>
<li><strong>simulation_results</strong> - Simulationsergebnisse</li>
<li><strong>users</strong> - Benutzerverwaltung</li>
</ul>
<h4 id="schritt-5-server-starten"><strong>Schritt 5: Server starten</strong></h4>
<p><strong>Entwicklungsserver starten:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># Server starten</span>
python run.py

<span class="hljs-comment"># Alternative mit Debug-Modus</span>
<span class="hljs-built_in">export</span> FLASK_ENV=development
<span class="hljs-built_in">export</span> FLASK_DEBUG=1
python run.py
</div></code></pre>
<p><strong>Server-Status √ºberpr√ºfen:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># In neuem Terminal</span>
curl http://localhost:5000

<span class="hljs-comment"># Oder Browser √∂ffnen</span>
<span class="hljs-comment"># http://localhost:5000</span>
</div></code></pre>
<p><strong>Erwartete Ausgabe:</strong></p>
<pre class="hljs"><code><div>‚úÖ Redis-Caching erfolgreich initialisiert
‚úÖ Logging-System erfolgreich initialisiert
‚úÖ Monitoring-System erfolgreich initialisiert
üöÄ BESS-Simulation Server wird gestartet...
üìä Dashboard: http://127.0.0.1:5000/dashboard
üîß Admin-Panel: http://127.0.0.1:5000/admin/dashboard
==================================================
 * Running on http://127.0.0.1:5000
 * Debugger is active!
</div></code></pre>
<h4 id="schritt-6-erste-schritte-nach-der-installation"><strong>Schritt 6: Erste Schritte nach der Installation</strong></h4>
<p><strong>1. Anmeldung:</strong></p>
<ul>
<li><strong>URL:</strong> http://localhost:5000</li>
<li><strong>Standard-Login:</strong> office@instanet.at</li>
<li><strong>Passwort:</strong> [Wird bei Installation gesetzt]</li>
</ul>
<p><strong>2. Dashboard erkunden:</strong></p>
<ul>
<li>Projekt-Statistiken anzeigen</li>
<li>System-Status √ºberpr√ºfen</li>
<li>Schnellzugriff auf Funktionen</li>
</ul>
<p><strong>3. Erstes Projekt erstellen:</strong></p>
<ul>
<li>Navigation: Projekte ‚Üí Neues Projekt</li>
<li>Grunddaten eingeben</li>
<li>BESS-Parameter konfigurieren</li>
<li>Projekt speichern</li>
</ul>
<p><strong>4. Erste Simulation durchf√ºhren:</strong></p>
<ul>
<li>Navigation: BESS-Analysen ‚Üí BESS-Simulation</li>
<li>Projekt ausw√§hlen</li>
<li>Use Case w√§hlen (z.B. UC1: Eigenverbrauch)</li>
<li>Simulation starten</li>
</ul>
<p><strong>5. Hilfe-System nutzen:</strong></p>
<ul>
<li>Navigation: Benutzer-Dropdown ‚Üí Hilfe &amp; Anleitungen</li>
<li>Schnellzugriff auf alle Funktionen</li>
<li>Detaillierte Anleitungen durchgehen</li>
</ul>
<h3 id="23-docker-installation">2.3 Docker-Installation</h3>
<h4 id="docker-voraussetzungen"><strong>Docker-Voraussetzungen</strong></h4>
<p><strong>Docker installieren:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># Ubuntu/Debian</span>
sudo apt update
sudo apt install docker.io docker-compose

<span class="hljs-comment"># Windows</span>
<span class="hljs-comment"># Docker Desktop von https://docker.com herunterladen</span>

<span class="hljs-comment"># macOS</span>
<span class="hljs-comment"># Docker Desktop von https://docker.com herunterladen</span>

<span class="hljs-comment"># Docker-Version √ºberpr√ºfen</span>
docker --version
docker-compose --version
</div></code></pre>
<p><strong>Docker-Service starten:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># Linux</span>
sudo systemctl start docker
sudo systemctl <span class="hljs-built_in">enable</span> docker

<span class="hljs-comment"># Docker ohne sudo verwenden</span>
sudo usermod -aG docker <span class="hljs-variable">$USER</span>
<span class="hljs-comment"># Nach Anmeldung neu einloggen</span>
</div></code></pre>
<h4 id="docker-compose-installation"><strong>Docker Compose Installation</strong></h4>
<p><strong>docker-compose.yml verwenden:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># In das Projektverzeichnis wechseln</span>
<span class="hljs-built_in">cd</span> bess-simulation

<span class="hljs-comment"># Container starten</span>
docker-compose up -d

<span class="hljs-comment"># Logs anzeigen</span>
docker-compose logs -f

<span class="hljs-comment"># Container stoppen</span>
docker-compose down
</div></code></pre>
<p><strong>Docker Compose Konfiguration:</strong></p>
<pre class="hljs"><code><div><span class="hljs-attr">version:</span> <span class="hljs-string">'3.8'</span>
<span class="hljs-attr">services:</span>
  <span class="hljs-attr">bess-simulation:</span>
    <span class="hljs-attr">build:</span> <span class="hljs-string">.</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"5000:5000"</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./instance:/app/instance</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./logs:/app/logs</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">FLASK_ENV=production</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">FLASK_DEBUG=0</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">unless-stopped</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">redis</span>
      
  <span class="hljs-attr">redis:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">redis:7-alpine</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"6379:6379"</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">unless-stopped</span>
</div></code></pre>
<h4 id="dockerfile-installation"><strong>Dockerfile Installation</strong></h4>
<p><strong>Docker Image erstellen:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># Docker Image bauen</span>
docker build -t bess-simulation .

<span class="hljs-comment"># Image √ºberpr√ºfen</span>
docker images

<span class="hljs-comment"># Container starten</span>
docker run -d \
  --name bess-simulation \
  -p 5000:5000 \
  -v $(<span class="hljs-built_in">pwd</span>)/instance:/app/instance \
  -v $(<span class="hljs-built_in">pwd</span>)/logs:/app/logs \
  bess-simulation

<span class="hljs-comment"># Container-Status √ºberpr√ºfen</span>
docker ps

<span class="hljs-comment"># Logs anzeigen</span>
docker logs bess-simulation
</div></code></pre>
<p><strong>Dockerfile Inhalt:</strong></p>
<pre class="hljs"><code><div><span class="hljs-keyword">FROM</span> python:<span class="hljs-number">3.11</span>-slim

<span class="hljs-comment"># Arbeitsverzeichnis setzen</span>
<span class="hljs-keyword">WORKDIR</span><span class="bash"> /app</span>

<span class="hljs-comment"># System-Abh√§ngigkeiten installieren</span>
<span class="hljs-keyword">RUN</span><span class="bash"> apt-get update &amp;&amp; apt-get install -y \
    gcc \
    g++ \
    &amp;&amp; rm -rf /var/lib/apt/lists/*</span>

<span class="hljs-comment"># Python-Abh√§ngigkeiten kopieren und installieren</span>
<span class="hljs-keyword">COPY</span><span class="bash"> requirements.txt .</span>
<span class="hljs-keyword">RUN</span><span class="bash"> pip install --no-cache-dir -r requirements.txt</span>

<span class="hljs-comment"># Anwendung kopieren</span>
<span class="hljs-keyword">COPY</span><span class="bash"> . .</span>

<span class="hljs-comment"># Port freigeben</span>
<span class="hljs-keyword">EXPOSE</span> <span class="hljs-number">5000</span>

<span class="hljs-comment"># Anwendung starten</span>
<span class="hljs-keyword">CMD</span><span class="bash"> [<span class="hljs-string">"gunicorn"</span>, <span class="hljs-string">"--bind"</span>, <span class="hljs-string">"0.0.0.0:5000"</span>, <span class="hljs-string">"wsgi:application"</span>]</span>
</div></code></pre>
<h4 id="docker-container-verwalten"><strong>Docker-Container verwalten</strong></h4>
<p><strong>Container-Befehle:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># Container starten</span>
docker start bess-simulation

<span class="hljs-comment"># Container stoppen</span>
docker stop bess-simulation

<span class="hljs-comment"># Container neu starten</span>
docker restart bess-simulation

<span class="hljs-comment"># Container entfernen</span>
docker rm bess-simulation

<span class="hljs-comment"># In Container einloggen</span>
docker <span class="hljs-built_in">exec</span> -it bess-simulation bash

<span class="hljs-comment"># Container-Status √ºberpr√ºfen</span>
docker stats bess-simulation
</div></code></pre>
<p><strong>Daten-Persistierung:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># Volumes erstellen</span>
docker volume create bess-data
docker volume create bess-logs

<span class="hljs-comment"># Container mit Volumes starten</span>
docker run -d \
  --name bess-simulation \
  -p 5000:5000 \
  -v bess-data:/app/instance \
  -v bess-logs:/app/logs \
  bess-simulation
</div></code></pre>
<h4 id="docker-produktions-deployment"><strong>Docker-Produktions-Deployment</strong></h4>
<p><strong>Produktions-Docker Compose:</strong></p>
<pre class="hljs"><code><div><span class="hljs-attr">version:</span> <span class="hljs-string">'3.8'</span>
<span class="hljs-attr">services:</span>
  <span class="hljs-attr">bess-simulation:</span>
    <span class="hljs-attr">build:</span> <span class="hljs-string">.</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"5000:5000"</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">bess-data:/app/instance</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">bess-logs:/app/logs</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">FLASK_ENV=production</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">FLASK_DEBUG=0</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">REDIS_URL=redis://redis:6379</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">unless-stopped</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">redis</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">bess-network</span>
      
  <span class="hljs-attr">redis:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">redis:7-alpine</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">unless-stopped</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">bess-network</span>
      
  <span class="hljs-attr">nginx:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">nginx:alpine</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"80:80"</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"443:443"</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./nginx.conf:/etc/nginx/nginx.conf</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./ssl:/etc/nginx/ssl</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">bess-simulation</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">bess-network</span>

<span class="hljs-attr">volumes:</span>
  <span class="hljs-attr">bess-data:</span>
  <span class="hljs-attr">bess-logs:</span>

<span class="hljs-attr">networks:</span>
  <span class="hljs-attr">bess-network:</span>
    <span class="hljs-attr">driver:</span> <span class="hljs-string">bridge</span>
</div></code></pre>
<p><strong>Nginx-Konfiguration:</strong></p>
<pre class="hljs"><code><div><span class="hljs-section">events</span> {
    <span class="hljs-attribute">worker_connections</span> <span class="hljs-number">1024</span>;
}

<span class="hljs-section">http</span> {
    <span class="hljs-attribute">upstream</span> bess-simulation {
        <span class="hljs-attribute">server</span> bess-simulation:<span class="hljs-number">5000</span>;
    }
    
    <span class="hljs-section">server</span> {
        <span class="hljs-attribute">listen</span> <span class="hljs-number">80</span>;
        <span class="hljs-attribute">server_name</span> bess.instanet.at;
        
        <span class="hljs-attribute">location</span> / {
            <span class="hljs-attribute">proxy_pass</span> http://bess-simulation;
            <span class="hljs-attribute">proxy_set_header</span> Host <span class="hljs-variable">$host</span>;
            <span class="hljs-attribute">proxy_set_header</span> X-Real-IP <span class="hljs-variable">$remote_addr</span>;
            <span class="hljs-attribute">proxy_set_header</span> X-Forwarded-For <span class="hljs-variable">$proxy_add_x_forwarded_for</span>;
            <span class="hljs-attribute">proxy_set_header</span> X-Forwarded-Proto <span class="hljs-variable">$scheme</span>;
        }
        
        <span class="hljs-attribute">location</span> /static {
            <span class="hljs-attribute">alias</span> /app/static;
            <span class="hljs-attribute">expires</span> <span class="hljs-number">1y</span>;
            <span class="hljs-attribute">add_header</span> Cache-Control <span class="hljs-string">"public, immutable"</span>;
        }
    }
}
</div></code></pre>
<h3 id="produktions-deployment-hetzner">Produktions-Deployment (Hetzner)</h3>
<h4 id="1-server-vorbereiten">1. Server vorbereiten</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># SSH-Verbindung</span>
ssh root@[HETZNER-IP]

<span class="hljs-comment"># System aktualisieren</span>
apt update &amp;&amp; apt upgrade -y

<span class="hljs-comment"># Python und Git installieren</span>
apt install python3 python3-pip git nginx -y
</div></code></pre>
<h4 id="2-anwendung-deployen">2. Anwendung deployen</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Repository klonen</span>
git <span class="hljs-built_in">clone</span> https://github.com/HSchlagi/bess-simulation.git
<span class="hljs-built_in">cd</span> bess-simulation

<span class="hljs-comment"># Virtual Environment</span>
python3 -m venv venv
<span class="hljs-built_in">source</span> venv/bin/activate

<span class="hljs-comment"># Abh√§ngigkeiten installieren</span>
pip install -r requirements.txt

<span class="hljs-comment"># Datenbank initialisieren</span>
python init_db.py
</div></code></pre>
<h4 id="3-systemd-service-einrichten">3. Systemd-Service einrichten</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Service-Datei erstellen</span>
sudo nano /etc/systemd/system/bess.service
</div></code></pre>
<p><strong>Service-Konfiguration:</strong></p>
<pre class="hljs"><code><div><span class="hljs-section">[Unit]</span>
<span class="hljs-attr">Description</span>=BESS Simulation Flask App
<span class="hljs-attr">After</span>=network.target

<span class="hljs-section">[Service]</span>
<span class="hljs-attr">User</span>=www-data
<span class="hljs-attr">Group</span>=www-data
<span class="hljs-attr">WorkingDirectory</span>=/opt/bess-simulation
<span class="hljs-attr">Environment</span>=PATH=/opt/bess-simulation/venv/bin
<span class="hljs-attr">ExecStart</span>=/opt/bess-simulation/venv/bin/gunicorn --workers <span class="hljs-number">3</span> --bind <span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">5000</span> wsgi:application

<span class="hljs-section">[Install]</span>
<span class="hljs-attr">WantedBy</span>=multi-user.target
</div></code></pre>
<h4 id="4-nginx-konfigurieren">4. Nginx konfigurieren</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Nginx-Konfiguration</span>
sudo nano /etc/nginx/sites-available/bess
</div></code></pre>
<p><strong>Nginx-Konfiguration:</strong></p>
<pre class="hljs"><code><div><span class="hljs-section">server</span> {
    <span class="hljs-attribute">listen</span> <span class="hljs-number">80</span>;
    <span class="hljs-attribute">server_name</span> bess.instanet.at;

    <span class="hljs-attribute">location</span> / {
        <span class="hljs-attribute">proxy_pass</span> http://127.0.0.1:5000;
        <span class="hljs-attribute">proxy_set_header</span> Host <span class="hljs-variable">$host</span>;
        <span class="hljs-attribute">proxy_set_header</span> X-Real-IP <span class="hljs-variable">$remote_addr</span>;
        <span class="hljs-attribute">proxy_set_header</span> X-Forwarded-For <span class="hljs-variable">$proxy_add_x_forwarded_for</span>;
        <span class="hljs-attribute">proxy_set_header</span> X-Forwarded-Proto <span class="hljs-variable">$scheme</span>;
    }

    <span class="hljs-attribute">location</span> /static {
        <span class="hljs-attribute">alias</span> /opt/bess-simulation/app/static;
        <span class="hljs-attribute">expires</span> <span class="hljs-number">1y</span>;
        <span class="hljs-attribute">add_header</span> Cache-Control <span class="hljs-string">"public, immutable"</span>;
    }
}
</div></code></pre>
<h4 id="5-services-starten">5. Services starten</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Services aktivieren</span>
sudo systemctl <span class="hljs-built_in">enable</span> bess
sudo systemctl start bess
sudo systemctl <span class="hljs-built_in">enable</span> nginx
sudo systemctl restart nginx
</div></code></pre>
<hr>
<h2 id="%F0%9F%93%96-benutzerhandbuch">üìñ Benutzerhandbuch</h2>
<h3 id="erste-schritte">Erste Schritte</h3>
<h4 id="1-anmeldung">1. Anmeldung</h4>
<ul>
<li><strong>URL:</strong> https://bess.instanet.at</li>
<li><strong>Standard-Login:</strong> office@instanet.at</li>
<li><strong>Passwort:</strong> [Wird bei Installation gesetzt]</li>
</ul>
<h4 id="2-dashboard-erkunden">2. Dashboard erkunden</h4>
<p>Das <strong>Dashboard</strong> bietet einen √úberblick √ºber:</p>
<ul>
<li><strong>Projekt-Statistiken</strong> (Anzahl, Kapazit√§t, Status)</li>
<li><strong>System-Status</strong> (Server, Datenbank, APIs)</li>
<li><strong>Schnellzugriff</strong> auf wichtige Funktionen</li>
</ul>
<h3 id="projekt-management">Projekt-Management</h3>
<h4 id="neues-projekt-erstellen">Neues Projekt erstellen</h4>
<ol>
<li>
<p><strong>Navigation:</strong> Projekte ‚Üí Neues Projekt</p>
</li>
<li>
<p><strong>Grunddaten eingeben:</strong></p>
<ul>
<li>Projektname</li>
<li>Standort (PLZ, Bundesland)</li>
<li>Kunde zuordnen</li>
<li>Beschreibung</li>
</ul>
</li>
<li>
<p><strong>BESS-Parameter konfigurieren:</strong></p>
<ul>
<li><strong>Kapazit√§t:</strong> BESS-Gr√∂√üe in MWh</li>
<li><strong>Leistung:</strong> Max. Lade-/Entladeleistung in MW</li>
<li><strong>Wirkungsgrad:</strong> Lade-/Entladeeffizienz</li>
<li><strong>T√§gliche Zyklen:</strong> Erwartete Nutzung</li>
</ul>
</li>
<li>
<p><strong>Speichern:</strong> Auto-Save aktiviert (alle 30 Sekunden)</p>
</li>
</ol>
<h4 id="projekt-bearbeiten">Projekt bearbeiten</h4>
<ol>
<li><strong>Projekt ausw√§hlen:</strong> Projekte ‚Üí Alle Projekte</li>
<li><strong>Bearbeiten:</strong> Klick auf Projektname</li>
<li><strong>√Ñnderungen vornehmen</strong></li>
<li><strong>Speichern:</strong> Automatisch oder manuell (Ctrl+S)</li>
</ol>
<h3 id="simulation-durchf%C3%BChren">Simulation durchf√ºhren</h3>
<h4 id="1-bess-simulation-starten">1. BESS-Simulation starten</h4>
<p><strong>Navigation:</strong> BESS-Analysen ‚Üí BESS-Simulation</p>
<p><strong>Schritte:</strong></p>
<ol>
<li>
<p><strong>Projekt ausw√§hlen</strong> aus Dropdown</p>
</li>
<li>
<p><strong>Use Case w√§hlen:</strong></p>
<ul>
<li><strong>UC1:</strong> Eigenverbrauch</li>
<li><strong>UC2:</strong> Peak Shaving</li>
<li><strong>UC3:</strong> Intraday-Arbitrage</li>
<li><strong>UC4:</strong> Regelreserve</li>
</ul>
</li>
<li>
<p><strong>Parameter anpassen:</strong></p>
<ul>
<li>Investitionskosten</li>
<li>Betriebskosten</li>
<li>Strompreise</li>
<li>Degradation</li>
</ul>
</li>
<li>
<p><strong>Simulation starten:</strong> Button &quot;Simulation starten&quot;</p>
</li>
</ol>
<h4 id="2-ergebnisse-interpretieren">2. Ergebnisse interpretieren</h4>
<p><strong>Wirtschaftlichkeits-KPIs:</strong></p>
<ul>
<li><strong>NPV:</strong> Net Present Value</li>
<li><strong>IRR:</strong> Internal Rate of Return</li>
<li><strong>Payback:</strong> Amortisationszeit</li>
<li><strong>LCOE:</strong> Levelized Cost of Energy</li>
</ul>
<p><strong>Charts:</strong></p>
<ul>
<li><strong>Cashflow-Verlauf</strong> √ºber 10 Jahre</li>
<li><strong>BESS-Nutzung</strong> (SoC, Zyklen)</li>
<li><strong>Erl√∂saufschl√ºsselung</strong> nach Quellen</li>
</ul>
<h4 id="3-export-funktionen">3. Export-Funktionen</h4>
<p><strong>Verf√ºgbare Formate:</strong></p>
<ul>
<li><strong>PDF:</strong> Vollst√§ndiger Bericht</li>
<li><strong>Excel:</strong> Rohdaten und Charts</li>
<li><strong>CSV:</strong> Zeitreihen-Daten</li>
</ul>
<h3 id="dispatch--redispatch">Dispatch &amp; Redispatch</h3>
<h4 id="1-dispatch-interface-%C3%B6ffnen">1. Dispatch-Interface √∂ffnen</h4>
<p><strong>Navigation:</strong> BESS-Analysen ‚Üí Dispatch &amp; Redispatch</p>
<h4 id="2-simulation-konfigurieren">2. Simulation konfigurieren</h4>
<p><strong>Parameter:</strong></p>
<ul>
<li><strong>Zeitraum:</strong> Start- und Enddatum</li>
<li><strong>Aufl√∂sung:</strong> 15min, 30min, 60min</li>
<li><strong>Modus:</strong> Baseline, Redispatch</li>
<li><strong>Markt:</strong> Spot, Intraday, Regelreserve</li>
</ul>
<h4 id="3-simulation-ausf%C3%BChren">3. Simulation ausf√ºhren</h4>
<ol>
<li><strong>&quot;Dispatch starten&quot;</strong> klicken</li>
<li><strong>Lade-Animation</strong> abwarten</li>
<li><strong>Ergebnisse analysieren:</strong>
<ul>
<li>SoC-Verlauf</li>
<li>Cashflow-Chart</li>
<li>KPI-√úbersicht</li>
</ul>
</li>
</ol>
<h3 id="ml--ki-dashboard">ML &amp; KI Dashboard</h3>
<h4 id="1-ml--ki-dashboard-%C3%B6ffnen">1. ML &amp; KI Dashboard √∂ffnen</h4>
<p><strong>Navigation:</strong> Daten ‚Üí ML &amp; KI Dashboard</p>
<p>Das <strong>ML &amp; KI Dashboard</strong> bietet intelligente Analysen und Vorhersagen f√ºr optimale BESS-Performance:</p>
<h4 id="2-verf%C3%BCgbare-ki-features">2. Verf√ºgbare KI-Features</h4>
<p><strong>Preisprognose:</strong></p>
<ul>
<li><strong>Ziel:</strong> Vorhersage von Strompreisen f√ºr optimale Handelsstrategien</li>
<li><strong>Algorithmus:</strong> Random Forest Regressor</li>
<li><strong>Genauigkeit:</strong> ~87% (Demo-Modus)</li>
<li><strong>Zeithorizont:</strong> 24-168 Stunden</li>
<li><strong>Anwendung:</strong> Intraday-Trading, Arbitrage-Optimierung</li>
</ul>
<p><strong>BESS-Optimierung:</strong></p>
<ul>
<li><strong>Ziel:</strong> Automatische Parameter-Optimierung f√ºr maximale Wirtschaftlichkeit</li>
<li><strong>Algorithmus:</strong> Grid Search mit Wirtschaftlichkeitsmodell</li>
<li><strong>Optimiert:</strong> Kapazit√§t, Leistung, Zyklen, Effizienz</li>
<li><strong>Ergebnis:</strong> Optimale BESS-Konfiguration mit ROI-Berechnung</li>
</ul>
<p><strong>Anomalie-Erkennung:</strong></p>
<ul>
<li><strong>Ziel:</strong> Erkennung ungew√∂hnlicher Lastprofile und Systemverhalten</li>
<li><strong>Algorithmus:</strong> Isolation Forest</li>
<li><strong>Erkennt:</strong> Spitzenlasten, Ausf√§lle, ungew√∂hnliche Verbrauchsmuster</li>
<li><strong>Benachrichtigung:</strong> Automatische Alerts bei kritischen Anomalien</li>
</ul>
<p><strong>Predictive Maintenance:</strong></p>
<ul>
<li><strong>Ziel:</strong> Vorhersage von Wartungsbedarf und Degradation</li>
<li><strong>Algorithmus:</strong> Linear Regression mit Degradationsmodell</li>
<li><strong>Vorhersagt:</strong> Restlebensdauer, Wartungsintervalle, Performance-Verlust</li>
<li><strong>Empfehlungen:</strong> Konkrete Wartungsma√ünahmen</li>
</ul>
<h4 id="3-dashboard-verwenden">3. Dashboard verwenden</h4>
<p><strong>Schritt 1: Projekt ausw√§hlen</strong></p>
<ol>
<li><strong>Dropdown-Men√º</strong> &quot;Projekt ausw√§hlen&quot; √∂ffnen</li>
<li><strong>Gew√ºnschtes Projekt</strong> aus der Liste w√§hlen</li>
<li><strong>&quot;Daten laden&quot;</strong> Button klicken</li>
<li><strong>Toast-Benachrichtigung</strong> best√§tigt erfolgreiches Laden</li>
</ol>
<p><strong>Schritt 2: KI-Analysen durchf√ºhren</strong></p>
<p><strong>Preisprognose starten:</strong></p>
<ol>
<li><strong>&quot;Preisprognose starten&quot;</strong> Button klicken</li>
<li><strong>Lade-Animation</strong> abwarten (3-5 Sekunden)</li>
<li><strong>Chart-Ergebnis</strong> wird angezeigt:
<ul>
<li>Zeitreihe der prognostizierten Preise</li>
<li>Konfidenz-Intervall</li>
<li>Trend-Analyse</li>
</ul>
</li>
</ol>
<p><strong>BESS-Optimierung durchf√ºhren:</strong></p>
<ol>
<li><strong>&quot;BESS optimieren&quot;</strong> Button klicken</li>
<li><strong>Optimierungsprozess</strong> l√§uft (5-10 Sekunden)</li>
<li><strong>Ergebnisse werden angezeigt:</strong>
<ul>
<li>Optimale BESS-Parameter</li>
<li>Wirtschaftlichkeits-KPIs</li>
<li>ROI-Vergleich</li>
</ul>
</li>
</ol>
<p><strong>Anomalien erkennen:</strong></p>
<ol>
<li><strong>&quot;Anomalien erkennen&quot;</strong> Button klicken</li>
<li><strong>Analyse l√§uft</strong> (2-3 Sekunden)</li>
<li><strong>Anomalie-Liste</strong> wird angezeigt:
<ul>
<li>Zeitstempel der Anomalien</li>
<li>Schweregrad (niedrig/mittel/hoch)</li>
<li>Typ der Anomalie</li>
</ul>
</li>
</ol>
<p><strong>Wartung vorhersagen:</strong></p>
<ol>
<li><strong>&quot;Wartung vorhersagen&quot;</strong> Button klicken</li>
<li><strong>Berechnung l√§uft</strong> (2-3 Sekunden)</li>
<li><strong>Wartungsempfehlungen</strong> werden angezeigt:
<ul>
<li>Restlebensdauer in Monaten</li>
<li>Degradationsrate</li>
<li>Konkrete Wartungsma√ünahmen</li>
</ul>
</li>
</ol>
<h4 id="4-ergebnisse-interpretieren">4. Ergebnisse interpretieren</h4>
<p><strong>Preisprognose-Chart:</strong></p>
<ul>
<li><strong>Blaue Linie:</strong> Prognostizierte Preise</li>
<li><strong>Grauer Bereich:</strong> Konfidenz-Intervall</li>
<li><strong>X-Achse:</strong> Zeit (Stunden)</li>
<li><strong>Y-Achse:</strong> Preis (EUR/MWh)</li>
</ul>
<p><strong>BESS-Optimierung:</strong></p>
<ul>
<li><strong>Gr√ºne Karten:</strong> Optimierte Parameter</li>
<li><strong>Gelbe Karten:</strong> Wirtschaftlichkeits-KPIs</li>
<li><strong>ROI:</strong> Return on Investment in Prozent</li>
<li><strong>NPV:</strong> Net Present Value in EUR</li>
</ul>
<p><strong>Anomalie-Erkennung:</strong></p>
<ul>
<li><strong>Rote Karten:</strong> Kritische Anomalien</li>
<li><strong>Gelbe Karten:</strong> Mittlere Anomalien</li>
<li><strong>Gr√ºne Karten:</strong> Geringe Anomalien</li>
<li><strong>Zeitstempel:</strong> Wann die Anomalie aufgetreten ist</li>
</ul>
<p><strong>Predictive Maintenance:</strong></p>
<ul>
<li><strong>Degradationsrate:</strong> Prozent pro Monat</li>
<li><strong>Restlebensdauer:</strong> In Monaten</li>
<li><strong>Wartungsempfehlungen:</strong> Konkrete Ma√ünahmen</li>
</ul>
<h4 id="5-praktische-anwendung">5. Praktische Anwendung</h4>
<p><strong>F√ºr Intraday-Trading:</strong></p>
<ol>
<li><strong>Preisprognose</strong> vor Markt√∂ffnung abrufen</li>
<li><strong>Optimale Handelszeiten</strong> identifizieren</li>
<li><strong>Dispatch-Strategie</strong> entsprechend anpassen</li>
</ol>
<p><strong>F√ºr Systemoptimierung:</strong></p>
<ol>
<li><strong>BESS-Optimierung</strong> regelm√§√üig durchf√ºhren</li>
<li><strong>Parameter anpassen</strong> basierend auf Ergebnissen</li>
<li><strong>Wirtschaftlichkeit</strong> kontinuierlich verbessern</li>
</ol>
<p><strong>F√ºr Wartungsplanung:</strong></p>
<ol>
<li><strong>Predictive Maintenance</strong> monatlich abrufen</li>
<li><strong>Wartungsintervalle</strong> entsprechend planen</li>
<li><strong>Kosten</strong> f√ºr vorbeugende Wartung optimieren</li>
</ol>
<p><strong>F√ºr Qualit√§tssicherung:</strong></p>
<ol>
<li><strong>Anomalie-Erkennung</strong> t√§glich √ºberpr√ºfen</li>
<li><strong>Ungew√∂hnliche Muster</strong> schnell identifizieren</li>
<li><strong>Probleme</strong> proaktiv beheben</li>
</ol>
<h4 id="6-technische-details">6. Technische Details</h4>
<p><strong>Datenquellen:</strong></p>
<ul>
<li><strong>Historische Spot-Preise:</strong> APG, ENTSO-E</li>
<li><strong>Lastprofile:</strong> Projekt-spezifische Daten</li>
<li><strong>BESS-Parameter:</strong> Aus Projekt-Konfiguration</li>
<li><strong>Wartungshistorie:</strong> System-Logs und Metriken</li>
</ul>
<p><strong>Modell-Training:</strong></p>
<ul>
<li><strong>Automatisches Training:</strong> Bei neuen Daten</li>
<li><strong>Modell-Updates:</strong> W√∂chentlich</li>
<li><strong>Performance-Monitoring:</strong> Kontinuierlich</li>
</ul>
<p><strong>API-Integration:</strong></p>
<ul>
<li><strong>REST-API:</strong> F√ºr alle KI-Features</li>
<li><strong>Real-time:</strong> Sofortige Ergebnisse</li>
<li><strong>Fallback:</strong> Demo-Daten bei API-Fehlern</li>
</ul>
<h3 id="datenimport">Datenimport</h3>
<h4 id="1-datenimport-center">1. Datenimport-Center</h4>
<p><strong>Navigation:</strong> Daten ‚Üí Datenimport-Center</p>
<h4 id="2-spot-preise-importieren">2. Spot-Preise importieren</h4>
<p><strong>Unterst√ºtzte Formate:</strong></p>
<ul>
<li><strong>CSV:</strong> Mit Datum/Zeit und Preis</li>
<li><strong>Excel:</strong> XLSX-Dateien</li>
<li><strong>API:</strong> Automatischer Import (APG, ENTSO-E, aWattar)</li>
</ul>
<p><strong>Schritte:</strong></p>
<ol>
<li><strong>Datei ausw√§hlen</strong></li>
<li><strong>Spalten zuordnen</strong> (Datum, Preis)</li>
<li><strong>Import starten</strong></li>
<li><strong>Datenvorschau</strong> pr√ºfen</li>
</ol>
<p><strong>Spot-Preis-Dashboard-Funktionen (2025-11 Update):</strong></p>
<ul>
<li><strong>Quellenwahl:</strong> <code>ENTSO-E A44</code>, <code>APG</code>, <code>aWATTar</code> oder <code>ENTSO-E + APG kombiniert</code></li>
<li><strong>Statuskarten:</strong> Anzeigen der aktuellen Datenquelle inkl. ‚Äû‚úÖ Echte ‚Ä¶ Daten‚Äú und Mengenaufschl√ºsselung</li>
<li><strong>Quellenlegende:</strong> Farbcodierte Darstellung (Chart.js) der Quellenanteile basierend auf <code>source_summary</code></li>
<li><strong>Tooltips:</strong> Zeigen Preis und die zugeh√∂rige Quelle (<code>APG</code>, <code>ENTSO-E</code>, <code>aWATTar</code>) pro Datenpunkt</li>
<li><strong>Kombinierte Ansicht:</strong> Mischt Daten aus allen Quellen, hebt per Farbe und Legende die Herkunft hervor</li>
</ul>
<h4 id="21-awattar-api-integration">2.1 aWattar API Integration</h4>
<p><strong>Navigation:</strong> Daten ‚Üí aWattar API</p>
<p><strong>Funktionen:</strong></p>
<ul>
<li><strong>Automatischer Import:</strong> T√§glich um 14:00 Uhr (n√§chster Tag) und 15:00 Uhr (aktueller Tag)</li>
<li><strong>Manueller Import:</strong> √úber Import-Buttons</li>
<li><strong>Echtzeit-Status:</strong> API-Verbindung, Datenbank-Records, neuester Preis</li>
<li><strong>Preisverlauf:</strong> Chart der letzten 24 Stunden</li>
<li><strong>Integrationstest:</strong> √úberpr√ºfung der API-Verbindung</li>
</ul>
<p><strong>Technische Details:</strong></p>
<ul>
<li><strong>API-Endpoint:</strong> <code>https://api.awattar.at/v1/marketdata</code></li>
<li><strong>Datenformat:</strong> JSON mit Timestamp und Preis in ‚Ç¨/MWh</li>
<li><strong>Speicherung:</strong> SQLite-Datenbank (SpotPrice-Tabelle)</li>
<li><strong>Deduplizierung:</strong> Automatische Vermeidung von Duplikaten</li>
<li><strong>Scheduler:</strong> Python <code>schedule</code> Library f√ºr automatische Abrufe</li>
</ul>
<p><strong>Zeitplan:</strong></p>
<ul>
<li><strong>14:00 Uhr:</strong> Import f√ºr n√§chsten Tag (wie von aWattar empfohlen)</li>
<li><strong>15:00 Uhr:</strong> Zus√§tzlicher Import f√ºr aktuellen Tag</li>
<li><strong>Sonntag 16:00:</strong> W√∂chentlicher historischer Import und Cleanup</li>
<li><strong>St√ºndlich:</strong> Health Check des Systems</li>
</ul>
<p><strong>Status-√úberwachung:</strong></p>
<ul>
<li><strong>API-Verbindung:</strong> Gr√ºner Haken bei erfolgreicher Verbindung</li>
<li><strong>Datenbank-Records:</strong> Anzahl gespeicherter Datens√§tze</li>
<li><strong>Letzte 24h:</strong> Anzahl neuer Datens√§tze</li>
<li><strong>Neuester Preis:</strong> Aktueller Marktpreis in ‚Ç¨/MWh</li>
</ul>
<h4 id="22-smart-grid-integration">2.2 Smart Grid Integration</h4>
<p><strong>Navigation:</strong> Daten ‚Üí Datenimport-Center ‚Üí Smart Grid</p>
<p><strong>Funktionen:</strong></p>
<ul>
<li><strong>Frequenzregelung (FCR):</strong> Prim√§re Frequenzregelung mit 30 Sekunden Response-Zeit</li>
<li><strong>Automatische Frequenzregelung (aFRR):</strong> Sekund√§re Frequenzregelung mit 5 Minuten Response-Zeit</li>
<li><strong>Manuelle Frequenzregelung (mFRR):</strong> Terti√§re Frequenzregelung mit 12.5 Minuten Response-Zeit</li>
<li><strong>Spannungshaltung:</strong> Reactive Power Management mit 1 Minute Response-Zeit</li>
<li><strong>Demand Response:</strong> Laststeuerung mit 15 Minuten Response-Zeit</li>
<li><strong>Grid Stability Monitoring:</strong> Echtzeit√ºberwachung der Netzstabilit√§t</li>
</ul>
<p><strong>Technische Details:</strong></p>
<ul>
<li><strong>Multi-Grid-Area Support:</strong> √ñsterreich, Deutschland, Schweiz, Italien, Tschechien, Slowakei, Ungarn, Slowenien</li>
<li><strong>Demo-Modus:</strong> Vollst√§ndige Funktionalit√§t auch ohne API-Keys</li>
<li><strong>Rate Limiting:</strong> Intelligente API-Anfragen mit automatischem Throttling</li>
<li><strong>Speicherung:</strong> SQLite-Datenbank (GridServiceData, GridStabilityData)</li>
<li><strong>Scheduler:</strong> Python <code>schedule</code> Library f√ºr automatische Abrufe</li>
</ul>
<p><strong>Zeitplan:</strong></p>
<ul>
<li><strong>FCR:</strong> alle 15 Minuten (prim√§re Frequenzregelung)</li>
<li><strong>aFRR:</strong> alle 30 Minuten (sekund√§re Frequenzregelung)</li>
<li><strong>mFRR:</strong> st√ºndlich (terti√§re Frequenzregelung)</li>
<li><strong>Spannungshaltung:</strong> alle 10 Minuten (Reactive Power)</li>
<li><strong>Demand Response:</strong> st√ºndlich (Laststeuerung)</li>
<li><strong>Alle Services:</strong> t√§glich 00:00 Uhr (Vollst√§ndiger Import)</li>
<li><strong>API-Test:</strong> alle 6 Stunden</li>
<li><strong>Bereinigung:</strong> Sonntag 03:00 Uhr</li>
</ul>
<h4 id="23-iot-sensor-integration">2.3 IoT-Sensor-Integration</h4>
<p><strong>Navigation:</strong> Daten ‚Üí Datenimport-Center ‚Üí IoT</p>
<p><strong>Funktionen:</strong></p>
<ul>
<li><strong>Batterie-Sensoren:</strong> BESS Monitoring (SOC, SOH, Temperatur, Spannung, Strom, Zyklen)</li>
<li><strong>PV-Sensoren:</strong> Photovoltaik-Monitoring (Leistung, Spannung, Strom, Temperatur, Einstrahlung, Effizienz)</li>
<li><strong>Grid-Sensoren:</strong> Netz-Monitoring (Spannung, Frequenz, Power Factor, Active/Reactive Power)</li>
<li><strong>Umgebungs-Sensoren:</strong> Wetter &amp; Umwelt (Temperatur, Luftfeuchtigkeit, Wind, Luftdruck)</li>
</ul>
<p><strong>Technische Details:</strong></p>
<ul>
<li><strong>Multi-Protokoll Support:</strong> Modbus TCP, MQTT, OPC UA, HTTP REST</li>
<li><strong>Real-time Monitoring:</strong> Kontinuierliche √úberwachung aller BESS-Komponenten</li>
<li><strong>Demo-Modus:</strong> Vollst√§ndige Funktionalit√§t auch ohne API-Keys</li>
<li><strong>Rate Limiting:</strong> Intelligente API-Anfragen mit automatischem Throttling</li>
</ul>
<h4 id="24-geosphere-wind-integration-%E2%AD%90-neu">2.4 GeoSphere-Wind-Integration ‚≠ê NEU</h4>
<p><strong>Navigation:</strong> Daten ‚Üí Datenimport-Center ‚Üí Wetterdaten ‚Üí GeoSphere Wind (Co-Location)</p>
<p><strong>Funktionen:</strong></p>
<ul>
<li><strong>Automatischer Import:</strong> Historische Winddaten von GeoSphere Austria API</li>
<li><strong>15-Minuten-Werte:</strong> Pr√§zise Windleistungszeitreihen f√ºr Co-Location-Simulationen</li>
<li><strong>Stationen-Auswahl:</strong> Intelligente Auswahl basierend auf Windrad-Standort</li>
<li><strong>Windleistungsberechnung:</strong> Hubh√∂hen-Umrechnung, Power-Curve, Verlustfaktoren</li>
<li><strong>Datenvorschau:</strong> Vollst√§ndige Integration in Datenvorschau mit Statistiken und Charts</li>
</ul>
<p><strong>Schritte:</strong></p>
<ol>
<li><strong>Projekt ausw√§hlen</strong> im Datenimport-Center</li>
<li><strong>Tab &quot;Wetterdaten&quot;</strong> √∂ffnen</li>
<li><strong>&quot;GeoSphere Wind (Co-Location)&quot;</strong> Kachel anklicken</li>
<li><strong>Konfiguration eingeben:</strong>
<ul>
<li>Resource ID (z.B. <code>klima-v1-10min</code>)</li>
<li>Station aus Dropdown ausw√§hlen (automatisch geladen)</li>
<li>Parameter: <code>FF</code> (Windgeschwindigkeit)</li>
<li>Zeitraum: Start- und End-Datum (ISO8601-Format)</li>
<li>Turbinen-Parameter: Hubh√∂he, Alpha, Nennleistung, Verluste</li>
</ul>
</li>
<li><strong>&quot;Import starten&quot;</strong> klicken</li>
<li><strong>Erfolgs-Benachrichtigung</strong> mit KPIs pr√ºfen</li>
</ol>
<p><strong>Technische Details:</strong></p>
<ul>
<li><strong>API-Endpoint:</strong> <code>https://dataset.api.hub.geosphere.at/v1/station/historical/{resource_id}</code></li>
<li><strong>Unterst√ºtzte Resource IDs:</strong>
<ul>
<li><code>klima-v1-10min</code> - 10-Minuten-Daten (empfohlen)</li>
<li><code>klima-v1-1h</code> - Stunden-Daten</li>
<li><code>synop-v1-1h</code> - Synop-Daten (Stunden)</li>
</ul>
</li>
<li><strong>Verf√ºgbare Stationen:</strong> 260+ √∂sterreichische Messstationen</li>
<li><strong>Datenformat:</strong> GeoJSON mit <code>timestamps[]</code> und <code>features[].properties.parameters.FF.data[]</code></li>
<li><strong>Speicherung:</strong> SQLite-Datenbank (<code>wind_data</code>, <code>wind_value</code> Tabellen)</li>
<li><strong>Berechnung:</strong> Hubh√∂hen-Umrechnung ‚Üí Power-Curve ‚Üí Verluste ‚Üí Energie</li>
</ul>
<p><strong>Windleistungsberechnung:</strong></p>
<ol>
<li><strong>Hubh√∂hen-Umrechnung:</strong> <code>v_hub = v_10m * (hub_height / 10)^alpha</code></li>
<li><strong>Power-Curve-Anwendung:</strong> Interpolation basierend auf Windgeschwindigkeit</li>
<li><strong>Verlustfaktoren:</strong> Nettoleistung = Rohleistung * (1 - Verlustfaktor)</li>
<li><strong>Energieberechnung:</strong> <code>E_kWh = P_net_kW * (Zeitintervall_in_Stunden)</code></li>
</ol>
<p><strong>Stationen-Auswahl:</strong></p>
<ul>
<li><strong>Automatisches Laden:</strong> Stationen werden basierend auf Resource ID geladen</li>
<li><strong>Koordinaten-Anzeige:</strong> Latitude/Longitude zur Standortpr√ºfung</li>
<li><strong>H√∂hen-Information:</strong> Station-H√∂he wird angezeigt</li>
<li><strong>Empfohlene Stationen:</strong>
<ul>
<li><code>5904</code> - Wien-Hohe Warte</li>
<li><code>11301</code> - Graz/Schr√∂cken</li>
<li><code>5000</code> - H√∂rsching</li>
<li><code>6300</code> - Salzburg-Flughafen</li>
<li><code>11804</code> - Innsbruck-Flughafen</li>
</ul>
</li>
</ul>
<p><strong>Datenvorschau:</strong></p>
<ul>
<li><strong>Navigation:</strong> Daten ‚Üí Datenvorschau</li>
<li><strong>Auswahl:</strong> Projekt ‚Üí Datenart &quot;Winddaten (GeoSphere)&quot; ‚Üí Zeitraum</li>
<li><strong>Anzeige:</strong>
<ul>
<li>Statistiken: Max, Durchschnitt, Min, Datens√§tze</li>
<li>Chart-Visualisierung √ºber Zeit</li>
<li>Rohdaten-Tabelle mit Export-Funktion</li>
<li><strong>Jahresertrag-Anzeige:</strong> Automatische Berechnung und Anzeige des Jahresertrags (kWh/Jahr und MWh/a)</li>
</ul>
</li>
</ul>
<p><strong>Fehlerbehandlung:</strong></p>
<ul>
<li>Detaillierte Fehlermeldungen bei API-Fehlern</li>
<li>Diagnose-Informationen (Anzahl Zeitstempel, null-Werte)</li>
<li>Hinweise zu verf√ºgbaren Stationen und Resource IDs</li>
<li>Debug-URLs f√ºr manuelles Testen</li>
</ul>
<p><strong>API-Endpunkte:</strong></p>
<ul>
<li><code>POST /api/geosphere/wind/import</code> - Winddaten-Import</li>
<li><code>GET /api/geosphere/stations?resource_id={id}</code> - Verf√ºgbare Stationen</li>
<li><code>POST /api/projects/{id}/data/wind</code> - Winddaten abrufen</li>
</ul>
<p><strong>API-Endpunkte:</strong></p>
<ul>
<li><code>GET /api/awattar/status</code> - System-Status und Statistiken</li>
<li><code>GET /api/awattar/latest</code> - Neueste Preisdaten</li>
<li><code>POST /api/awattar/fetch</code> - Manueller Datenimport</li>
<li><code>GET /api/awattar/test</code> - API-Verbindungstest</li>
</ul>
<h4 id="3-lastprofile-importieren">3. Lastprofile importieren</h4>
<p><strong>Verwendung:</strong></p>
<ul>
<li><strong>Haushaltslastprofile</strong> f√ºr Eigenverbrauch</li>
<li><strong>Gewerbelastprofile</strong> f√ºr Peak Shaving</li>
<li><strong>Industrielastprofile</strong> f√ºr Gro√üanlagen</li>
</ul>
<h3 id="export--reporting">Export &amp; Reporting</h3>
<h4 id="1-export-zentrum">1. Export-Zentrum</h4>
<p><strong>Navigation:</strong> Daten ‚Üí Export-Zentrum</p>
<h4 id="2-berichte-generieren">2. Berichte generieren</h4>
<p><strong>Verf√ºgbare Berichte:</strong></p>
<ul>
<li><strong>Projekt-√úbersicht:</strong> Alle Projekte</li>
<li><strong>Simulations-Ergebnisse:</strong> Detaillierte Analysen</li>
<li><strong>Wirtschaftlichkeits-Bericht:</strong> KPI-Zusammenfassung</li>
<li><strong>Dispatch-Analyse:</strong> Betriebsoptimierung</li>
</ul>
<h4 id="3-export-formate">3. Export-Formate</h4>
<p><strong>PDF-Export:</strong></p>
<ul>
<li>Professionelle Berichte</li>
<li>Charts und Grafiken</li>
<li>Zusammenfassungen</li>
</ul>
<p><strong>Excel-Export:</strong></p>
<ul>
<li>Rohdaten</li>
<li>Berechnungen</li>
<li>Pivot-Tabellen</li>
</ul>
<h3 id="multi-user-system-und-berechtigungen">Multi-User-System und Berechtigungen</h3>
<h4 id="1-admin-dashboard">1. Admin-Dashboard</h4>
<p><strong>Navigation:</strong> Benutzer-Dropdown ‚Üí Admin-Dashboard</p>
<p>Das Admin-Dashboard bietet Administratoren umfassende Verwaltungsfunktionen f√ºr das gesamte System.</p>
<p><strong>Verf√ºgbare Funktionen:</strong></p>
<ul>
<li><strong>Benutzerverwaltung:</strong> Erstellen, bearbeiten und l√∂schen von Benutzern</li>
<li><strong>Rollenverwaltung:</strong> Zuweisen von Admin, User und Viewer-Rollen</li>
<li><strong>BESS-Zuordnung:</strong> Verwaltung der Live-BESS-Systeme</li>
<li><strong>System-Monitoring:</strong> √úberwachung der Systemleistung</li>
<li><strong>Audit-Log:</strong> Protokollierung aller Benutzeraktivit√§ten</li>
</ul>
<h4 id="2-bess-projekt-zuordnung">2. BESS-Projekt-Zuordnung</h4>
<p><strong>Navigation:</strong> Admin-Dashboard ‚Üí BESS-Zuordnung</p>
<p>Die BESS-Projekt-Zuordnung erm√∂glicht es, Live-BESS-Speichersysteme mit Projekten zu verkn√ºpfen und MQTT-Verbindungen zu konfigurieren.</p>
<h5 id="21-neue-bess-zuordnung-erstellen">2.1 Neue BESS-Zuordnung erstellen</h5>
<p><strong>Schritt-f√ºr-Schritt Anleitung:</strong></p>
<ol>
<li>
<p><strong>Projekt ausw√§hlen:</strong></p>
<ul>
<li>Dropdown-Men√º &quot;Projekt ausw√§hlen&quot; √∂ffnen</li>
<li>Gew√ºnschtes Projekt aus der Datenbank ausw√§hlen</li>
<li>System zeigt verf√ºgbare Projekte an</li>
</ul>
</li>
<li>
<p><strong>BESS-Grunddaten eingeben:</strong></p>
<ul>
<li><strong>BESS-Name:</strong> Eindeutiger Name f√ºr das Speichersystem</li>
<li><strong>Site-ID:</strong> Standort-Identifikator (z.B. &quot;site1&quot;)</li>
<li><strong>Device-ID:</strong> Ger√§te-Identifikator (z.B. &quot;bess001&quot;)</li>
<li><strong>Standort:</strong> Physische Adresse oder Beschreibung</li>
<li><strong>Nennleistung:</strong> Maximale Leistung in kW</li>
<li><strong>Nennenergie:</strong> Maximale Kapazit√§t in kWh</li>
</ul>
</li>
<li>
<p><strong>MQTT-Verbindung konfigurieren:</strong></p>
<p><strong>MQTT aktivieren:</strong></p>
<ul>
<li>Checkbox &quot;MQTT aktivieren&quot; anhaken</li>
<li>MQTT-Konfigurationsfelder werden aktiviert</li>
</ul>
<p><strong>MQTT Topic eingeben:</strong></p>
<ul>
<li><strong>Automatische Vorschl√§ge:</strong> System schl√§gt Topics basierend auf Projektnamen vor
<ul>
<li>&quot;BESS Hinterstoder&quot; ‚Üí <code>bess/hinterstoder</code></li>
<li>&quot;BESS Tillysburg&quot; ‚Üí <code>bess/tillysburg</code></li>
</ul>
</li>
<li><strong>Manuelle Eingabe:</strong> Topic nach Bedarf anpassen (z.B. <code>bess/mein-speicher</code>)</li>
</ul>
<p><strong>MQTT Broker konfigurieren:</strong></p>
<ul>
<li><strong>Standard:</strong> &quot;localhost (Standard)&quot; f√ºr lokale Installationen</li>
<li><strong>Eigener Broker:</strong> F√ºr externe MQTT-Broker
<ul>
<li><strong>Broker Host:</strong> IP-Adresse oder Domain (z.B. &quot;mqtt.meinbess.de&quot;)</li>
<li><strong>Port:</strong> Standard 1883 oder angepasster Port</li>
<li><strong>Benutzername:</strong> MQTT-Benutzername</li>
<li><strong>Passwort:</strong> MQTT-Passwort</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Weitere Einstellungen:</strong></p>
<ul>
<li><strong>Beschreibung:</strong> Detaillierte Beschreibung des BESS-Systems</li>
<li><strong>Aktiv:</strong> System aktivieren/deaktivieren</li>
<li><strong>Automatische Synchronisation:</strong> Auto-Update der Daten</li>
</ul>
</li>
<li>
<p><strong>Speichern:</strong></p>
<ul>
<li>&quot;Speichern&quot; Button klicken</li>
<li>System erstellt die Zuordnung und konfiguriert MQTT-Verbindung</li>
</ul>
</li>
</ol>
<h5 id="22-mqtt-topic-format-und-beispiele">2.2 MQTT-Topic Format und Beispiele</h5>
<p><strong>Standard-Topic-Format:</strong></p>
<pre class="hljs"><code><div>bess/[projekt-name]
</div></code></pre>
<p><strong>Beispiele f√ºr verschiedene Projekte:</strong></p>
<ul>
<li><code>bess/hinterstoder</code> - BESS Hinterstoder</li>
<li><code>bess/tillysburg</code> - BESS Tillysburg</li>
<li><code>bess/wien</code> - BESS Wien</li>
<li><code>bess/daily_cycles</code> - BESS Daily Cycles</li>
</ul>
<p><strong>MQTT-Datenstruktur:</strong>
Dein BESS-Speicher sollte Daten unter dem konfigurierten Topic senden:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"topic"</span>: <span class="hljs-string">"bess/hinterstoder/status"</span>,
  <span class="hljs-attr">"payload"</span>: {
    <span class="hljs-attr">"soc"</span>: <span class="hljs-number">85.5</span>,
    <span class="hljs-attr">"power"</span>: <span class="hljs-number">1250.0</span>,
    <span class="hljs-attr">"voltage"</span>: <span class="hljs-number">800.0</span>,
    <span class="hljs-attr">"current"</span>: <span class="hljs-number">156.25</span>,
    <span class="hljs-attr">"temperature"</span>: <span class="hljs-number">25.3</span>,
    <span class="hljs-attr">"status"</span>: <span class="hljs-string">"charging"</span>,
    <span class="hljs-attr">"timestamp"</span>: <span class="hljs-string">"2024-01-15T14:30:00Z"</span>
  }
}
</div></code></pre>
<h5 id="23-bestehende-zuordnungen-verwalten">2.3 Bestehende Zuordnungen verwalten</h5>
<p><strong>Zuordnung bearbeiten:</strong></p>
<ol>
<li>In der Liste &quot;Bestehende Zuordnungen&quot; den &quot;Bearbeiten&quot; Button klicken</li>
<li>Modal √∂ffnet sich mit allen aktuellen Einstellungen</li>
<li>√Ñnderungen vornehmen (MQTT-Topic, Broker-Einstellungen, etc.)</li>
<li>&quot;Speichern&quot; klicken</li>
</ol>
<p><strong>Zuordnung l√∂schen:</strong></p>
<ol>
<li>&quot;L√∂schen&quot; Button in der Zuordnungsliste klicken</li>
<li>Best√§tigung best√§tigen</li>
<li>Zuordnung wird entfernt</li>
</ol>
<p><strong>Status √ºberpr√ºfen:</strong></p>
<ul>
<li><strong>Aktiv/Inaktiv:</strong> Status der Zuordnung</li>
<li><strong>MQTT-Verbindung:</strong> Live-Status im Live-Dashboard</li>
<li><strong>Letzte Daten:</strong> Zeitstempel der letzten empfangenen Daten</li>
</ul>
<h4 id="3-rollenbasierte-berechtigungen">3. Rollenbasierte Berechtigungen</h4>
<p><strong>Admin-Rolle:</strong></p>
<ul>
<li>Vollzugriff auf alle Funktionen</li>
<li>Benutzerverwaltung</li>
<li>BESS-Zuordnung verwalten</li>
<li>System-Konfiguration</li>
<li>Audit-Logs einsehen</li>
</ul>
<p><strong>User-Rolle:</strong></p>
<ul>
<li>Projekt-Management</li>
<li>Simulationen durchf√ºhren</li>
<li>Daten importieren/exportieren</li>
<li>Live-Dashboard verwenden</li>
<li>Kein Zugriff auf Admin-Funktionen</li>
</ul>
<p><strong>Viewer-Rolle:</strong></p>
<ul>
<li>Nur Leserechte</li>
<li>Dashboard einsehen</li>
<li>Berichte anzeigen</li>
<li>Keine √Ñnderungen m√∂glich</li>
</ul>
<h4 id="4-benutzerverwaltung">4. Benutzerverwaltung</h4>
<p><strong>Neuen Benutzer erstellen:</strong></p>
<ol>
<li>Admin-Dashboard ‚Üí Benutzer-Verwaltung</li>
<li>&quot;Neuer Benutzer&quot; Button klicken</li>
<li>Benutzerdaten eingeben:
<ul>
<li>E-Mail-Adresse</li>
<li>Passwort</li>
<li>Rolle ausw√§hlen</li>
</ul>
</li>
<li>Speichern</li>
</ol>
<p><strong>Benutzer bearbeiten:</strong></p>
<ul>
<li>Rolle √§ndern</li>
<li>Passwort zur√ºcksetzen</li>
<li>Benutzer deaktivieren</li>
</ul>
<p><strong>Audit-Log:</strong></p>
<ul>
<li>Alle Benutzeraktivit√§ten werden protokolliert</li>
<li>Zeitstempel und Aktionen</li>
<li>Sicherheits√ºberwachung</li>
</ul>
<h4 id="5-sicherheitsfeatures">5. Sicherheitsfeatures</h4>
<p><strong>Session-Management:</strong></p>
<ul>
<li>Automatische Abmeldung bei Inaktivit√§t</li>
<li>Sichere Session-Tokens</li>
<li>Cross-Site-Request-Forgery (CSRF) Schutz</li>
</ul>
<p><strong>Passwort-Sicherheit:</strong></p>
<ul>
<li>Bcrypt-Verschl√ºsselung</li>
<li>Mindestanforderungen f√ºr Passw√∂rter</li>
<li>Passwort-Reset-Funktionalit√§t</li>
</ul>
<p><strong>Datenzugriff:</strong></p>
<ul>
<li>Projekt-spezifische Berechtigungen</li>
<li>Rollenbasierte Zugriffskontrolle</li>
<li>Verschl√ºsselte Daten√ºbertragung</li>
</ul>
<hr>
<h2 id="%F0%9F%94%A7-technische-dokumentation">üîß Technische Dokumentation</h2>
<h3 id="bess-sizing--optimierung---vollst%C3%A4ndige-dokumentation">BESS Sizing &amp; Optimierung - Vollst√§ndige Dokumentation</h3>
<h4 id="%C3%BCbersicht">√úbersicht</h4>
<p>Das <strong>BESS Sizing &amp; Optimierung</strong> System ist ein intelligentes Tool zur <strong>automatischen Dimensionierung</strong> von Batterie-Energiespeichersystemen basierend auf verschiedenen <strong>Betriebsstrategien</strong> und <strong>wirtschaftlichen Kriterien</strong>.</p>
<h4 id="kernfunktionalit%C3%A4ten">Kernfunktionalit√§ten</h4>
<p><strong>1. Strategie-basierte Optimierung:</strong></p>
<ul>
<li><strong>Peak Shaving + Load Leveling (PS/LL)</strong></li>
<li><strong>Spot-Preis-Arbitrage</strong></li>
<li><strong>Netzstabilit√§tsdienstleistungen</strong></li>
<li><strong>Hybrid-Ansatz</strong></li>
</ul>
<p><strong>2. Exhaustionsmethode:</strong></p>
<ul>
<li><strong>2-Schritt-Algorithmus</strong> f√ºr optimale Ergebnisse</li>
<li><strong>Systematische Parameterraum-Suche</strong></li>
<li><strong>Wirtschaftlichkeitsoptimierung</strong></li>
</ul>
<p><strong>3. Visualisierung:</strong></p>
<ul>
<li><strong>ROI Heatmap</strong> f√ºr Kostenvorteile</li>
<li><strong>Machbare Region</strong> mit allen realisierbaren Kombinationen</li>
<li><strong>Strategievergleich</strong> mit Kennzahlen</li>
</ul>
<h4 id="was-ist-die-%22machbare-region%22">Was ist die &quot;Machbare Region&quot;?</h4>
<p>Die <strong>&quot;Machbare Region&quot;</strong> ist ein zentrales Konzept der BESS-Sizing-Optimierung und zeigt alle <strong>technisch und wirtschaftlich realisierbaren</strong> BESS-Kombinationen aus <strong>Leistung (P_ESS)</strong> und <strong>Kapazit√§t (Q_ESS)</strong>, die bestimmte <strong>Anforderungen erf√ºllen</strong>.</p>
<h4 id="funktionsweise-der-exhaustionsmethode">Funktionsweise der Exhaustionsmethode</h4>
<p>Das System arbeitet mit einem <strong>2-Schritt-Algorithmus</strong>:</p>
<p><strong>Schritt 1: Feasible Region (Machbare Region)</strong></p>
<ul>
<li>Alle Kombinationen aus P_ESS und Q_ESS werden systematisch getestet</li>
<li>Nur diejenigen, die die Strategie-Anforderungen erf√ºllen, werden als &quot;machbar&quot; markiert</li>
<li>Ergebnis: Eine definierte Anzahl machbarer Kombinationen (z.B. 25 Kombinationen)</li>
</ul>
<p><strong>Schritt 2: Optimum finden</strong></p>
<ul>
<li>Innerhalb der machbaren Kombinationen wird die <strong>wirtschaftlichste</strong> gesucht</li>
<li>Kriterium: H√∂chster Kostenvorteil (Einsparungen - Investitionskosten)</li>
<li>Ergebnis: Eine optimale Kombination wird ausgew√§hlt</li>
</ul>
<h4 id="strategie-spezifische-kriterien">Strategie-spezifische Kriterien</h4>
<p><strong>1. Peak Shaving + Load Leveling (PS/LL):</strong></p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_check_ps_ll_requirements</span><span class="hljs-params">(load_df, p_ess, q_ess)</span>:</span>
    max_load = load_df[<span class="hljs-string">'load_kw'</span>].max()
    avg_load = load_df[<span class="hljs-string">'load_kw'</span>].mean()
    
    <span class="hljs-comment"># Peak Shaving: Mindestens 30% der Maximalleistung</span>
    ps_feasible = p_ess &gt;= max_load * <span class="hljs-number">0.3</span>
    
    <span class="hljs-comment"># Load Leveling: Mindestens 50% der t√§glichen Energievariation</span>
    daily_energy_variation = (max_load - avg_load) * <span class="hljs-number">24</span>
    ll_feasible = q_ess &gt;= daily_energy_variation * <span class="hljs-number">0.5</span>
    
    <span class="hljs-keyword">return</span> ps_feasible <span class="hljs-keyword">and</span> ll_feasible
</div></code></pre>
<p><strong>2. Spot-Preis-Arbitrage:</strong></p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_check_arbitrage_requirements</span><span class="hljs-params">(load_df, p_ess, q_ess)</span>:</span>
    <span class="hljs-comment"># Mindestleistung f√ºr Arbitrage</span>
    power_feasible = p_ess &gt;= <span class="hljs-number">100</span>  <span class="hljs-comment"># Mindestens 100 kW</span>
    
    <span class="hljs-comment"># Hohe Kapazit√§t f√ºr l√§ngere Arbitrage-Zyklen</span>
    capacity_feasible = q_ess &gt;= <span class="hljs-number">800</span>  <span class="hljs-comment"># Mindestens 800 kWh</span>
    
    <span class="hljs-keyword">return</span> power_feasible <span class="hljs-keyword">and</span> capacity_feasible
</div></code></pre>
<p><strong>3. Netzstabilit√§tsdienstleistungen:</strong></p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_check_grid_services_requirements</span><span class="hljs-params">(load_df, p_ess, q_ess)</span>:</span>
    <span class="hljs-comment"># Hohe Leistung f√ºr Prim√§rregelleistung</span>
    power_feasible = p_ess &gt;= <span class="hljs-number">500</span>  <span class="hljs-comment"># Mindestens 500 kW</span>
    
    <span class="hljs-comment"># Hohe Kapazit√§t f√ºr l√§ngere Dienstleistungen</span>
    capacity_feasible = q_ess &gt;= <span class="hljs-number">1000</span>  <span class="hljs-comment"># Mindestens 1000 kWh</span>
    
    <span class="hljs-keyword">return</span> power_feasible <span class="hljs-keyword">and</span> capacity_feasible
</div></code></pre>
<p><strong>4. Hybrid-Ansatz:</strong></p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_check_hybrid_requirements</span><span class="hljs-params">(load_df, p_ess, q_ess)</span>:</span>
    max_load = load_df[<span class="hljs-string">'load_kw'</span>].max()
    avg_load = load_df[<span class="hljs-string">'load_kw'</span>].mean()
    
    <span class="hljs-comment"># Moderate Leistung f√ºr PS/LL</span>
    ps_feasible = p_ess &gt;= max_load * <span class="hljs-number">0.2</span>  <span class="hljs-comment"># Mindestens 20% der Maximalleistung</span>
    
    <span class="hljs-comment"># Moderate Kapazit√§t f√ºr Arbitrage</span>
    daily_energy_variation = (max_load - avg_load) * <span class="hljs-number">24</span>
    ll_feasible = q_ess &gt;= daily_energy_variation * <span class="hljs-number">0.3</span>  <span class="hljs-comment"># Mindestens 30% der t√§glichen Variation</span>
    
    <span class="hljs-keyword">return</span> ps_feasible <span class="hljs-keyword">and</span> ll_feasible
</div></code></pre>
<h4 id="benutzeroberfl%C3%A4che">Benutzeroberfl√§che</h4>
<p><strong>1. Projektauswahl:</strong></p>
<ul>
<li>Dropdown mit verf√ºgbaren Projekten</li>
<li>Automatisches Laden der Projektparameter</li>
<li>Integration mit bestehenden Lastprofilen</li>
</ul>
<p><strong>2. Strategieauswahl:</strong></p>
<ul>
<li><strong>Peak Shaving + Load Leveling</strong>: F√ºr Lastspitzen-Reduktion</li>
<li><strong>Spot-Preis-Arbitrage</strong>: F√ºr Marktoptimierung</li>
<li><strong>Netzstabilit√§tsdienstleistungen</strong>: F√ºr Grid Services</li>
<li><strong>Hybrid-Ansatz</strong>: Kombinierte Strategie</li>
</ul>
<p><strong>3. Optimierungs-Constraints:</strong></p>
<ul>
<li><strong>Max. Investition (‚Ç¨)</strong>: Budget-Limit</li>
<li><strong>Verf√ºgbarer Platz (m¬≤)</strong>: Raum-Beschr√§nkung</li>
<li><strong>Netzanschluss (MW)</strong>: Anschlussleistung</li>
<li><strong>C-Rate (Entladung)</strong>: Batterie-Technologie</li>
</ul>
<p><strong>4. Ergebnisse:</strong></p>
<ul>
<li><strong>Optimale BESS-Gr√∂√üe</strong>: Leistung und Kapazit√§t</li>
<li><strong>Wirtschaftlichkeits-KPIs</strong>: ROI, Amortisation</li>
<li><strong>ROI Heatmap</strong>: Visualisierung der Kostenvorteile</li>
<li><strong>Machbare Region</strong>: Alle realisierbaren Kombinationen</li>
<li><strong>Strategievergleich</strong>: Vergleich verschiedener Ans√§tze</li>
</ul>
<h4 id="praktisches-beispiel">Praktisches Beispiel</h4>
<p><strong>Eingabe:</strong> &quot;25 machbare (P_ESS, Q_ESS) Kombinationen gefunden&quot;</p>
<p><strong>Beispiel-Kombinationen:</strong></p>
<table>
<thead>
<tr>
<th>Kombination</th>
<th>Leistung (kW)</th>
<th>Kapazit√§t (kWh)</th>
<th>Jahreskosten (‚Ç¨)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>750</td>
<td>1500</td>
<td>270.000</td>
</tr>
<tr>
<td>2</td>
<td>625</td>
<td>1500</td>
<td>225.000</td>
</tr>
<tr>
<td>3</td>
<td>750</td>
<td>1250</td>
<td>225.000</td>
</tr>
<tr>
<td>4</td>
<td>625</td>
<td>1250</td>
<td>187.500</td>
</tr>
<tr>
<td>5</td>
<td>500</td>
<td>1500</td>
<td>180.000</td>
</tr>
<tr>
<td>6</td>
<td>750</td>
<td>1000</td>
<td>180.000</td>
</tr>
</tbody>
</table>
<h4 id="roi-heatmap">ROI Heatmap</h4>
<p>Die <strong>ROI Heatmap</strong> visualisiert die <strong>Kostenvorteile</strong> √ºber verschiedene BESS-Kombinationen:</p>
<p><strong>Funktionen:</strong></p>
<ul>
<li><strong>X-Achse</strong>: BESS-Leistung (P_ESS) in kW</li>
<li><strong>Y-Achse</strong>: BESS-Kapazit√§t (Q_ESS) in kWh</li>
<li><strong>Farben</strong>: Kostenvorteil in ‚Ç¨/Jahr</li>
<li><strong>Hover-Effekt</strong>: Detaillierte Informationen bei Mauszeiger</li>
</ul>
<p><strong>Interpretation:</strong></p>
<ul>
<li><strong>Gr√ºn</strong>: Hohe Kostenvorteile</li>
<li><strong>Gelb</strong>: Moderate Kostenvorteile</li>
<li><strong>Rot</strong>: Niedrige Kostenvorteile</li>
<li><strong>Wei√ü</strong>: Nicht machbare Kombinationen</li>
</ul>
<h4 id="strategievergleich">Strategievergleich</h4>
<p>Der <strong>Strategievergleich</strong> zeigt die <strong>Wirtschaftlichkeit</strong> verschiedener Ans√§tze:</p>
<p><strong>Verglichene Metriken:</strong></p>
<ul>
<li><strong>ROI (%)</strong>: Return on Investment</li>
<li><strong>Amortisation (Jahre)</strong>: Payback Period</li>
<li><strong>J√§hrliche Einsparungen (‚Ç¨)</strong>: Annual Savings</li>
<li><strong>Investitionskosten (‚Ç¨)</strong>: Total Investment</li>
</ul>
<p><strong>Visualisierung:</strong></p>
<ul>
<li><strong>Balkendiagramm</strong> f√ºr direkten Vergleich</li>
<li><strong>Farbkodierung</strong> nach Performance</li>
<li><strong>Sortierung</strong> nach ROI</li>
</ul>
<h4 id="warum-ist-die-%22machbare-region%22-wichtig">Warum ist die &quot;Machbare Region&quot; wichtig?</h4>
<ol>
<li><strong>Technische Machbarkeit</strong>: BESS muss die gew√ºnschten Funktionen erf√ºllen k√∂nnen</li>
<li><strong>Wirtschaftliche Machbarkeit</strong>: Investition muss sich lohnen</li>
<li><strong>Systemstabilit√§t</strong>: BESS muss zuverl√§ssig funktionieren</li>
<li><strong>Regulatorische Anforderungen</strong>: Muss gesetzliche Vorgaben erf√ºllen</li>
</ol>
<h4 id="technische-implementierung">Technische Implementierung</h4>
<p><strong>Backend (Python/Flask):</strong></p>
<pre class="hljs"><code><div><span class="hljs-meta">@main_bp.route('/api/sizing/ps-ll-optimization', methods=['POST'])</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">ps_ll_sizing_optimization</span><span class="hljs-params">()</span>:</span>
    data = request.get_json()
    project_id = data.get(<span class="hljs-string">'project_id'</span>)
    sizing_strategy = data.get(<span class="hljs-string">'sizing_strategy'</span>, <span class="hljs-string">'ps_ll'</span>)
    constraints = data.get(<span class="hljs-string">'constraints'</span>, {})
    
    <span class="hljs-comment"># ECHTE BESS-Sizing-Optimierung mit Exhaustionsmethode</span>
    print(<span class="hljs-string">f"üîÑ F√ºhre <span class="hljs-subst">{sizing_strategy.upper()}</span>-Optimierung durch..."</span>)
    
    <span class="hljs-comment"># Strategie-spezifische Parameter</span>
    <span class="hljs-keyword">if</span> sizing_strategy == <span class="hljs-string">'ps_ll'</span>:
        p_range = np.arange(<span class="hljs-number">200</span>, <span class="hljs-number">1200</span>, <span class="hljs-number">100</span>)  <span class="hljs-comment"># 200-1100 kW</span>
        q_range = np.arange(<span class="hljs-number">400</span>, <span class="hljs-number">2400</span>, <span class="hljs-number">200</span>)  <span class="hljs-comment"># 400-2200 kWh</span>
        check_function = _check_ps_ll_requirements
    <span class="hljs-keyword">elif</span> sizing_strategy == <span class="hljs-string">'arbitrage'</span>:
        p_range = np.arange(<span class="hljs-number">100</span>, <span class="hljs-number">800</span>, <span class="hljs-number">100</span>)   <span class="hljs-comment"># 100-700 kW</span>
        q_range = np.arange(<span class="hljs-number">800</span>, <span class="hljs-number">3200</span>, <span class="hljs-number">200</span>)  <span class="hljs-comment"># 800-3000 kWh</span>
        check_function = _check_arbitrage_requirements
    <span class="hljs-keyword">elif</span> sizing_strategy == <span class="hljs-string">'grid_services'</span>:
        p_range = np.arange(<span class="hljs-number">500</span>, <span class="hljs-number">2000</span>, <span class="hljs-number">100</span>)  <span class="hljs-comment"># 500-1900 kW</span>
        q_range = np.arange(<span class="hljs-number">1000</span>, <span class="hljs-number">4000</span>, <span class="hljs-number">200</span>) <span class="hljs-comment"># 1000-3800 kWh</span>
        check_function = _check_grid_services_requirements
    <span class="hljs-keyword">elif</span> sizing_strategy == <span class="hljs-string">'hybrid'</span>:
        p_range = np.arange(<span class="hljs-number">300</span>, <span class="hljs-number">1500</span>, <span class="hljs-number">100</span>)  <span class="hljs-comment"># 300-1400 kW</span>
        q_range = np.arange(<span class="hljs-number">600</span>, <span class="hljs-number">3000</span>, <span class="hljs-number">200</span>)  <span class="hljs-comment"># 600-2800 kWh</span>
        check_function = _check_hybrid_requirements
    
    <span class="hljs-comment"># Schritt 1: Machbarer Parameterraum</span>
    feasible_combinations = []
    <span class="hljs-keyword">for</span> p_ess <span class="hljs-keyword">in</span> p_range:
        <span class="hljs-keyword">for</span> q_ess <span class="hljs-keyword">in</span> q_range:
            <span class="hljs-keyword">if</span> check_function(load_df_sample, p_ess, q_ess):
                feasible_combinations.append((p_ess, q_ess))
    
    <span class="hljs-comment"># Schritt 2: Optimum finden</span>
    optimal_combination = <span class="hljs-literal">None</span>
    best_cost_advantage = -float(<span class="hljs-string">'inf'</span>)
    
    <span class="hljs-keyword">for</span> p_ess, q_ess <span class="hljs-keyword">in</span> feasible_combinations:
        cost_advantage = _calculate_cost_advantage(
            load_df_sample, market_df_sample, p_ess, q_ess, electricity_cost
        )
        <span class="hljs-keyword">if</span> cost_advantage &gt; best_cost_advantage:
            best_cost_advantage = cost_advantage
            optimal_combination = (p_ess, q_ess)
    
    <span class="hljs-keyword">return</span> jsonify({
        <span class="hljs-string">'success'</span>: <span class="hljs-literal">True</span>,
        <span class="hljs-string">'result'</span>: SizingResult(
            optimal_power_kw=optimal_combination[<span class="hljs-number">0</span>],
            optimal_capacity_kwh=optimal_combination[<span class="hljs-number">1</span>],
            total_investment_eur=total_investment,
            annual_savings_eur=annual_savings,
            payback_period_years=payback_period,
            roi_percent=roi_percent,
            feasible_region=feasible_region,
            cost_heatmap_data=cost_heatmap_data,
            strategy_comparison=strategy_comparison
        )
    })
</div></code></pre>
<p><strong>Frontend (JavaScript/HTML):</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment">// Strategie-Constraints aktualisieren</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateStrategyConstraints</span>(<span class="hljs-params">strategy</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'üîÑ Aktualisiere Constraints f√ºr Strategie:'</span>, strategy);
    
    <span class="hljs-keyword">const</span> maxInvestmentField = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'maxInvestment'</span>);
    <span class="hljs-keyword">const</span> availableSpaceField = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'availableSpace'</span>);
    <span class="hljs-keyword">const</span> gridConnectionField = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'gridConnection'</span>);
    <span class="hljs-keyword">const</span> cRateDischargeField = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'cRateDischarge'</span>);
    
    <span class="hljs-comment">// Strategie-spezifische Constraints setzen</span>
    <span class="hljs-keyword">switch</span>(strategy) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'ps_ll'</span>:
            maxInvestmentField.value = <span class="hljs-number">2000000</span>;
            availableSpaceField.value = <span class="hljs-number">200</span>;
            gridConnectionField.value = <span class="hljs-number">1.2</span>;
            cRateDischargeField.value = <span class="hljs-number">1.0</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'arbitrage'</span>:
            maxInvestmentField.value = <span class="hljs-number">1500000</span>;
            availableSpaceField.value = <span class="hljs-number">150</span>;
            gridConnectionField.value = <span class="hljs-number">0.8</span>;
            cRateDischargeField.value = <span class="hljs-number">0.5</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'grid_services'</span>:
            maxInvestmentField.value = <span class="hljs-number">3000000</span>;
            availableSpaceField.value = <span class="hljs-number">300</span>;
            gridConnectionField.value = <span class="hljs-number">2.0</span>;
            cRateDischargeField.value = <span class="hljs-number">2.0</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'hybrid'</span>:
            maxInvestmentField.value = <span class="hljs-number">2500000</span>;
            availableSpaceField.value = <span class="hljs-number">250</span>;
            gridConnectionField.value = <span class="hljs-number">1.5</span>;
            cRateDischargeField.value = <span class="hljs-number">1.5</span>;
            <span class="hljs-keyword">break</span>;
    }
}

<span class="hljs-comment">// Heatmap erstellen</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createHeatmapChart</span>(<span class="hljs-params">heatmapData</span>) </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> zMatrix = heatmapData.z_matrix;
        <span class="hljs-keyword">const</span> xValues = heatmapData.x_values;
        <span class="hljs-keyword">const</span> yValues = heatmapData.y_values;
        
        <span class="hljs-keyword">const</span> data = [{
            <span class="hljs-attr">z</span>: zMatrix,
            <span class="hljs-attr">x</span>: xValues,
            <span class="hljs-attr">y</span>: yValues,
            <span class="hljs-attr">type</span>: <span class="hljs-string">'heatmap'</span>,
            <span class="hljs-attr">colorscale</span>: <span class="hljs-string">'RdYlGn'</span>,
            <span class="hljs-attr">showscale</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">colorbar</span>: {
                <span class="hljs-attr">title</span>: <span class="hljs-string">'Kostenvorteil (‚Ç¨/Jahr)'</span>,
                <span class="hljs-attr">titleside</span>: <span class="hljs-string">'right'</span>
            }
        }];
        
        <span class="hljs-keyword">const</span> layout = {
            <span class="hljs-attr">title</span>: <span class="hljs-string">'ROI Heatmap - BESS Kostenvorteile'</span>,
            <span class="hljs-attr">xaxis</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">'BESS-Leistung (kW)'</span> },
            <span class="hljs-attr">yaxis</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">'BESS-Kapazit√§t (kWh)'</span> },
            <span class="hljs-attr">width</span>: <span class="hljs-number">800</span>,
            <span class="hljs-attr">height</span>: <span class="hljs-number">600</span>
        };
        
        Plotly.newPlot(<span class="hljs-string">'heatmapChart'</span>, data, layout);
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'‚úÖ Heatmap erfolgreich erstellt'</span>);
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'‚ùå Fehler beim Erstellen der Heatmap:'</span>, error);
    }
}
</div></code></pre>
<h4 id="api-integration">API-Integration</h4>
<p><strong>Endpoint:</strong> <code>POST /api/sizing/ps-ll-optimization</code></p>
<p><strong>Request:</strong></p>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"project_id"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"sizing_strategy"</span>: <span class="hljs-string">"ps_ll|arbitrage|grid_services|hybrid"</span>,
    <span class="hljs-attr">"constraints"</span>: {
        <span class="hljs-attr">"max_investment"</span>: <span class="hljs-number">2000000</span>,
        <span class="hljs-attr">"available_space"</span>: <span class="hljs-number">200</span>,
        <span class="hljs-attr">"grid_connection"</span>: <span class="hljs-number">2.0</span>,
        <span class="hljs-attr">"c_rate_discharge"</span>: <span class="hljs-number">1.0</span>
    }
}
</div></code></pre>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"result"</span>: {
        <span class="hljs-attr">"optimal_power_kw"</span>: <span class="hljs-number">750</span>,
        <span class="hljs-attr">"optimal_capacity_kwh"</span>: <span class="hljs-number">1500</span>,
        <span class="hljs-attr">"total_investment_eur"</span>: <span class="hljs-number">1800000</span>,
        <span class="hljs-attr">"annual_savings_eur"</span>: <span class="hljs-number">270000</span>,
        <span class="hljs-attr">"payback_period_years"</span>: <span class="hljs-number">6.7</span>,
        <span class="hljs-attr">"roi_percent"</span>: <span class="hljs-number">15.0</span>,
        <span class="hljs-attr">"feasible_region"</span>: [
            {
                <span class="hljs-attr">"power_kw"</span>: <span class="hljs-number">750</span>,
                <span class="hljs-attr">"capacity_kwh"</span>: <span class="hljs-number">1500</span>,
                <span class="hljs-attr">"annual_cost_eur"</span>: <span class="hljs-number">270000</span>
            }
        ],
        <span class="hljs-attr">"cost_heatmap_data"</span>: {
            <span class="hljs-attr">"x_values"</span>: [<span class="hljs-number">200</span>, <span class="hljs-number">300</span>, <span class="hljs-number">400</span>, <span class="hljs-number">500</span>, <span class="hljs-number">600</span>, <span class="hljs-number">700</span>, <span class="hljs-number">800</span>],
            <span class="hljs-attr">"y_values"</span>: [<span class="hljs-number">400</span>, <span class="hljs-number">600</span>, <span class="hljs-number">800</span>, <span class="hljs-number">1000</span>, <span class="hljs-number">1200</span>, <span class="hljs-number">1400</span>, <span class="hljs-number">1600</span>],
            <span class="hljs-attr">"z_matrix"</span>: [[...], [...], ...]
        },
        <span class="hljs-attr">"strategy_comparison"</span>: {
            <span class="hljs-attr">"ps_ll"</span>: {
                <span class="hljs-attr">"roi_percent"</span>: <span class="hljs-number">15.0</span>,
                <span class="hljs-attr">"payback_period_years"</span>: <span class="hljs-number">6.7</span>,
                <span class="hljs-attr">"annual_savings_eur"</span>: <span class="hljs-number">270000</span>
            },
            <span class="hljs-attr">"arbitrage"</span>: {
                <span class="hljs-attr">"roi_percent"</span>: <span class="hljs-number">12.5</span>,
                <span class="hljs-attr">"payback_period_years"</span>: <span class="hljs-number">8.0</span>,
                <span class="hljs-attr">"annual_savings_eur"</span>: <span class="hljs-number">225000</span>
            }
        }
    }
}
</div></code></pre>
<h4 id="fehlerbehandlung">Fehlerbehandlung</h4>
<p><strong>H√§ufige Probleme und L√∂sungen:</strong></p>
<ol>
<li>
<p><strong>Leere Heatmap:</strong></p>
<ul>
<li><strong>Ursache</strong>: Falsche Datenstruktur oder Plotly-Fehler</li>
<li><strong>L√∂sung</strong>: Debug-Ausgaben und Fallback-Heatmap</li>
</ul>
</li>
<li>
<p><strong>Strategie-Constraints √§ndern sich nicht:</strong></p>
<ul>
<li><strong>Ursache</strong>: Falsche HTML-Element-IDs</li>
<li><strong>L√∂sung</strong>: Korrekte ID-Zuordnung</li>
</ul>
</li>
<li>
<p><strong>JavaScript-Fehler:</strong></p>
<ul>
<li><strong>Ursache</strong>: Event Listener nicht korrekt initialisiert</li>
<li><strong>L√∂sung</strong>: DOMContentLoaded Event verwenden</li>
</ul>
</li>
</ol>
<h4 id="performance-optimierung">Performance-Optimierung</h4>
<p><strong>Backend:</strong></p>
<ul>
<li><strong>Numpy-Arrays</strong> f√ºr schnelle Berechnungen</li>
<li><strong>Pandas DataFrames</strong> f√ºr effiziente Datenverarbeitung</li>
<li><strong>Caching</strong> f√ºr wiederholte Berechnungen</li>
</ul>
<p><strong>Frontend:</strong></p>
<ul>
<li><strong>Plotly.js</strong> f√ºr performante Visualisierung</li>
<li><strong>Event Delegation</strong> f√ºr effiziente Event-Behandlung</li>
<li><strong>Lazy Loading</strong> f√ºr gro√üe Datens√§tze</li>
</ul>
<h4 id="erweiterte-funktionen">Erweiterte Funktionen</h4>
<p><strong>1. Sensitivit√§tsanalyse:</strong></p>
<ul>
<li>Variation der Eingabeparameter</li>
<li>Auswirkung auf Optimierungsergebnisse</li>
<li>Risikobewertung</li>
</ul>
<p><strong>2. Szenario-Vergleich:</strong></p>
<ul>
<li>Verschiedene Marktbedingungen</li>
<li>Technologie-Szenarien</li>
<li>Regulatorische √Ñnderungen</li>
</ul>
<p><strong>3. Export-Funktionen:</strong></p>
<ul>
<li>PDF-Berichte</li>
<li>Excel-Export</li>
<li>JSON-Daten</li>
</ul>
<h4 id="best-practices">Best Practices</h4>
<p><strong>1. Projektauswahl:</strong></p>
<ul>
<li>Verwenden Sie realistische Lastprofile</li>
<li>Ber√ºcksichtigen Sie saisonale Schwankungen</li>
<li>Validieren Sie Eingabedaten</li>
</ul>
<p><strong>2. Strategieauswahl:</strong></p>
<ul>
<li>W√§hlen Sie die passende Strategie f√ºr Ihr Anwendungsfall</li>
<li>Vergleichen Sie verschiedene Ans√§tze</li>
<li>Ber√ºcksichtigen Sie Marktbedingungen</li>
</ul>
<p><strong>3. Constraint-Einstellung:</strong></p>
<ul>
<li>Setzen Sie realistische Budget-Limits</li>
<li>Ber√ºcksichtigen Sie r√§umliche Beschr√§nkungen</li>
<li>Validieren Sie technische Parameter</li>
</ul>
<p><strong>4. Ergebnis-Interpretation:</strong></p>
<ul>
<li>Analysieren Sie die ROI Heatmap</li>
<li>Vergleichen Sie verschiedene Strategien</li>
<li>Ber√ºcksichtigen Sie Unsicherheiten</li>
</ul>
<h4 id="schritt-f%C3%BCr-schritt-anleitung">Schritt-f√ºr-Schritt Anleitung</h4>
<p><strong>1. BESS Sizing &amp; Optimierung √∂ffnen:</strong></p>
<ul>
<li>Navigieren Sie zu <code>/bess-sizing-simple</code></li>
<li>W√§hlen Sie ein Projekt aus dem Dropdown</li>
<li>Warten Sie auf das Laden der Projektparameter</li>
</ul>
<p><strong>2. Strategie ausw√§hlen:</strong></p>
<ul>
<li><strong>Peak Shaving + Load Leveling</strong>: F√ºr Lastspitzen-Reduktion</li>
<li><strong>Spot-Preis-Arbitrage</strong>: F√ºr Marktoptimierung</li>
<li><strong>Netzstabilit√§tsdienstleistungen</strong>: F√ºr Grid Services</li>
<li><strong>Hybrid-Ansatz</strong>: Kombinierte Strategie</li>
</ul>
<p><strong>3. Constraints anpassen:</strong></p>
<ul>
<li>Die Constraints werden automatisch basierend auf der Strategie gesetzt</li>
<li>Sie k√∂nnen die Werte manuell anpassen</li>
<li>Ber√ºcksichtigen Sie Ihre spezifischen Anforderungen</li>
</ul>
<p><strong>4. Optimierung starten:</strong></p>
<ul>
<li>Klicken Sie auf &quot;Optimierung starten&quot;</li>
<li>Warten Sie auf die Berechnung (5-10 Sekunden)</li>
<li>Die Ergebnisse werden automatisch angezeigt</li>
</ul>
<p><strong>5. Ergebnisse analysieren:</strong></p>
<ul>
<li><strong>Optimale BESS-Gr√∂√üe</strong>: Pr√ºfen Sie Leistung und Kapazit√§t</li>
<li><strong>ROI Heatmap</strong>: Analysieren Sie die Kostenvorteile</li>
<li><strong>Machbare Region</strong>: √úberpr√ºfen Sie alternative Kombinationen</li>
<li><strong>Strategievergleich</strong>: Vergleichen Sie verschiedene Ans√§tze</li>
</ul>
<h4 id="troubleshooting">Troubleshooting</h4>
<p><strong>Problem: Optimierung l√§uft nicht</strong></p>
<ul>
<li><strong>L√∂sung</strong>: √úberpr√ºfen Sie die Projektauswahl</li>
<li><strong>L√∂sung</strong>: Stellen Sie sicher, dass Lastprofile vorhanden sind</li>
</ul>
<p><strong>Problem: Heatmap ist leer</strong></p>
<ul>
<li><strong>L√∂sung</strong>: Laden Sie die Seite neu (F5)</li>
<li><strong>L√∂sung</strong>: √úberpr√ºfen Sie die Browser-Konsole auf Fehler</li>
</ul>
<p><strong>Problem: Strategie-Constraints √§ndern sich nicht</strong></p>
<ul>
<li><strong>L√∂sung</strong>: W√§hlen Sie eine andere Strategie und zur√ºck</li>
<li><strong>L√∂sung</strong>: Laden Sie die Seite neu (F5)</li>
</ul>
<p><strong>Problem: JavaScript-Fehler</strong></p>
<ul>
<li><strong>L√∂sung</strong>: √ñffnen Sie die Browser-Konsole (F12)</li>
<li><strong>L√∂sung</strong>: √úberpr√ºfen Sie die Fehlermeldungen</li>
<li><strong>L√∂sung</strong>: Laden Sie die Seite neu (F5)</li>
</ul>
<h3 id="architektur">Architektur</h3>
<h4 id="system-%C3%BCbersicht">System-√úbersicht</h4>
<pre class="hljs"><code><div>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Frontend      ‚îÇ    ‚îÇ   Backend       ‚îÇ    ‚îÇ   Database      ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ ‚Ä¢ HTML/CSS/JS   ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ ‚Ä¢ Flask         ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ ‚Ä¢ SQLite        ‚îÇ
‚îÇ ‚Ä¢ Chart.js      ‚îÇ    ‚îÇ ‚Ä¢ Python        ‚îÇ    ‚îÇ ‚Ä¢ Redis Cache   ‚îÇ
‚îÇ ‚Ä¢ Tailwind CSS  ‚îÇ    ‚îÇ ‚Ä¢ Gunicorn      ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ ‚Ä¢ Alpine.js     ‚îÇ    ‚îÇ ‚Ä¢ Nginx         ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ ‚Ä¢ ML Dashboard  ‚îÇ    ‚îÇ ‚Ä¢ ML Models     ‚îÇ    ‚îÇ ‚Ä¢ ML Cache      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ   ML &amp; KI       ‚îÇ
                    ‚îÇ                 ‚îÇ
                    ‚îÇ ‚Ä¢ scikit-learn  ‚îÇ
                    ‚îÇ ‚Ä¢ Random Forest ‚îÇ
                    ‚îÇ ‚Ä¢ Isolation For.‚îÇ
                    ‚îÇ ‚Ä¢ Linear Regr.  ‚îÇ
                    ‚îÇ ‚Ä¢ Grid Search   ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</div></code></pre>
<h4 id="technologie-stack">Technologie-Stack</h4>
<p><strong>Frontend:</strong></p>
<ul>
<li><strong>HTML5/CSS3:</strong> Struktur und Styling</li>
<li><strong>JavaScript (ES6+):</strong> Interaktivit√§t</li>
<li><strong>Chart.js:</strong> Datenvisualisierung</li>
<li><strong>Tailwind CSS:</strong> Utility-First CSS Framework</li>
<li><strong>Alpine.js:</strong> Lightweight JavaScript Framework</li>
</ul>
<p><strong>Backend:</strong></p>
<ul>
<li><strong>Python 3.9+:</strong> Hauptprogrammiersprache</li>
<li><strong>Flask:</strong> Web Framework</li>
<li><strong>SQLAlchemy:</strong> ORM f√ºr Datenbankzugriff</li>
<li><strong>Gunicorn:</strong> WSGI HTTP Server</li>
<li><strong>Redis:</strong> Caching und Session Management</li>
</ul>
<p><strong>ML &amp; KI:</strong></p>
<ul>
<li><strong>scikit-learn:</strong> Machine Learning Framework</li>
<li><strong>Random Forest:</strong> Preisprognose-Modell</li>
<li><strong>Isolation Forest:</strong> Anomalie-Erkennung</li>
<li><strong>Linear Regression:</strong> Predictive Maintenance</li>
<li><strong>Grid Search:</strong> BESS-Optimierung</li>
<li><strong>joblib:</strong> Modell-Serialisierung</li>
<li><strong>numpy/pandas:</strong> Datenverarbeitung</li>
</ul>
<p><strong>Datenbank:</strong></p>
<ul>
<li><strong>SQLite:</strong> Hauptdatenbank</li>
<li><strong>Redis:</strong> Caching und Performance</li>
</ul>
<p><strong>Infrastructure:</strong></p>
<ul>
<li><strong>Nginx:</strong> Reverse Proxy und Static Files</li>
<li><strong>Systemd:</strong> Service Management</li>
<li><strong>Docker:</strong> Containerisierung (optional)</li>
</ul>
<h3 id="datenmodell">Datenmodell</h3>
<h4 id="haupttabellen">Haupttabellen</h4>
<p><strong>projects:</strong></p>
<pre class="hljs"><code><div><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">project</span> (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">INTEGER</span> PRIMARY <span class="hljs-keyword">KEY</span>,
    <span class="hljs-keyword">name</span> <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    location <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">255</span>),
    bess_size <span class="hljs-built_in">FLOAT</span>,
    bess_power <span class="hljs-built_in">FLOAT</span>,
    daily_cycles <span class="hljs-built_in">FLOAT</span>,
    created_at <span class="hljs-built_in">TIMESTAMP</span>,
    updated_at <span class="hljs-built_in">TIMESTAMP</span>
);
</div></code></pre>
<p><strong>simulation_results:</strong></p>
<pre class="hljs"><code><div><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> simulation_results (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">INTEGER</span> PRIMARY <span class="hljs-keyword">KEY</span>,
    project_id <span class="hljs-built_in">INTEGER</span>,
    use_case <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>),
    <span class="hljs-keyword">year</span> <span class="hljs-built_in">INTEGER</span>,
    npv <span class="hljs-built_in">FLOAT</span>,
    irr <span class="hljs-built_in">FLOAT</span>,
    payback <span class="hljs-built_in">FLOAT</span>,
    created_at <span class="hljs-built_in">TIMESTAMP</span>
);
</div></code></pre>
<p><strong>spot_prices:</strong></p>
<pre class="hljs"><code><div><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> spot_prices (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">INTEGER</span> PRIMARY <span class="hljs-keyword">KEY</span>,
    <span class="hljs-built_in">timestamp</span> <span class="hljs-built_in">TIMESTAMP</span>,
    price_eur_mwh <span class="hljs-built_in">FLOAT</span>,
    <span class="hljs-keyword">source</span> <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>)
);
</div></code></pre>
<h3 id="ml--ki-system">ML &amp; KI System</h3>
<h4 id="machine-learning-architektur">Machine Learning Architektur</h4>
<p><strong>Modell-√úbersicht:</strong></p>
<pre class="hljs"><code><div>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Datenquellen  ‚îÇ    ‚îÇ   ML Pipeline   ‚îÇ    ‚îÇ   Vorhersagen   ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ ‚Ä¢ Spot-Preise   ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ ‚Ä¢ Preprocessing ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ ‚Ä¢ Preisprognose ‚îÇ
‚îÇ ‚Ä¢ Lastprofile   ‚îÇ    ‚îÇ ‚Ä¢ Training      ‚îÇ    ‚îÇ ‚Ä¢ BESS-Optim.   ‚îÇ
‚îÇ ‚Ä¢ BESS-Daten    ‚îÇ    ‚îÇ ‚Ä¢ Validation    ‚îÇ    ‚îÇ ‚Ä¢ Anomalien     ‚îÇ
‚îÇ ‚Ä¢ Wartungshist. ‚îÇ    ‚îÇ ‚Ä¢ Deployment    ‚îÇ    ‚îÇ ‚Ä¢ Maintenance   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</div></code></pre>
<h4 id="implementierte-modelle">Implementierte Modelle</h4>
<p><strong>1. Preisprognose-Modell (PriceForecastingModel):</strong></p>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PriceForecastingModel</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        self.model = RandomForestRegressor(
            n_estimators=<span class="hljs-number">100</span>,
            max_depth=<span class="hljs-number">10</span>,
            random_state=<span class="hljs-number">42</span>
        )
        self.scaler = StandardScaler()
        self.is_trained = <span class="hljs-literal">False</span>
        self.accuracy = <span class="hljs-number">0.0</span>
</div></code></pre>
<p><strong>Features:</strong></p>
<ul>
<li><strong>Algorithmus:</strong> Random Forest Regressor</li>
<li><strong>Input:</strong> Historische Spot-Preise, Wetterdaten, Marktindikatoren</li>
<li><strong>Output:</strong> Preisprognose f√ºr 24-168 Stunden</li>
<li><strong>Genauigkeit:</strong> ~87% (Demo-Modus)</li>
<li><strong>Training:</strong> Automatisch bei neuen Daten</li>
</ul>
<p><strong>2. BESS-Optimierungs-Modell (BESSOptimizationModel):</strong></p>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BESSOptimizationModel</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        self.best_score = -np.inf
        self.optimization_history = []
</div></code></pre>
<p><strong>Features:</strong></p>
<ul>
<li><strong>Algorithmus:</strong> Grid Search mit Wirtschaftlichkeitsmodell</li>
<li><strong>Parameter:</strong> Kapazit√§t, Leistung, Zyklen, Effizienz</li>
<li><strong>Ziel:</strong> Maximierung des ROI</li>
<li><strong>Constraints:</strong> Technische und wirtschaftliche Grenzen</li>
<li><strong>Output:</strong> Optimale BESS-Konfiguration</li>
</ul>
<p><strong>3. Anomalie-Erkennungs-Modell (AnomalyDetectionModel):</strong></p>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AnomalyDetectionModel</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        self.model = IsolationForest(
            contamination=<span class="hljs-number">0.1</span>,
            random_state=<span class="hljs-number">42</span>
        )
        self.scaler = StandardScaler()
        self.is_trained = <span class="hljs-literal">False</span>
</div></code></pre>
<p><strong>Features:</strong></p>
<ul>
<li><strong>Algorithmus:</strong> Isolation Forest</li>
<li><strong>Input:</strong> Lastprofile, Verbrauchsmuster, Systemmetriken</li>
<li><strong>Output:</strong> Anomalie-Scores und Klassifikation</li>
<li><strong>Sensitivit√§t:</strong> Konfigurierbar (Standard: 10%)</li>
<li><strong>Alerting:</strong> Automatische Benachrichtigungen</li>
</ul>
<p><strong>4. Predictive Maintenance-Modell (PredictiveMaintenanceModel):</strong></p>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PredictiveMaintenanceModel</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        self.degradation_model = LinearRegression()
        self.is_trained = <span class="hljs-literal">False</span>
        self.maintenance_schedule = []
</div></code></pre>
<p><strong>Features:</strong></p>
<ul>
<li><strong>Algorithmus:</strong> Linear Regression mit Degradationsmodell</li>
<li><strong>Input:</strong> Betriebsstunden, Zyklen, Temperatur, Spannung</li>
<li><strong>Output:</strong> Restlebensdauer, Wartungsempfehlungen</li>
<li><strong>Genauigkeit:</strong> Basierend auf Herstellerdaten</li>
<li><strong>Planung:</strong> Automatische Wartungsintervalle</li>
</ul>
<h4 id="ml-pipeline">ML Pipeline</h4>
<p><strong>1. Datenvorbereitung:</strong></p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">prepare_training_data</span><span class="hljs-params">(raw_data)</span>:</span>
    <span class="hljs-comment"># Datenbereinigung</span>
    cleaned_data = clean_data(raw_data)
    
    <span class="hljs-comment"># Feature Engineering</span>
    features = extract_features(cleaned_data)
    
    <span class="hljs-comment"># Normalisierung</span>
    normalized_data = normalize(features)
    
    <span class="hljs-keyword">return</span> normalized_data
</div></code></pre>
<p><strong>2. Modell-Training:</strong></p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">train_model</span><span class="hljs-params">(model, training_data, target_data)</span>:</span>
    <span class="hljs-comment"># Cross-Validation</span>
    cv_scores = cross_val_score(model, training_data, target_data, cv=<span class="hljs-number">5</span>)
    
    <span class="hljs-comment"># Training</span>
    model.fit(training_data, target_data)
    
    <span class="hljs-comment"># Validierung</span>
    accuracy = model.score(validation_data, validation_target)
    
    <span class="hljs-keyword">return</span> model, accuracy
</div></code></pre>
<p><strong>3. Modell-Deployment:</strong></p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">deploy_model</span><span class="hljs-params">(model, model_name)</span>:</span>
    <span class="hljs-comment"># Serialisierung</span>
    joblib.dump(model, <span class="hljs-string">f'models/<span class="hljs-subst">{model_name}</span>.pkl'</span>)
    
    <span class="hljs-comment"># API-Integration</span>
    register_model_api(model_name, model)
    
    <span class="hljs-comment"># Monitoring</span>
    setup_model_monitoring(model_name)
</div></code></pre>
<h4 id="api-integration">API-Integration</h4>
<p><strong>ML API Endpoints:</strong></p>
<pre class="hljs"><code><div><span class="hljs-meta">@ml_bp.route('/price-forecast', methods=['POST'])</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">price_forecast</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-comment"># Daten laden</span>
    historical_data = load_historical_prices()
    
    <span class="hljs-comment"># Prognose erstellen</span>
    forecast = price_forecasting_model.predict(historical_data)
    
    <span class="hljs-comment"># Ergebnis zur√ºckgeben</span>
    <span class="hljs-keyword">return</span> jsonify({
        <span class="hljs-string">'forecast'</span>: forecast,
        <span class="hljs-string">'accuracy'</span>: price_forecasting_model.accuracy,
        <span class="hljs-string">'model_status'</span>: <span class="hljs-string">'trained'</span> <span class="hljs-keyword">if</span> price_forecasting_model.is_trained <span class="hljs-keyword">else</span> <span class="hljs-string">'demo'</span>
    })
</div></code></pre>
<p><strong>Verf√ºgbare Endpoints:</strong></p>
<ul>
<li><strong>POST /ml/price-forecast:</strong> Preisprognose</li>
<li><strong>POST /ml/optimize-bess:</strong> BESS-Optimierung</li>
<li><strong>POST /ml/detect-anomalies:</strong> Anomalie-Erkennung</li>
<li><strong>POST /ml/predictive-maintenance:</strong> Wartungsvorhersage</li>
<li><strong>GET /ml/model-status:</strong> Modell-Status</li>
</ul>
<h4 id="caching-und-performance">Caching und Performance</h4>
<p><strong>ML-Caching-Strategie:</strong></p>
<ul>
<li><strong>Modell-Cache:</strong> Trainierte Modelle im Memory</li>
<li><strong>Prediction-Cache:</strong> H√§ufige Vorhersagen (5 Min TTL)</li>
<li><strong>Training-Cache:</strong> Vorberechnete Features (1 Stunde TTL)</li>
<li><strong>Result-Cache:</strong> API-Responses (2 Min TTL)</li>
</ul>
<p><strong>Performance-Optimierungen:</strong></p>
<ul>
<li><strong>Batch-Processing:</strong> Mehrere Vorhersagen gleichzeitig</li>
<li><strong>Model-Pooling:</strong> Mehrere Modell-Instanzen</li>
<li><strong>Async-Processing:</strong> Nicht-blockierende API-Calls</li>
<li><strong>Memory-Management:</strong> Automatische Garbage Collection</li>
</ul>
<h4 id="monitoring-und-logging">Monitoring und Logging</h4>
<p><strong>ML-Metriken:</strong></p>
<ul>
<li><strong>Model-Accuracy:</strong> Kontinuierliche √úberwachung</li>
<li><strong>Prediction-Latency:</strong> Response-Zeit-Monitoring</li>
<li><strong>Training-Time:</strong> Modell-Update-Performance</li>
<li><strong>Error-Rate:</strong> Fehlerrate der Vorhersagen</li>
</ul>
<p><strong>Logging:</strong></p>
<pre class="hljs"><code><div>logger.info(<span class="hljs-string">f"ML Model Training: <span class="hljs-subst">{model_name}</span>"</span>)
logger.info(<span class="hljs-string">f"Accuracy: <span class="hljs-subst">{accuracy:<span class="hljs-number">.3</span>f}</span>"</span>)
logger.info(<span class="hljs-string">f"Training Time: <span class="hljs-subst">{training_time:<span class="hljs-number">.2</span>f}</span>s"</span>)
logger.warning(<span class="hljs-string">f"Model Accuracy below threshold: <span class="hljs-subst">{accuracy}</span>"</span>)
</div></code></pre>
<h3 id="performance-optimierung">Performance-Optimierung</h3>
<h4 id="caching-strategie">Caching-Strategie</h4>
<p><strong>Redis-Caching:</strong></p>
<ul>
<li><strong>API-Responses:</strong> 5 Minuten TTL</li>
<li><strong>Chart-Daten:</strong> 10 Minuten TTL</li>
<li><strong>Statische Berechnungen:</strong> 1 Stunde TTL</li>
</ul>
<p><strong>Datenbank-Optimierung:</strong></p>
<ul>
<li><strong>Indizes:</strong> Auf h√§ufig abgefragte Spalten</li>
<li><strong>Query-Optimierung:</strong> N+1 Problem vermeiden</li>
<li><strong>Connection Pooling:</strong> Effiziente DB-Verbindungen</li>
</ul>
<h4 id="monitoring">Monitoring</h4>
<p><strong>Performance-Metriken:</strong></p>
<ul>
<li><strong>Response Time:</strong> &lt; 200ms (mit Cache: &lt; 50ms)</li>
<li><strong>Uptime:</strong> 99.9%</li>
<li><strong>Memory Usage:</strong> &lt; 1GB</li>
<li><strong>CPU Usage:</strong> &lt; 50%</li>
</ul>
<p><strong>Logging:</strong></p>
<ul>
<li><strong>Application Logs:</strong> Strukturiertes JSON-Logging</li>
<li><strong>Error Tracking:</strong> Automatische Fehlerbehandlung</li>
<li><strong>Performance Monitoring:</strong> Request-Timing</li>
</ul>
<h3 id="sicherheit">Sicherheit</h3>
<h4 id="authentifizierung">Authentifizierung</h4>
<p><strong>Multi-User-System:</strong></p>
<ul>
<li><strong>Rollen:</strong> Admin, User, Viewer</li>
<li><strong>Session Management:</strong> Sichere Session-Handling</li>
<li><strong>Password Security:</strong> Bcrypt-Hashing</li>
</ul>
<h4 id="datenvalidierung">Datenvalidierung</h4>
<p><strong>Input Validation:</strong></p>
<ul>
<li><strong>Frontend:</strong> JavaScript-Validierung</li>
<li><strong>Backend:</strong> Python-Validierung</li>
<li><strong>SQL Injection:</strong> ORM-Schutz</li>
</ul>
<p><strong>CSRF-Protection:</strong></p>
<ul>
<li><strong>Token-basiert:</strong> CSRF-Tokens</li>
<li><strong>Same-Origin Policy:</strong> Browser-Schutz</li>
</ul>
<hr>
<h2 id="%F0%9F%94%8C-api-referenz">üîå API-Referenz</h2>
<h3 id="authentifizierung">Authentifizierung</h3>
<h4 id="login">Login</h4>
<pre class="hljs"><code><div><span class="hljs-attribute">POST /api/auth/login
Content-Type</span>: application/json

<span class="json">{
    <span class="hljs-attr">"email"</span>: <span class="hljs-string">"user@example.com"</span>,
    <span class="hljs-attr">"password"</span>: <span class="hljs-string">"password"</span>
}
</span></div></code></pre>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"token"</span>: <span class="hljs-string">"jwt_token_here"</span>,
    <span class="hljs-attr">"user"</span>: {
        <span class="hljs-attr">"id"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">"email"</span>: <span class="hljs-string">"user@example.com"</span>,
        <span class="hljs-attr">"role"</span>: <span class="hljs-string">"user"</span>
    }
}
</div></code></pre>
<h3 id="projekte">Projekte</h3>
<h4 id="alle-projekte-abrufen">Alle Projekte abrufen</h4>
<pre class="hljs"><code><div><span class="hljs-attribute">GET /api/projects
Authorization</span>: Bearer jwt_token
</div></code></pre>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"projects"</span>: [
        {
            <span class="hljs-attr">"id"</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"BESS Projekt 1"</span>,
            <span class="hljs-attr">"location"</span>: <span class="hljs-string">"Wien"</span>,
            <span class="hljs-attr">"bess_size"</span>: <span class="hljs-number">8.0</span>,
            <span class="hljs-attr">"bess_power"</span>: <span class="hljs-number">2.0</span>,
            <span class="hljs-attr">"created_at"</span>: <span class="hljs-string">"2025-01-01T00:00:00Z"</span>
        }
    ]
}
</div></code></pre>
<h4 id="projekt-erstellen">Projekt erstellen</h4>
<pre class="hljs"><code><div><span class="hljs-attribute">POST /api/projects
Authorization</span>: Bearer jwt_token
<span class="hljs-attribute">Content-Type</span>: application/json

<span class="json">{
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Neues BESS Projekt"</span>,
    <span class="hljs-attr">"location"</span>: <span class="hljs-string">"Salzburg"</span>,
    <span class="hljs-attr">"bess_size"</span>: <span class="hljs-number">10.0</span>,
    <span class="hljs-attr">"bess_power"</span>: <span class="hljs-number">2.5</span>,
    <span class="hljs-attr">"daily_cycles"</span>: <span class="hljs-number">1.5</span>
}
</span></div></code></pre>
<h3 id="simulationen">Simulationen</h3>
<h4 id="simulation-starten">Simulation starten</h4>
<pre class="hljs"><code><div><span class="hljs-attribute">POST /api/simulation/run
Authorization</span>: Bearer jwt_token
<span class="hljs-attribute">Content-Type</span>: application/json

<span class="json">{
    <span class="hljs-attr">"project_id"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"use_case"</span>: <span class="hljs-string">"UC1"</span>,
    <span class="hljs-attr">"parameters"</span>: {
        <span class="hljs-attr">"investment_cost"</span>: <span class="hljs-number">1000000</span>,
        <span class="hljs-attr">"operation_cost"</span>: <span class="hljs-number">50000</span>,
        <span class="hljs-attr">"electricity_price"</span>: <span class="hljs-number">0.25</span>
    }
}
</span></div></code></pre>
<h4 id="simulationsergebnisse-abrufen">Simulationsergebnisse abrufen</h4>
<pre class="hljs"><code><div><span class="hljs-attribute">GET /api/simulation/results/1
Authorization</span>: Bearer jwt_token
</div></code></pre>
<h3 id="dispatch">Dispatch</h3>
<h4 id="dispatch-simulation-starten">Dispatch-Simulation starten</h4>
<pre class="hljs"><code><div><span class="hljs-attribute">POST /api/dispatch/run
Authorization</span>: Bearer jwt_token
<span class="hljs-attribute">Content-Type</span>: application/json

<span class="json">{
    <span class="hljs-attr">"project_id"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"start_date"</span>: <span class="hljs-string">"2025-01-01"</span>,
    <span class="hljs-attr">"end_date"</span>: <span class="hljs-string">"2025-01-02"</span>,
    <span class="hljs-attr">"mode"</span>: <span class="hljs-string">"baseline"</span>
}
</span></div></code></pre>
<h4 id="dispatch-status-abrufen">Dispatch-Status abrufen</h4>
<pre class="hljs"><code><div><span class="hljs-attribute">GET /api/dispatch/status/1
Authorization</span>: Bearer jwt_token
</div></code></pre>
<h3 id="datenimport">Datenimport</h3>
<h4 id="spot-preise-importieren">Spot-Preise importieren</h4>
<pre class="hljs"><code><div><span class="hljs-attribute">POST /api/data/import/spot-prices
Authorization</span>: Bearer jwt_token
<span class="hljs-attribute">Content-Type</span>: multipart/form-data

<span class="apache"><span class="hljs-attribute">file</span>:<span class="hljs-meta"> [CSV/Excel Datei]</span>
</span></div></code></pre>
<h4 id="lastprofile-importieren">Lastprofile importieren</h4>
<pre class="hljs"><code><div><span class="hljs-attribute">POST /api/data/import/load-profiles
Authorization</span>: Bearer jwt_token
<span class="hljs-attribute">Content-Type</span>: multipart/form-data

<span class="apache"><span class="hljs-attribute">file</span>:<span class="hljs-meta"> [CSV/Excel Datei]</span>
</span></div></code></pre>
<h4 id="awattar-api-integration">aWattar API Integration</h4>
<p><strong>System-Status abrufen</strong></p>
<pre class="hljs"><code><div><span class="hljs-attribute">GET /api/awattar/status
</span></div></code></pre>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"api_connection"</span>: <span class="hljs-string">"OK"</span>,
    <span class="hljs-attr">"database_records"</span>: <span class="hljs-number">48</span>,
    <span class="hljs-attr">"last_24h"</span>: <span class="hljs-number">48</span>,
    <span class="hljs-attr">"latest_price"</span>: <span class="hljs-string">"91.14 ‚Ç¨/MWh"</span>
}
</div></code></pre>
<p><strong>Neueste Preisdaten abrufen</strong></p>
<pre class="hljs"><code><div><span class="hljs-attribute">GET /api/awattar/latest
</span></div></code></pre>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"data"</span>: [
        {
            <span class="hljs-attr">"timestamp"</span>: <span class="hljs-string">"2025-01-07T23:00:00+01:00"</span>,
            <span class="hljs-attr">"price_eur_mwh"</span>: <span class="hljs-number">91.14</span>,
            <span class="hljs-attr">"source"</span>: <span class="hljs-string">"aWATTAR"</span>,
            <span class="hljs-attr">"region"</span>: <span class="hljs-string">"AT"</span>
        }
    ]
}
</div></code></pre>
<p><strong>Manueller Datenimport</strong></p>
<pre class="hljs"><code><div><span class="hljs-attribute">POST /api/awattar/fetch
Content-Type</span>: application/json

<span class="json">{
    <span class="hljs-attr">"start_date"</span>: <span class="hljs-string">"2025-01-07"</span>,
    <span class="hljs-attr">"end_date"</span>: <span class="hljs-string">"2025-01-08"</span>
}
</span></div></code></pre>
<p><strong>API-Verbindungstest</strong></p>
<pre class="hljs"><code><div><span class="hljs-attribute">GET /api/awattar/test
</span></div></code></pre>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"message"</span>: <span class="hljs-string">"aWattar API Verbindung erfolgreich"</span>,
    <span class="hljs-attr">"test_data"</span>: {
        <span class="hljs-attr">"api_url"</span>: <span class="hljs-string">"https://api.awattar.at/v1/marketdata"</span>,
        <span class="hljs-attr">"response_time"</span>: <span class="hljs-string">"0.234s"</span>,
        <span class="hljs-attr">"data_points"</span>: <span class="hljs-number">24</span>
    }
}
</div></code></pre>
<h4 id="smart-grid-api-integration">Smart Grid API Integration</h4>
<p><strong>FCR (Frequenzregelung) Daten abrufen</strong></p>
<pre class="hljs"><code><div><span class="hljs-attribute">GET /api/smart-grid/fcr?hours=24
</span></div></code></pre>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"data"</span>: [
        {
            <span class="hljs-attr">"timestamp"</span>: <span class="hljs-string">"2025-01-07T23:00:00+01:00"</span>,
            <span class="hljs-attr">"service_type"</span>: <span class="hljs-string">"fcr"</span>,
            <span class="hljs-attr">"power_mw"</span>: <span class="hljs-number">15.5</span>,
            <span class="hljs-attr">"price_eur_mw"</span>: <span class="hljs-number">25.30</span>,
            <span class="hljs-attr">"grid_operator"</span>: <span class="hljs-string">"APG"</span>,
            <span class="hljs-attr">"service_provider"</span>: <span class="hljs-string">"Provider 1"</span>,
            <span class="hljs-attr">"grid_area"</span>: <span class="hljs-string">"at"</span>,
            <span class="hljs-attr">"frequency_hz"</span>: <span class="hljs-number">50.02</span>,
            <span class="hljs-attr">"voltage_kv"</span>: <span class="hljs-number">400.1</span>,
            <span class="hljs-attr">"response_time_ms"</span>: <span class="hljs-number">30000</span>,
            <span class="hljs-attr">"availability"</span>: <span class="hljs-number">0.95</span>,
            <span class="hljs-attr">"source"</span>: <span class="hljs-string">"APG FCR API"</span>
        }
    ],
    <span class="hljs-attr">"count"</span>: <span class="hljs-number">24</span>
}
</div></code></pre>
<p><strong>Alle Smart Grid Services abrufen</strong></p>
<pre class="hljs"><code><div><span class="hljs-attribute">POST /api/smart-grid/fetch
Content-Type</span>: application/json

<span class="json">{
    <span class="hljs-attr">"service_type"</span>: <span class="hljs-string">"all"</span>,
    <span class="hljs-attr">"hours"</span>: <span class="hljs-number">24</span>
}
</span></div></code></pre>
<p><strong>Smart Grid API-Status</strong></p>
<pre class="hljs"><code><div><span class="hljs-attribute">GET /api/smart-grid/status
</span></div></code></pre>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"status"</span>: <span class="hljs-string">"demo"</span>,
    <span class="hljs-attr">"message"</span>: <span class="hljs-string">"Demo-Modus f√ºr 5 Services verf√ºgbar"</span>,
    <span class="hljs-attr">"services"</span>: {
        <span class="hljs-attr">"fcr"</span>: {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Frequenzregelung (FCR)"</span>,
            <span class="hljs-attr">"status"</span>: <span class="hljs-string">"demo"</span>,
            <span class="hljs-attr">"message"</span>: <span class="hljs-string">"Demo-Modus - 24 Test-Datenpunkte"</span>
        },
        <span class="hljs-attr">"afrr"</span>: {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Automatische Frequenzregelung (aFRR)"</span>,
            <span class="hljs-attr">"status"</span>: <span class="hljs-string">"demo"</span>,
            <span class="hljs-attr">"message"</span>: <span class="hljs-string">"Demo-Modus - 24 Test-Datenpunkte"</span>
        }
    },
    <span class="hljs-attr">"demo_available"</span>: <span class="hljs-literal">true</span>
}
</div></code></pre>
<h4 id="iot-sensor-api-integration">IoT-Sensor API Integration</h4>
<p><strong>Batterie-Sensor-Daten abrufen</strong></p>
<pre class="hljs"><code><div><span class="hljs-attribute">GET /api/iot/battery?hours=24
</span></div></code></pre>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"data"</span>: [
        {
            <span class="hljs-attr">"timestamp"</span>: <span class="hljs-string">"2025-01-07T23:00:00+01:00"</span>,
            <span class="hljs-attr">"voltage_v"</span>: <span class="hljs-number">402.5</span>,
            <span class="hljs-attr">"current_a"</span>: <span class="hljs-number">25.3</span>,
            <span class="hljs-attr">"power_w"</span>: <span class="hljs-number">10180.0</span>,
            <span class="hljs-attr">"temperature_c"</span>: <span class="hljs-number">28.5</span>,
            <span class="hljs-attr">"soc_percent"</span>: <span class="hljs-number">85.2</span>,
            <span class="hljs-attr">"soh_percent"</span>: <span class="hljs-number">98.1</span>,
            <span class="hljs-attr">"cycle_count"</span>: <span class="hljs-number">1250</span>,
            <span class="hljs-attr">"sensor_id"</span>: <span class="hljs-string">"BAT_SENSOR_01"</span>,
            <span class="hljs-attr">"battery_id"</span>: <span class="hljs-string">"BATTERY_01"</span>,
            <span class="hljs-attr">"location"</span>: <span class="hljs-string">"BESS_Location_1"</span>,
            <span class="hljs-attr">"source"</span>: <span class="hljs-string">"Battery Sensor (Demo)"</span>
        }
    ],
    <span class="hljs-attr">"count"</span>: <span class="hljs-number">96</span>
}
</div></code></pre>
<p><strong>Alle IoT-Sensor-Daten abrufen</strong></p>
<pre class="hljs"><code><div><span class="hljs-attribute">POST /api/iot/fetch
Content-Type</span>: application/json

<span class="json">{
    <span class="hljs-attr">"sensor_type"</span>: <span class="hljs-string">"all"</span>,
    <span class="hljs-attr">"hours"</span>: <span class="hljs-number">24</span>
}
</span></div></code></pre>
<p><strong>IoT-Sensor API-Status</strong></p>
<pre class="hljs"><code><div><span class="hljs-attribute">GET /api/iot/status
</span></div></code></pre>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"status"</span>: <span class="hljs-string">"demo"</span>,
    <span class="hljs-attr">"message"</span>: <span class="hljs-string">"Demo-Modus f√ºr 4 Sensor-Typen verf√ºgbar"</span>,
    <span class="hljs-attr">"sensors"</span>: {
        <span class="hljs-attr">"battery"</span>: {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Batterie-Sensoren"</span>,
            <span class="hljs-attr">"status"</span>: <span class="hljs-string">"demo"</span>,
            <span class="hljs-attr">"message"</span>: <span class="hljs-string">"Demo-Modus - 96 Test-Datenpunkte"</span>
        },
        <span class="hljs-attr">"pv"</span>: {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"PV-Sensoren"</span>,
            <span class="hljs-attr">"status"</span>: <span class="hljs-string">"demo"</span>,
            <span class="hljs-attr">"message"</span>: <span class="hljs-string">"Demo-Modus - 96 Test-Datenpunkte"</span>
        }
    },
    <span class="hljs-attr">"protocols"</span>: {
        <span class="hljs-attr">"modbus_tcp"</span>: {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Modbus TCP"</span>,
            <span class="hljs-attr">"status"</span>: <span class="hljs-string">"available"</span>,
            <span class="hljs-attr">"message"</span>: <span class="hljs-string">"Port 502 verf√ºgbar"</span>
        },
        <span class="hljs-attr">"mqtt"</span>: {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"MQTT"</span>,
            <span class="hljs-attr">"status"</span>: <span class="hljs-string">"available"</span>,
            <span class="hljs-attr">"message"</span>: <span class="hljs-string">"Port 1883 verf√ºgbar"</span>
        }
    },
    <span class="hljs-attr">"demo_available"</span>: <span class="hljs-literal">true</span>
}
</div></code></pre>
<h3 id="export">Export</h3>
<h4 id="pdf-export">PDF-Export</h4>
<pre class="hljs"><code><div><span class="hljs-attribute">POST /api/export/pdf
Authorization</span>: Bearer jwt_token
<span class="hljs-attribute">Content-Type</span>: application/json

<span class="json">{
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"simulation_report"</span>,
    <span class="hljs-attr">"project_id"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"simulation_id"</span>: <span class="hljs-number">1</span>
}
</span></div></code></pre>
<h4 id="excel-export">Excel-Export</h4>
<pre class="hljs"><code><div><span class="hljs-attribute">POST /api/export/excel
Authorization</span>: Bearer jwt_token
<span class="hljs-attribute">Content-Type</span>: application/json

<span class="json">{
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"project_data"</span>,
    <span class="hljs-attr">"project_id"</span>: <span class="hljs-number">1</span>
}
</span></div></code></pre>
<hr>
<h2 id="%F0%9F%9B%A0%EF%B8%8F-troubleshooting">üõ†Ô∏è Troubleshooting</h2>
<h3 id="h%C3%A4ufige-probleme">H√§ufige Probleme</h3>
<h4 id="1-server-startet-nicht">1. Server startet nicht</h4>
<p><strong>Problem:</strong> <code>python run.py</code> f√ºhrt zu Fehlern</p>
<p><strong>L√∂sung:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># Python-Version pr√ºfen</span>
python --version

<span class="hljs-comment"># Abh√§ngigkeiten neu installieren</span>
pip install -r requirements.txt --force-reinstall

<span class="hljs-comment"># Port pr√ºfen</span>
netstat -tulpn | grep :5000
</div></code></pre>
<h4 id="2-datenbank-fehler">2. Datenbank-Fehler</h4>
<p><strong>Problem:</strong> SQLite-Fehler oder fehlende Tabellen</p>
<p><strong>L√∂sung:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># Datenbank neu initialisieren</span>
python init_db.py

<span class="hljs-comment"># Datenbank-Backup wiederherstellen</span>
python restore_database.py backup_file.sql
</div></code></pre>
<h4 id="3-import-fehler">3. Import-Fehler</h4>
<p><strong>Problem:</strong> CSV/Excel-Import funktioniert nicht</p>
<p><strong>L√∂sung:</strong></p>
<ul>
<li><strong>Dateiformat pr√ºfen:</strong> UTF-8 Encoding</li>
<li><strong>Spalten-Format:</strong> Datum als YYYY-MM-DD HH:MM:SS</li>
<li><strong>Dateigr√∂√üe:</strong> Max. 100MB</li>
<li><strong>Browser-Konsole:</strong> Fehlermeldungen pr√ºfen</li>
</ul>
<h4 id="4-performance-probleme">4. Performance-Probleme</h4>
<p><strong>Problem:</strong> Langsame Ladezeiten</p>
<p><strong>L√∂sung:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># Redis-Cache pr√ºfen</span>
redis-cli ping

<span class="hljs-comment"># Datenbank-Indizes pr√ºfen</span>
python check_database_structure.py

<span class="hljs-comment"># Logs analysieren</span>
tail -f logs/app.log
</div></code></pre>
<h4 id="5-mobile-probleme">5. Mobile-Probleme</h4>
<p><strong>Problem:</strong> Men√º funktioniert nicht auf Handy</p>
<p><strong>L√∂sung:</strong></p>
<ul>
<li><strong>Browser-Cache leeren</strong></li>
<li><strong>JavaScript aktiviert?</strong></li>
<li><strong>Touch-Events:</strong> Entwicklertools pr√ºfen</li>
<li><strong>Responsive Design:</strong> Viewport-Meta-Tag pr√ºfen</li>
</ul>
<h3 id="log-analyse">Log-Analyse</h3>
<h4 id="log-dateien-finden">Log-Dateien finden</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Anwendungs-Logs</span>
tail -f logs/app.log

<span class="hljs-comment"># Nginx-Logs</span>
tail -f /var/<span class="hljs-built_in">log</span>/nginx/access.log
tail -f /var/<span class="hljs-built_in">log</span>/nginx/error.log

<span class="hljs-comment"># System-Logs</span>
journalctl -u bess -f
</div></code></pre>
<h4 id="h%C3%A4ufige-fehlermeldungen">H√§ufige Fehlermeldungen</h4>
<p><strong>&quot;ModuleNotFoundError&quot;:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># Virtual Environment aktivieren</span>
<span class="hljs-built_in">source</span> venv/bin/activate
pip install -r requirements.txt
</div></code></pre>
<p><strong>&quot;Database is locked&quot;:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># SQLite-Prozesse beenden</span>
pkill -f sqlite
<span class="hljs-comment"># Oder Datenbank neu starten</span>
python init_db.py
</div></code></pre>
<p><strong>&quot;Permission denied&quot;:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># Berechtigungen setzen</span>
sudo chown -R www-data:www-data /opt/bess-simulation
sudo chmod -R 755 /opt/bess-simulation
</div></code></pre>
<h3 id="support-kontakt">Support-Kontakt</h3>
<p><strong>GitHub Issues:</strong> https://github.com/HSchlagi/bess-simulation/issues<br>
<strong>E-Mail:</strong> office@instanet.at<br>
<strong>Dokumentation:</strong> Diese Datei und README.md</p>
<hr>
<h2 id="%F0%9F%91%A8%E2%80%8D%F0%9F%92%BB-entwickler-guide">üë®‚Äçüíª Entwickler-Guide</h2>
<h3 id="entwicklungsumgebung-einrichten">Entwicklungsumgebung einrichten</h3>
<h4 id="1-repository-forken">1. Repository forken</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Fork auf GitHub erstellen</span>
<span class="hljs-comment"># Dann lokal klonen</span>
git <span class="hljs-built_in">clone</span> https://github.com/[USERNAME]/bess-simulation.git
<span class="hljs-built_in">cd</span> bess-simulation
</div></code></pre>
<h4 id="2-development-branch-erstellen">2. Development-Branch erstellen</h4>
<pre class="hljs"><code><div>git checkout -b feature/neue-funktion
</div></code></pre>
<h4 id="3-development-server-starten">3. Development-Server starten</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Debug-Modus aktivieren</span>
<span class="hljs-built_in">export</span> FLASK_ENV=development
<span class="hljs-built_in">export</span> FLASK_DEBUG=1

<span class="hljs-comment"># Server starten</span>
python run.py
</div></code></pre>
<h3 id="code-struktur">Code-Struktur</h3>
<pre class="hljs"><code><div>bess-simulation/
‚îú‚îÄ‚îÄ app/                    # Hauptanwendung
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py        # Flask-App Initialisierung
‚îÇ   ‚îú‚îÄ‚îÄ models.py          # Datenbank-Modelle
‚îÇ   ‚îú‚îÄ‚îÄ routes/            # Route-Handler
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py        # Haupt-Routes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.py         # API-Endpoints
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth.py        # Authentifizierung
‚îÇ   ‚îú‚îÄ‚îÄ templates/         # HTML-Templates
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.html      # Basis-Template
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard.html # Dashboard
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îî‚îÄ‚îÄ static/            # Statische Dateien
‚îÇ       ‚îú‚îÄ‚îÄ css/           # Stylesheets
‚îÇ       ‚îú‚îÄ‚îÄ js/            # JavaScript
‚îÇ       ‚îî‚îÄ‚îÄ img/           # Bilder
‚îú‚îÄ‚îÄ instance/              # Instanz-spezifische Dateien
‚îÇ   ‚îî‚îÄ‚îÄ bess.db           # SQLite-Datenbank
‚îú‚îÄ‚îÄ logs/                  # Log-Dateien
‚îú‚îÄ‚îÄ tests/                 # Unit-Tests
‚îú‚îÄ‚îÄ requirements.txt       # Python-Abh√§ngigkeiten
‚îú‚îÄ‚îÄ run.py                # Server-Start
‚îî‚îÄ‚îÄ README.md             # Projekt-Dokumentation
</div></code></pre>
<h3 id="coding-standards">Coding-Standards</h3>
<h4 id="python">Python</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># PEP 8 befolgen</span>
<span class="hljs-comment"># Type Hints verwenden</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">calculate_npv</span><span class="hljs-params">(cashflows: List[float], discount_rate: float)</span> -&gt; float:</span>
    <span class="hljs-string">"""Berechnet den Net Present Value."""</span>
    <span class="hljs-keyword">return</span> sum(cf / (<span class="hljs-number">1</span> + discount_rate) ** i <span class="hljs-keyword">for</span> i, cf <span class="hljs-keyword">in</span> enumerate(cashflows))

<span class="hljs-comment"># Docstrings f√ºr Funktionen</span>
<span class="hljs-comment"># Kommentare auf Deutsch</span>
</div></code></pre>
<h4 id="javascript">JavaScript</h4>
<pre class="hljs"><code><div><span class="hljs-comment">// ES6+ verwenden</span>
<span class="hljs-comment">// Konsistente Einr√ºckung (2 Spaces)</span>
<span class="hljs-comment">// Kommentare auf Deutsch</span>

<span class="hljs-comment">/**
 * L√§dt Projekte vom Server
 * <span class="hljs-doctag">@returns <span class="hljs-type">{Promise&lt;Array&gt;}</span> </span>Array von Projekten
 */</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadProjects</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">'/api/projects'</span>);
        <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.json();
        <span class="hljs-keyword">return</span> data.projects;
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'Fehler beim Laden der Projekte:'</span>, error);
        <span class="hljs-keyword">return</span> [];
    }
}
</div></code></pre>
<h4 id="htmlcss">HTML/CSS</h4>
<pre class="hljs"><code><div><span class="hljs-comment">&lt;!-- Semantic HTML verwenden --&gt;</span>
<span class="hljs-comment">&lt;!-- Accessibility ber√ºcksichtigen --&gt;</span>
<span class="hljs-comment">&lt;!-- Tailwind CSS Klassen --&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-white rounded-lg shadow-md p-6"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-xl font-semibold text-gray-800 mb-4"</span>&gt;</span>
        Projekt-√úbersicht
    <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Inhalt --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</div></code></pre>
<h3 id="testing">Testing</h3>
<h4 id="unit-tests-ausf%C3%BChren">Unit-Tests ausf√ºhren</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Alle Tests</span>
python -m pytest tests/

<span class="hljs-comment"># Spezifische Tests</span>
python -m pytest tests/test_models.py

<span class="hljs-comment"># Mit Coverage</span>
python -m pytest --cov=app tests/
</div></code></pre>
<h4 id="test-beispiel">Test-Beispiel</h4>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> pytest
<span class="hljs-keyword">from</span> app.models <span class="hljs-keyword">import</span> Project

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_project_creation</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-string">"""Testet die Projekt-Erstellung."""</span>
    project = Project(
        name=<span class="hljs-string">"Test Projekt"</span>,
        location=<span class="hljs-string">"Wien"</span>,
        bess_size=<span class="hljs-number">8.0</span>
    )
    <span class="hljs-keyword">assert</span> project.name == <span class="hljs-string">"Test Projekt"</span>
    <span class="hljs-keyword">assert</span> project.bess_size == <span class="hljs-number">8.0</span>
</div></code></pre>
<h3 id="deployment">Deployment</h3>
<h4 id="staging-deployment">Staging-Deployment</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Staging-Branch deployen</span>
git checkout staging
git pull origin staging

<span class="hljs-comment"># Tests ausf√ºhren</span>
python -m pytest

<span class="hljs-comment"># Staging-Server aktualisieren</span>
./deploy_staging.sh
</div></code></pre>
<h4 id="production-deployment">Production-Deployment</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Main-Branch deployen</span>
git checkout main
git pull origin main

<span class="hljs-comment"># Production-Server aktualisieren</span>
./deploy_production.sh

<span class="hljs-comment"># Health-Check</span>
curl -f http://bess.instanet.at/health
</div></code></pre>
<h3 id="contributing">Contributing</h3>
<h4 id="pull-request-erstellen">Pull Request erstellen</h4>
<ol>
<li><strong>Feature-Branch erstellen</strong></li>
<li><strong>√Ñnderungen committen</strong></li>
<li><strong>Tests schreiben/aktualisieren</strong></li>
<li><strong>Pull Request erstellen</strong></li>
<li><strong>Code Review abwarten</strong></li>
<li><strong>Merge nach Approval</strong></li>
</ol>
<h4 id="commit-messages">Commit-Messages</h4>
<pre class="hljs"><code><div>feat: Neue Dispatch-Funktion hinzugef√ºgt
fix: Mobile Men√º Touch-Events korrigiert
docs: API-Dokumentation erweitert
test: Unit-Tests f√ºr Simulation-Module
refactor: Code-Struktur optimiert
</div></code></pre>
<hr>
<h2 id="%F0%9F%93%96-benutzerhandbuch">üìñ BENUTZERHANDBUCH</h2>
<h3 id="%F0%9F%8E%AF-%C3%BCbersicht-der-hauptfunktionen">üéØ √úbersicht der Hauptfunktionen</h3>
<p>Das BESS-Simulationsprogramm bietet eine umfassende Plattform f√ºr die Planung, Simulation und Analyse von Batteriespeicher-Systemen. Alle Funktionen sind √ºber ein intuitives Web-Interface zug√§nglich.</p>
<h4 id="%F0%9F%8F%A0-dashboard">üè† Dashboard</h4>
<ul>
<li><strong>√úbersicht:</strong> Alle Projekte auf einen Blick</li>
<li><strong>KPI-Dashboard:</strong> Wichtige Kennzahlen und Trends</li>
<li><strong>Schnellzugriff:</strong> Direkte Navigation zu allen Funktionen</li>
<li><strong>Status-Anzeige:</strong> Aktuelle System- und Projekt-Status</li>
</ul>
<h4 id="%F0%9F%93%8A-projekt-management">üìä Projekt-Management</h4>
<ul>
<li><strong>Neue Projekte:</strong> Schritt-f√ºr-Schritt Projekt-Erstellung</li>
<li><strong>Projekt-Bearbeitung:</strong> Vollst√§ndige Parametrisierung</li>
<li><strong>Projekt-Klonen:</strong> Bestehende Projekte als Vorlage nutzen</li>
<li><strong>Projekt-Archivierung:</strong> Alte Projekte verwalten</li>
</ul>
<h4 id="%F0%9F%94%8B-bess-simulation">üîã BESS-Simulation</h4>
<ul>
<li><strong>Wirtschaftlichkeitsanalyse:</strong> 10-Jahres-Berechnungen</li>
<li><strong>Use Cases:</strong> UC1-UC4 mit spezifischen Szenarien</li>
<li><strong>Parameter-Variation:</strong> Sensitivit√§tsanalysen</li>
<li><strong>Echtzeit-Simulation:</strong> Sofortige Ergebnisse</li>
</ul>
<h4 id="%F0%9F%93%88-dispatch--redispatch">üìà Dispatch &amp; Redispatch</h4>
<ul>
<li><strong>Intraday-Trading:</strong> Spot-Preis-Optimierung</li>
<li><strong>Redispatch-Simulation:</strong> Netzstabilisierung</li>
<li><strong>Historische Analysen:</strong> Vergangene Simulationen</li>
<li><strong>Performance-Tracking:</strong> Erfolgsmessung</li>
</ul>
<h4 id="%F0%9F%93%A5-datenimport">üì• Datenimport</h4>
<ul>
<li><strong>Spot-Preise:</strong> APG/ENTSOE Integration</li>
<li><strong>Lastprofile:</strong> CSV/Excel Import</li>
<li><strong>Wetterdaten:</strong> PVGIS Integration</li>
<li><strong>Wasserkraft:</strong> eHyd API</li>
</ul>
<h4 id="%F0%9F%93%A4-export--berichte">üì§ Export &amp; Berichte</h4>
<ul>
<li><strong>PDF-Reports:</strong> Professionelle Dokumentation</li>
<li><strong>Excel-Export:</strong> Datenanalyse</li>
<li><strong>Chart-Export:</strong> Grafische Darstellungen</li>
<li><strong>API-Export:</strong> System-Integration</li>
</ul>
<h3 id="%F0%9F%9A%80-erste-schritte">üöÄ Erste Schritte</h3>
<h4 id="1-anmeldung--navigation">1. Anmeldung &amp; Navigation</h4>
<pre class="hljs"><code><div>1. √ñffnen Sie die BESS-Simulation in Ihrem Browser
2. Melden Sie sich mit Ihren Zugangsdaten an
3. Das Dashboard zeigt alle verf√ºgbaren Funktionen
4. Nutzen Sie die Navigation f√ºr schnellen Zugriff
</div></code></pre>
<h4 id="2-neues-projekt-erstellen">2. Neues Projekt erstellen</h4>
<pre class="hljs"><code><div>1. Klicken Sie auf &quot;Neues Projekt&quot; im Dashboard
2. Geben Sie Projektname und Beschreibung ein
3. W√§hlen Sie den Standort (f√ºr Wetterdaten)
4. Definieren Sie die BESS-Parameter:
   - Batteriekapazit√§t (kWh)
   - Lade-/Entladeleistung (kW)
   - Wirkungsgrade
   - Zyklenanzahl
5. Speichern Sie das Projekt
</div></code></pre>
<h4 id="3-erste-simulation-durchf%C3%BChren">3. Erste Simulation durchf√ºhren</h4>
<pre class="hljs"><code><div>1. √ñffnen Sie Ihr Projekt
2. Klicken Sie auf &quot;Simulation starten&quot;
3. W√§hlen Sie den Use Case (UC1-UC4)
4. Starten Sie die Berechnung
5. Analysieren Sie die Ergebnisse
</div></code></pre>
<h3 id="%F0%9F%93%8B-detaillierte-funktionsbeschreibungen">üìã Detaillierte Funktionsbeschreibungen</h3>
<h4 id="%F0%9F%8F%97%EF%B8%8F-projekt-erstellung">üèóÔ∏è Projekt-Erstellung</h4>
<p><strong>Schritt 1: Grunddaten</strong></p>
<ul>
<li><strong>Projektname:</strong> Eindeutiger Name f√ºr das Projekt</li>
<li><strong>Beschreibung:</strong> Detaillierte Projektbeschreibung</li>
<li><strong>Standort:</strong> Geografische Position (f√ºr Wetterdaten)</li>
<li><strong>Projekttyp:</strong> BESS, PV+BESS, Wind+BESS, etc.</li>
</ul>
<p><strong>Schritt 2: BESS-Parameter</strong></p>
<ul>
<li><strong>Nennkapazit√§t:</strong> Gesamte Batteriekapazit√§t in kWh</li>
<li><strong>Ladeleistung:</strong> Maximale Ladeleistung in kW</li>
<li><strong>Entladeleistung:</strong> Maximale Entladeleistung in kW</li>
<li><strong>Wirkungsgrad Lade:</strong> Verluste beim Laden (0-1)</li>
<li><strong>Wirkungsgrad Entlade:</strong> Verluste beim Entladen (0-1)</li>
<li><strong>Zyklenanzahl:</strong> Erwartete Lebensdauer in Zyklen</li>
<li><strong>Selbstentladung:</strong> T√§gliche Verluste in %</li>
</ul>
<p><strong>Schritt 3: Wirtschaftliche Parameter</strong></p>
<ul>
<li><strong>Investitionskosten:</strong> Gesamtkosten in ‚Ç¨</li>
<li><strong>Wartungskosten:</strong> J√§hrliche Kosten in ‚Ç¨</li>
<li><strong>Zinssatz:</strong> Kapitalkosten in %</li>
<li><strong>Inflationsrate:</strong> Preissteigerung in %</li>
<li><strong>Strompreis:</strong> Bezugspreis in ‚Ç¨/kWh</li>
<li><strong>Einspeiseverg√ºtung:</strong> Verkaufspreis in ‚Ç¨/kWh</li>
</ul>
<p><strong>Schritt 4: Lastprofil &amp; Erzeugung</strong></p>
<ul>
<li><strong>Lastprofil:</strong> Verbrauchsprofil (CSV/Excel)</li>
<li><strong>PV-Anlage:</strong> Solarerzeugung (optional)</li>
<li><strong>Windanlage:</strong> Windenergie (optional)</li>
<li><strong>Wasserkraft:</strong> Hydroenergie (optional)</li>
</ul>
<h4 id="%F0%9F%94%8B-bess-simulation">üîã BESS-Simulation</h4>
<p><strong>Use Case 1: Eigenverbrauchsoptimierung</strong></p>
<ul>
<li><strong>Ziel:</strong> Maximierung des Eigenverbrauchs</li>
<li><strong>Strategie:</strong> Laden bei √úberschuss, Entladen bei Bedarf</li>
<li><strong>Anwendung:</strong> Private Haushalte, Gewerbe</li>
</ul>
<p><strong>Use Case 2: Spot-Preis-Arbitrage</strong></p>
<ul>
<li><strong>Ziel:</strong> Gewinn durch Preisunterschiede</li>
<li><strong>Strategie:</strong> Kauf bei niedrigen, Verkauf bei hohen Preisen</li>
<li><strong>Anwendung:</strong> Gewerbliche Anlagen, Energieh√§ndler</li>
</ul>
<p><strong>Use Case 3: Redispatch</strong></p>
<ul>
<li><strong>Ziel:</strong> Netzstabilisierung</li>
<li><strong>Strategie:</strong> Reaktion auf Netzengp√§sse</li>
<li><strong>Anwendung:</strong> Netzbetreiber, Systemdienstleistungen</li>
</ul>
<p><strong>Use Case 4: Kombinierte Optimierung</strong></p>
<ul>
<li><strong>Ziel:</strong> Mehrfachnutzung</li>
<li><strong>Strategie:</strong> Eigenverbrauch + Arbitrage + Redispatch</li>
<li><strong>Anwendung:</strong> Gro√üanlagen, Energieversorger</li>
</ul>
<h4 id="%F0%9F%93%8A-ergebnis-analyse">üìä Ergebnis-Analyse</h4>
<p><strong>Wirtschaftliche Kennzahlen:</strong></p>
<ul>
<li><strong>NPV:</strong> Net Present Value (Kapitalwert)</li>
<li><strong>IRR:</strong> Internal Rate of Return (interner Zinsfu√ü)</li>
<li><strong>Payback:</strong> Amortisationszeit</li>
<li><strong>LCOE:</strong> Levelized Cost of Energy</li>
<li><strong>ROI:</strong> Return on Investment</li>
</ul>
<p><strong>Technische Kennzahlen:</strong></p>
<ul>
<li><strong>Zyklenauslastung:</strong> Tats√§chliche vs. geplante Zyklen</li>
<li><strong>Energieeffizienz:</strong> Wirkungsgrad √ºber Zeit</li>
<li><strong>Ladezustand:</strong> SoC-Verlauf</li>
<li><strong>Leistungsauslastung:</strong> P-Verlauf</li>
</ul>
<p><strong>Umweltkennzahlen:</strong></p>
<ul>
<li><strong>CO2-Einsparung:</strong> Reduzierte Emissionen</li>
<li><strong>Erneuerbare Integration:</strong> Anteil erneuerbarer Energien</li>
<li><strong>Netzentlastung:</strong> Reduzierte Netzbelastung</li>
</ul>
<h4 id="%F0%9F%93%88-dispatch--redispatch">üìà Dispatch &amp; Redispatch</h4>
<p><strong>Intraday-Trading:</strong></p>
<ol>
<li><strong>Spot-Preis-Analyse:</strong> Historische und aktuelle Preise</li>
<li><strong>Prognose:</strong> Preisvorhersage f√ºr n√§chste 24h</li>
<li><strong>Optimierung:</strong> Beste Lade-/Entladezeiten</li>
<li><strong>Ausf√ºhrung:</strong> Automatische oder manuelle Umsetzung</li>
</ol>
<p><strong>Redispatch-Simulation:</strong></p>
<ol>
<li><strong>Netzengpass-Erkennung:</strong> Identifikation von Problemen</li>
<li><strong>L√∂sungsstrategien:</strong> Verschiedene Redispatch-Optionen</li>
<li><strong>Kosten-Nutzen:</strong> Wirtschaftlichkeit der Ma√ünahmen</li>
<li><strong>Implementierung:</strong> Praktische Umsetzung</li>
</ol>
<h4 id="%F0%9F%93%A5-datenimport">üì• Datenimport</h4>
<p><strong>Spot-Preise (APG/ENTSOE):</strong></p>
<pre class="hljs"><code><div>1. API-Zugang einrichten
2. Automatischen Import aktivieren
3. Datenqualit√§t pr√ºfen
4. Historische Daten nachladen
</div></code></pre>
<p><strong>Lastprofile:</strong></p>
<pre class="hljs"><code><div>1. CSV/Excel-Datei vorbereiten
2. Format: Zeitstempel, Verbrauch (kW)
3. Upload √ºber Web-Interface
4. Datenvalidierung und -korrektur
5. Erweiterte Analyse durchf√ºhren ‚≠ê NEU
   - Grundlegende KPIs anzeigen
   - Lastdauerlinie visualisieren
   - Zeitbasierte Analysen (Tageslastgang, Wochentags-Analyse, Saisonale Analyse)
   - Statistische Analysen (Lastspitzen, Energieverteilung, Lastfaktor)
   - BESS-Potenzial bewerten (Peak-Shaving, Arbitrage)
   - Lastgang klassifizieren (Haushalt/Gewerbe/Industrie)
   - Kostenanalyse durchf√ºhren
</div></code></pre>
<p><strong>Wetterdaten (PVGIS):</strong></p>
<pre class="hljs"><code><div>1. Standort eingeben
2. Automatischer Download
3. Solarstrahlung und Temperatur
4. Integration in Simulation
</div></code></pre>
<p><strong>Wasserkraft (eHyd):</strong></p>
<pre class="hljs"><code><div>1. API-Schl√ºssel konfigurieren
2. Pegelstand-Messstellen w√§hlen
3. Automatischer Import
4. Leistungskurve definieren
</div></code></pre>
<h4 id="%F0%9F%93%A4-export--berichte">üì§ Export &amp; Berichte</h4>
<p><strong>PDF-Reports:</strong></p>
<ul>
<li><strong>Projekt√ºbersicht:</strong> Alle wichtigen Parameter</li>
<li><strong>Simulationsergebnisse:</strong> Grafiken und Tabellen</li>
<li><strong>Wirtschaftlichkeitsanalyse:</strong> Detaillierte Berechnungen</li>
<li><strong>Empfehlungen:</strong> Handlungsempfehlungen</li>
</ul>
<p><strong>Excel-Export:</strong></p>
<ul>
<li><strong>Rohdaten:</strong> Alle Simulationsdaten</li>
<li><strong>Kennzahlen:</strong> Berechnete Metriken</li>
<li><strong>Zeitreihen:</strong> Detaillierte Verl√§ufe</li>
<li><strong>Vergleiche:</strong> Mehrere Szenarien</li>
</ul>
<p><strong>Chart-Export:</strong></p>
<ul>
<li><strong>PNG/JPG:</strong> Hochaufl√∂sende Grafiken</li>
<li><strong>SVG:</strong> Vektorgrafiken f√ºr Pr√§sentationen</li>
<li><strong>PDF:</strong> Druckbare Charts</li>
<li><strong>CSV:</strong> Daten f√ºr externe Tools</li>
</ul>
<h3 id="%F0%9F%8E%AF-best-practices">üéØ Best Practices</h3>
<h4 id="projekt-planung">Projekt-Planung</h4>
<ul>
<li><strong>Realistische Parameter:</strong> Verwenden Sie realistische Werte</li>
<li><strong>Sensitivit√§tsanalysen:</strong> Testen Sie verschiedene Szenarien</li>
<li><strong>Dokumentation:</strong> Dokumentieren Sie alle Annahmen</li>
<li><strong>Regelm√§√üige Updates:</strong> Aktualisieren Sie Daten regelm√§√üig</li>
</ul>
<h4 id="simulation">Simulation</h4>
<ul>
<li><strong>Use Case w√§hlen:</strong> W√§hlen Sie den passenden Use Case</li>
<li><strong>Parameter validieren:</strong> Pr√ºfen Sie alle Eingaben</li>
<li><strong>Ergebnisse interpretieren:</strong> Verstehen Sie die Kennzahlen</li>
<li><strong>Vergleiche anstellen:</strong> Vergleichen Sie verschiedene Optionen</li>
</ul>
<h4 id="datenmanagement">Datenmanagement</h4>
<ul>
<li><strong>Backup:</strong> Regelm√§√üige Datensicherung</li>
<li><strong>Qualit√§t:</strong> Pr√ºfen Sie Datenqualit√§t</li>
<li><strong>Aktualit√§t:</strong> Verwenden Sie aktuelle Daten</li>
<li><strong>Konsistenz:</strong> Stellen Sie Datenkonsistenz sicher</li>
</ul>
<h3 id="%E2%9A%A0%EF%B8%8F-h%C3%A4ufige-fehler-vermeiden">‚ö†Ô∏è H√§ufige Fehler vermeiden</h3>
<h4 id="parameter-eingabe">Parameter-Eingabe</h4>
<ul>
<li><strong>Einheiten beachten:</strong> kW vs. kWh, ‚Ç¨ vs. ‚Ç¨/kWh</li>
<li><strong>Realistische Werte:</strong> Keine unrealistischen Annahmen</li>
<li><strong>Konsistenz:</strong> Alle Parameter m√ºssen zusammenpassen</li>
<li><strong>Dokumentation:</strong> Notieren Sie alle Annahmen</li>
</ul>
<h4 id="datenimport">Datenimport</h4>
<ul>
<li><strong>Format pr√ºfen:</strong> CSV/Excel-Format korrekt</li>
<li><strong>Zeitstempel:</strong> Korrekte Zeitstempel-Formatierung</li>
<li><strong>Einheiten:</strong> Konsistente Einheiten verwenden</li>
<li><strong>Validierung:</strong> Daten nach Import pr√ºfen</li>
</ul>
<h4 id="simulation">Simulation</h4>
<ul>
<li><strong>Use Case:</strong> Richtigen Use Case w√§hlen</li>
<li><strong>Zeitraum:</strong> Ausreichend lange Simulationsdauer</li>
<li><strong>Parameter:</strong> Alle Parameter vollst√§ndig</li>
<li><strong>Ergebnisse:</strong> Ergebnisse kritisch pr√ºfen</li>
</ul>
<hr>
<h2 id="%F0%9F%94%A7-technische-dokumentation">üîß TECHNISCHE DOKUMENTATION</h2>
<h3 id="%F0%9F%8F%97%EF%B8%8F-systemarchitektur">üèóÔ∏è Systemarchitektur</h3>
<h4 id="backend-flask">Backend (Flask)</h4>
<ul>
<li><strong>Framework:</strong> Flask 2.3+ mit Jinja2 Templates</li>
<li><strong>Datenbank:</strong> SQLite mit SQLAlchemy ORM</li>
<li><strong>API:</strong> RESTful API mit JSON-Responses</li>
<li><strong>Authentifizierung:</strong> Session-basiert mit Flask-Login</li>
<li><strong>Sicherheit:</strong> CSRF-Protection, Input-Validierung</li>
</ul>
<h4 id="frontend-web-interface">Frontend (Web-Interface)</h4>
<ul>
<li><strong>Styling:</strong> Tailwind CSS 3.0+</li>
<li><strong>Charts:</strong> Chart.js f√ºr Datenvisualisierung</li>
<li><strong>JavaScript:</strong> Vanilla JS mit Fetch API</li>
<li><strong>Responsive:</strong> Mobile-first Design</li>
<li><strong>Accessibility:</strong> WCAG 2.1 konform</li>
</ul>
<h4 id="datenbank-schema">Datenbank-Schema</h4>
<pre class="hljs"><code><div><span class="hljs-comment">-- Haupttabellen</span>
projects (id, name, description, location, created_at)
battery_configs (id, project_id, capacity, power, efficiency)
economic_parameters (id, project_id, investment_cost, interest_rate)
simulation_results (id, project_id, use_case, results_json)
dispatch_history (id, project_id, simulation_date, results)

<span class="hljs-comment">-- Datenimport-Tabellen</span>
spot_prices (id, datetime, price, source)
load_profiles (id, project_id, datetime, consumption)
weather_data (id, location, datetime, irradiation, temperature)
water_levels (id, station_id, datetime, level, flow)
</div></code></pre>
<h3 id="%F0%9F%93%81-projektstruktur">üìÅ Projektstruktur</h3>
<pre class="hljs"><code><div>bess-simulation/
‚îú‚îÄ‚îÄ app/                          # Flask-Anwendung
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py              # App-Initialisierung
‚îÇ   ‚îú‚îÄ‚îÄ routes.py                # URL-Routen
‚îÇ   ‚îú‚îÄ‚îÄ models.py                # Datenbank-Modelle
‚îÇ   ‚îú‚îÄ‚îÄ forms.py                 # WTForms-Formulare
‚îÇ   ‚îú‚îÄ‚îÄ dispatch_integration.py  # Dispatch-Logik
‚îÇ   ‚îî‚îÄ‚îÄ templates/               # Jinja2-Templates
‚îÇ       ‚îú‚îÄ‚îÄ base.html           # Basis-Template
‚îÇ       ‚îú‚îÄ‚îÄ dashboard.html      # Dashboard
‚îÇ       ‚îú‚îÄ‚îÄ dispatch_interface.html # Dispatch-UI
‚îÇ       ‚îî‚îÄ‚îÄ help.html           # Hilfe-Seite
‚îú‚îÄ‚îÄ instance/                    # Instanz-spezifische Daten
‚îÇ   ‚îî‚îÄ‚îÄ bess.db                 # SQLite-Datenbank
‚îú‚îÄ‚îÄ data/                       # Importierte Daten
‚îú‚îÄ‚îÄ backups/                    # Datenbank-Backups
‚îú‚îÄ‚îÄ logs/                       # Log-Dateien
‚îú‚îÄ‚îÄ requirements.txt            # Python-Abh√§ngigkeiten
‚îú‚îÄ‚îÄ run.py                      # Entwicklungsserver
‚îî‚îÄ‚îÄ wsgi.py                     # Production-Server
</div></code></pre>
<h3 id="%F0%9F%94%8C-api-endpunkte">üîå API-Endpunkte</h3>
<h4 id="projekt-management">Projekt-Management</h4>
<pre class="hljs"><code><div>GET  /api/projects              # Alle Projekte
POST /api/projects              # Neues Projekt
GET  /api/projects/&lt;id&gt;         # Projekt-Details
PUT  /api/projects/&lt;id&gt;         # Projekt aktualisieren
DELETE /api/projects/&lt;id&gt;       # Projekt l√∂schen
</div></code></pre>
<h4 id="simulation">Simulation</h4>
<pre class="hljs"><code><div>POST /api/simulate              # Simulation starten
GET  /api/simulation/&lt;id&gt;       # Simulationsergebnisse
GET  /api/simulation/history    # Simulationshistorie
</div></code></pre>
<h4 id="dispatch--redispatch">Dispatch &amp; Redispatch</h4>
<pre class="hljs"><code><div>POST /api/dispatch/simulate     # Dispatch-Simulation
GET  /api/dispatch/history/&lt;project_id&gt; # Dispatch-Historie
POST /api/redispatch/simulate   # Redispatch-Simulation
</div></code></pre>
<h4 id="datenimport">Datenimport</h4>
<pre class="hljs"><code><div>POST /api/import/spot-prices    # Spot-Preise importieren
POST /api/import/load-profile   # Lastprofil importieren
POST /api/import/weather        # Wetterdaten importieren
GET  /api/import/status         # Import-Status
</div></code></pre>
<h4 id="export">Export</h4>
<pre class="hljs"><code><div>GET  /api/export/pdf/&lt;project_id&gt;    # PDF-Export
GET  /api/export/excel/&lt;project_id&gt;  # Excel-Export
GET  /api/export/chart/&lt;type&gt;        # Chart-Export
</div></code></pre>
<h3 id="%F0%9F%97%84%EF%B8%8F-datenbank-modelle">üóÑÔ∏è Datenbank-Modelle</h3>
<h4 id="project-model">Project Model</h4>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Project</span><span class="hljs-params">(db.Model)</span>:</span>
    id = db.Column(db.Integer, primary_key=<span class="hljs-literal">True</span>)
    name = db.Column(db.String(<span class="hljs-number">100</span>), nullable=<span class="hljs-literal">False</span>)
    description = db.Column(db.Text)
    location = db.Column(db.String(<span class="hljs-number">100</span>))
    created_at = db.Column(db.DateTime, default=datetime.utcnow)
    
    <span class="hljs-comment"># Beziehungen</span>
    battery_config = db.relationship(<span class="hljs-string">'BatteryConfig'</span>, backref=<span class="hljs-string">'project'</span>, uselist=<span class="hljs-literal">False</span>)
    economic_params = db.relationship(<span class="hljs-string">'EconomicParameters'</span>, backref=<span class="hljs-string">'project'</span>, uselist=<span class="hljs-literal">False</span>)
    simulations = db.relationship(<span class="hljs-string">'SimulationResult'</span>, backref=<span class="hljs-string">'project'</span>)
</div></code></pre>
<h4 id="batteryconfig-model">BatteryConfig Model</h4>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BatteryConfig</span><span class="hljs-params">(db.Model)</span>:</span>
    id = db.Column(db.Integer, primary_key=<span class="hljs-literal">True</span>)
    project_id = db.Column(db.Integer, db.ForeignKey(<span class="hljs-string">'project.id'</span>), nullable=<span class="hljs-literal">False</span>)
    capacity_kwh = db.Column(db.Float, nullable=<span class="hljs-literal">False</span>)  <span class="hljs-comment"># kWh</span>
    power_charge_kw = db.Column(db.Float, nullable=<span class="hljs-literal">False</span>)  <span class="hljs-comment"># kW</span>
    power_discharge_kw = db.Column(db.Float, nullable=<span class="hljs-literal">False</span>)  <span class="hljs-comment"># kW</span>
    efficiency_charge = db.Column(db.Float, default=<span class="hljs-number">0.95</span>)  <span class="hljs-comment"># 0-1</span>
    efficiency_discharge = db.Column(db.Float, default=<span class="hljs-number">0.95</span>)  <span class="hljs-comment"># 0-1</span>
    cycles_lifetime = db.Column(db.Integer, default=<span class="hljs-number">6000</span>)  <span class="hljs-comment"># Zyklen</span>
    self_discharge_rate = db.Column(db.Float, default=<span class="hljs-number">0.001</span>)  <span class="hljs-comment"># pro Tag</span>
</div></code></pre>
<h4 id="economicparameters-model">EconomicParameters Model</h4>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EconomicParameters</span><span class="hljs-params">(db.Model)</span>:</span>
    id = db.Column(db.Integer, primary_key=<span class="hljs-literal">True</span>)
    project_id = db.Column(db.Integer, db.ForeignKey(<span class="hljs-string">'project.id'</span>), nullable=<span class="hljs-literal">False</span>)
    investment_cost = db.Column(db.Float, nullable=<span class="hljs-literal">False</span>)  <span class="hljs-comment"># ‚Ç¨</span>
    maintenance_cost = db.Column(db.Float, default=<span class="hljs-number">0</span>)  <span class="hljs-comment"># ‚Ç¨/Jahr</span>
    interest_rate = db.Column(db.Float, default=<span class="hljs-number">0.05</span>)  <span class="hljs-comment"># 0-1</span>
    inflation_rate = db.Column(db.Float, default=<span class="hljs-number">0.02</span>)  <span class="hljs-comment"># 0-1</span>
    electricity_price = db.Column(db.Float, default=<span class="hljs-number">0.25</span>)  <span class="hljs-comment"># ‚Ç¨/kWh</span>
    feed_in_tariff = db.Column(db.Float, default=<span class="hljs-number">0.08</span>)  <span class="hljs-comment"># ‚Ç¨/kWh</span>
</div></code></pre>
<h3 id="%E2%9A%99%EF%B8%8F-konfiguration">‚öôÔ∏è Konfiguration</h3>
<h4 id="umgebungsvariablen">Umgebungsvariablen</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Datenbank</span>
DATABASE_URL=sqlite:///instance/bess.db

<span class="hljs-comment"># API-Keys</span>
APG_API_KEY=your_apg_key
ENTSOE_API_KEY=your_entsoe_key
EHYD_API_KEY=your_ehyd_key

<span class="hljs-comment"># Server</span>
FLASK_ENV=production
FLASK_DEBUG=False
SECRET_KEY=your_secret_key

<span class="hljs-comment"># Logging</span>
LOG_LEVEL=INFO
LOG_FILE=logs/bess.log
</div></code></pre>
<h4 id="configpy">config.py</h4>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> os

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Config</span>:</span>
    SECRET_KEY = os.environ.get(<span class="hljs-string">'SECRET_KEY'</span>) <span class="hljs-keyword">or</span> <span class="hljs-string">'dev-secret-key'</span>
    SQLALCHEMY_DATABASE_URI = os.environ.get(<span class="hljs-string">'DATABASE_URL'</span>) <span class="hljs-keyword">or</span> <span class="hljs-string">'sqlite:///instance/bess.db'</span>
    SQLALCHEMY_TRACK_MODIFICATIONS = <span class="hljs-literal">False</span>
    
    <span class="hljs-comment"># API-Konfiguration</span>
    APG_API_KEY = os.environ.get(<span class="hljs-string">'APG_API_KEY'</span>)
    ENTSOE_API_KEY = os.environ.get(<span class="hljs-string">'ENTSOE_API_KEY'</span>)
    EHYD_API_KEY = os.environ.get(<span class="hljs-string">'EHYD_API_KEY'</span>)
    
    <span class="hljs-comment"># Logging</span>
    LOG_LEVEL = os.environ.get(<span class="hljs-string">'LOG_LEVEL'</span>, <span class="hljs-string">'INFO'</span>)
    LOG_FILE = os.environ.get(<span class="hljs-string">'LOG_FILE'</span>, <span class="hljs-string">'logs/bess.log'</span>)
</div></code></pre>
<h3 id="%F0%9F%94%84-datenfluss">üîÑ Datenfluss</h3>
<h4 id="simulation-workflow">Simulation-Workflow</h4>
<pre class="hljs"><code><div>1. Benutzer startet Simulation
   ‚Üì
2. Frontend sendet POST /api/simulate
   ‚Üì
3. Backend l√§dt Projekt-Parameter
   ‚Üì
4. Simulation-Engine berechnet Ergebnisse
   ‚Üì
5. Ergebnisse werden in DB gespeichert
   ‚Üì
6. JSON-Response an Frontend
   ‚Üì
7. Frontend zeigt Charts und KPIs
</div></code></pre>
<h4 id="dispatch-workflow">Dispatch-Workflow</h4>
<pre class="hljs"><code><div>1. Benutzer w√§hlt Projekt und Zeitraum
   ‚Üì
2. Backend l√§dt Spot-Preise
   ‚Üì
3. Dispatch-Algorithmus optimiert
   ‚Üì
4. Ergebnisse werden visualisiert
   ‚Üì
5. Historische Daten werden gespeichert
</div></code></pre>
<h3 id="%F0%9F%9A%80-performance-optimierung">üöÄ Performance-Optimierung</h3>
<h4 id="datenbank-indizes">Datenbank-Indizes</h4>
<pre class="hljs"><code><div><span class="hljs-comment">-- Performance-kritische Indizes</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_projects_created_at <span class="hljs-keyword">ON</span> projects(created_at);
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_spot_prices_datetime <span class="hljs-keyword">ON</span> spot_prices(datetime);
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_load_profiles_project_datetime <span class="hljs-keyword">ON</span> load_profiles(project_id, datetime);
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_simulation_results_project <span class="hljs-keyword">ON</span> simulation_results(project_id);
</div></code></pre>
<h4 id="caching-strategie">Caching-Strategie</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Redis-Caching f√ºr h√§ufige Abfragen</span>
<span class="hljs-keyword">from</span> flask_caching <span class="hljs-keyword">import</span> Cache

cache = Cache(app, config={<span class="hljs-string">'CACHE_TYPE'</span>: <span class="hljs-string">'redis'</span>})

<span class="hljs-meta">@cache.memoize(timeout=300)  # 5 Minuten</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_spot_prices</span><span class="hljs-params">(date_range)</span>:</span>
    <span class="hljs-comment"># Spot-Preise aus DB laden</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-meta">@cache.memoize(timeout=600)  # 10 Minuten</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_project_summary</span><span class="hljs-params">(project_id)</span>:</span>
    <span class="hljs-comment"># Projekt-Zusammenfassung berechnen</span>
    <span class="hljs-keyword">pass</span>
</div></code></pre>
<h4 id="frontend-optimierung">Frontend-Optimierung</h4>
<pre class="hljs"><code><div><span class="hljs-comment">// Lazy Loading f√ºr Charts</span>
<span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> IntersectionObserver(<span class="hljs-function">(<span class="hljs-params">entries</span>) =&gt;</span> {
    entries.forEach(<span class="hljs-function"><span class="hljs-params">entry</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (entry.isIntersecting) {
            loadChart(entry.target);
        }
    });
});

<span class="hljs-comment">// Debouncing f√ºr Suchfunktionen</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">debounce</span>(<span class="hljs-params">func, wait</span>) </span>{
    <span class="hljs-keyword">let</span> timeout;
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">executedFunction</span>(<span class="hljs-params">...args</span>) </span>{
        <span class="hljs-keyword">const</span> later = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}
</div></code></pre>
<h3 id="%F0%9F%94%92-sicherheit">üîí Sicherheit</h3>
<h4 id="authentifizierung">Authentifizierung</h4>
<pre class="hljs"><code><div><span class="hljs-keyword">from</span> flask_login <span class="hljs-keyword">import</span> LoginManager, UserMixin, login_required

login_manager = LoginManager()
login_manager.init_app(app)
login_manager.login_view = <span class="hljs-string">'auth.login'</span>

<span class="hljs-meta">@login_manager.user_loader</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">load_user</span><span class="hljs-params">(user_id)</span>:</span>
    <span class="hljs-keyword">return</span> User.query.get(int(user_id))
</div></code></pre>
<h4 id="csrf-protection">CSRF-Protection</h4>
<pre class="hljs"><code><div><span class="hljs-keyword">from</span> flask_wtf.csrf <span class="hljs-keyword">import</span> CSRFProtect

csrf = CSRFProtect(app)

<span class="hljs-comment"># In Templates</span>
&lt;form method=<span class="hljs-string">"POST"</span>&gt;
    {{ csrf_token() }}
    &lt;!-- Formular-Felder --&gt;
&lt;/form&gt;
</div></code></pre>
<h4 id="input-validierung">Input-Validierung</h4>
<pre class="hljs"><code><div><span class="hljs-keyword">from</span> wtforms <span class="hljs-keyword">import</span> Form, StringField, FloatField, validators

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProjectForm</span><span class="hljs-params">(Form)</span>:</span>
    name = StringField(<span class="hljs-string">'Projektname'</span>, [
        validators.Length(min=<span class="hljs-number">1</span>, max=<span class="hljs-number">100</span>),
        validators.DataRequired()
    ])
    capacity = FloatField(<span class="hljs-string">'Kapazit√§t (kWh)'</span>, [
        validators.NumberRange(min=<span class="hljs-number">0.1</span>, max=<span class="hljs-number">10000</span>),
        validators.DataRequired()
    ])
</div></code></pre>
<h3 id="%F0%9F%93%8A-monitoring--logging">üìä Monitoring &amp; Logging</h3>
<h4 id="logging-konfiguration">Logging-Konfiguration</h4>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> logging
<span class="hljs-keyword">from</span> logging.handlers <span class="hljs-keyword">import</span> RotatingFileHandler

<span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> app.debug:
    file_handler = RotatingFileHandler(<span class="hljs-string">'logs/bess.log'</span>, maxBytes=<span class="hljs-number">10240</span>, backupCount=<span class="hljs-number">10</span>)
    file_handler.setFormatter(logging.Formatter(
        <span class="hljs-string">'%(asctime)s %(levelname)s: %(message)s [in %(pathname)s:%(lineno)d]'</span>
    ))
    file_handler.setLevel(logging.INFO)
    app.logger.addHandler(file_handler)
    app.logger.setLevel(logging.INFO)
    app.logger.info(<span class="hljs-string">'BESS Simulation startup'</span>)
</div></code></pre>
<h4 id="health-check-endpoint">Health-Check Endpoint</h4>
<pre class="hljs"><code><div><span class="hljs-meta">@app.route('/health')</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">health_check</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># Datenbank-Verbindung testen</span>
        db.session.execute(<span class="hljs-string">'SELECT 1'</span>)
        <span class="hljs-keyword">return</span> jsonify({
            <span class="hljs-string">'status'</span>: <span class="hljs-string">'healthy'</span>,
            <span class="hljs-string">'database'</span>: <span class="hljs-string">'connected'</span>,
            <span class="hljs-string">'timestamp'</span>: datetime.utcnow().isoformat()
        }), <span class="hljs-number">200</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">return</span> jsonify({
            <span class="hljs-string">'status'</span>: <span class="hljs-string">'unhealthy'</span>,
            <span class="hljs-string">'error'</span>: str(e),
            <span class="hljs-string">'timestamp'</span>: datetime.utcnow().isoformat()
        }), <span class="hljs-number">500</span>
</div></code></pre>
<h3 id="%F0%9F%A7%AA-testing">üß™ Testing</h3>
<h4 id="unit-tests">Unit-Tests</h4>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> unittest
<span class="hljs-keyword">from</span> app <span class="hljs-keyword">import</span> create_app, db

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestSimulation</span><span class="hljs-params">(unittest.TestCase)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">setUp</span><span class="hljs-params">(self)</span>:</span>
        self.app = create_app(<span class="hljs-string">'testing'</span>)
        self.app_context = self.app.app_context()
        self.app_context.push()
        db.create_all()
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">tearDown</span><span class="hljs-params">(self)</span>:</span>
        db.session.remove()
        db.drop_all()
        self.app_context.pop()
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_simulation_calculation</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-comment"># Test der Simulations-Berechnungen</span>
        <span class="hljs-keyword">pass</span>
</div></code></pre>
<h4 id="integration-tests">Integration-Tests</h4>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestAPI</span><span class="hljs-params">(unittest.TestCase)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">setUp</span><span class="hljs-params">(self)</span>:</span>
        self.app = create_app(<span class="hljs-string">'testing'</span>)
        self.client = self.app.test_client()
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_project_creation</span><span class="hljs-params">(self)</span>:</span>
        response = self.client.post(<span class="hljs-string">'/api/projects'</span>, json={
            <span class="hljs-string">'name'</span>: <span class="hljs-string">'Test Project'</span>,
            <span class="hljs-string">'capacity'</span>: <span class="hljs-number">100</span>
        })
        self.assertEqual(response.status_code, <span class="hljs-number">201</span>)
</div></code></pre>
<hr>
<h2 id="%F0%9F%94%8C-api-referenz">üîå API-REFERENZ</h2>
<h3 id="%F0%9F%93%8B-%C3%BCbersicht">üìã √úbersicht</h3>
<p>Die BESS-Simulation API bietet RESTful Endpunkte f√ºr alle Hauptfunktionen. Alle API-Antworten sind im JSON-Format.</p>
<h4 id="base-url">Base URL</h4>
<pre class="hljs"><code><div>Lokal: http://localhost:5000/api
Produktion: https://bess.instanet.at/api
</div></code></pre>
<h4 id="authentifizierung">Authentifizierung</h4>
<pre class="hljs"><code><div><span class="hljs-attribute">Cookie</span>: session=&lt;session_id&gt;
<span class="hljs-attribute">X-CSRFToken</span>: &lt;csrf_token&gt;
</div></code></pre>
<h4 id="standard-response-format">Standard-Response-Format</h4>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data"</span>: {...},
  <span class="hljs-attr">"message"</span>: <span class="hljs-string">"Operation successful"</span>,
  <span class="hljs-attr">"timestamp"</span>: <span class="hljs-string">"2025-09-05T10:30:00Z"</span>
}
</div></code></pre>
<h4 id="fehler-response-format">Fehler-Response-Format</h4>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">"error"</span>: <span class="hljs-string">"Error message"</span>,
  <span class="hljs-attr">"code"</span>: <span class="hljs-string">"ERROR_CODE"</span>,
  <span class="hljs-attr">"timestamp"</span>: <span class="hljs-string">"2025-09-05T10:30:00Z"</span>
}
</div></code></pre>
<h3 id="%F0%9F%8F%97%EF%B8%8F-projekt-management-api">üèóÔ∏è Projekt-Management API</h3>
<h4 id="get-apiprojects">GET /api/projects</h4>
<p><strong>Beschreibung:</strong> Alle Projekte abrufen</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>limit</code> (optional): Anzahl der Projekte (default: 50)</li>
<li><code>offset</code> (optional): Offset f√ºr Pagination (default: 0)</li>
<li><code>search</code> (optional): Suchbegriff f√ºr Projektname</li>
</ul>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data"</span>: [
    {
      <span class="hljs-attr">"id"</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"BESS Projekt 1"</span>,
      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Testprojekt f√ºr BESS-Simulation"</span>,
      <span class="hljs-attr">"location"</span>: <span class="hljs-string">"Wien, √ñsterreich"</span>,
      <span class="hljs-attr">"created_at"</span>: <span class="hljs-string">"2025-09-01T10:00:00Z"</span>,
      <span class="hljs-attr">"battery_config"</span>: {
        <span class="hljs-attr">"capacity_kwh"</span>: <span class="hljs-number">100</span>,
        <span class="hljs-attr">"power_charge_kw"</span>: <span class="hljs-number">50</span>,
        <span class="hljs-attr">"power_discharge_kw"</span>: <span class="hljs-number">50</span>
      }
    }
  ],
  <span class="hljs-attr">"pagination"</span>: {
    <span class="hljs-attr">"total"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"limit"</span>: <span class="hljs-number">50</span>,
    <span class="hljs-attr">"offset"</span>: <span class="hljs-number">0</span>
  }
}
</div></code></pre>
<h4 id="post-apiprojects">POST /api/projects</h4>
<p><strong>Beschreibung:</strong> Neues Projekt erstellen</p>
<p><strong>Request Body:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Neues BESS Projekt"</span>,
  <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Projektbeschreibung"</span>,
  <span class="hljs-attr">"location"</span>: <span class="hljs-string">"Graz, √ñsterreich"</span>,
  <span class="hljs-attr">"battery_config"</span>: {
    <span class="hljs-attr">"capacity_kwh"</span>: <span class="hljs-number">200</span>,
    <span class="hljs-attr">"power_charge_kw"</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">"power_discharge_kw"</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">"efficiency_charge"</span>: <span class="hljs-number">0.95</span>,
    <span class="hljs-attr">"efficiency_discharge"</span>: <span class="hljs-number">0.95</span>,
    <span class="hljs-attr">"cycles_lifetime"</span>: <span class="hljs-number">6000</span>
  },
  <span class="hljs-attr">"economic_parameters"</span>: {
    <span class="hljs-attr">"investment_cost"</span>: <span class="hljs-number">100000</span>,
    <span class="hljs-attr">"maintenance_cost"</span>: <span class="hljs-number">2000</span>,
    <span class="hljs-attr">"interest_rate"</span>: <span class="hljs-number">0.05</span>,
    <span class="hljs-attr">"electricity_price"</span>: <span class="hljs-number">0.25</span>
  }
}
</div></code></pre>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data"</span>: {
    <span class="hljs-attr">"id"</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Neues BESS Projekt"</span>,
    <span class="hljs-attr">"created_at"</span>: <span class="hljs-string">"2025-09-05T10:30:00Z"</span>
  },
  <span class="hljs-attr">"message"</span>: <span class="hljs-string">"Projekt erfolgreich erstellt"</span>
}
</div></code></pre>
<h4 id="get-apiprojectsid">GET /api/projects/{id}</h4>
<p><strong>Beschreibung:</strong> Projekt-Details abrufen</p>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data"</span>: {
    <span class="hljs-attr">"id"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"BESS Projekt 1"</span>,
    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Testprojekt"</span>,
    <span class="hljs-attr">"location"</span>: <span class="hljs-string">"Wien, √ñsterreich"</span>,
    <span class="hljs-attr">"created_at"</span>: <span class="hljs-string">"2025-09-01T10:00:00Z"</span>,
    <span class="hljs-attr">"battery_config"</span>: {
      <span class="hljs-attr">"capacity_kwh"</span>: <span class="hljs-number">100</span>,
      <span class="hljs-attr">"power_charge_kw"</span>: <span class="hljs-number">50</span>,
      <span class="hljs-attr">"power_discharge_kw"</span>: <span class="hljs-number">50</span>,
      <span class="hljs-attr">"efficiency_charge"</span>: <span class="hljs-number">0.95</span>,
      <span class="hljs-attr">"efficiency_discharge"</span>: <span class="hljs-number">0.95</span>,
      <span class="hljs-attr">"cycles_lifetime"</span>: <span class="hljs-number">6000</span>,
      <span class="hljs-attr">"self_discharge_rate"</span>: <span class="hljs-number">0.001</span>
    },
    <span class="hljs-attr">"economic_parameters"</span>: {
      <span class="hljs-attr">"investment_cost"</span>: <span class="hljs-number">50000</span>,
      <span class="hljs-attr">"maintenance_cost"</span>: <span class="hljs-number">1000</span>,
      <span class="hljs-attr">"interest_rate"</span>: <span class="hljs-number">0.05</span>,
      <span class="hljs-attr">"inflation_rate"</span>: <span class="hljs-number">0.02</span>,
      <span class="hljs-attr">"electricity_price"</span>: <span class="hljs-number">0.25</span>,
      <span class="hljs-attr">"feed_in_tariff"</span>: <span class="hljs-number">0.08</span>
    }
  }
}
</div></code></pre>
<h4 id="put-apiprojectsid">PUT /api/projects/{id}</h4>
<p><strong>Beschreibung:</strong> Projekt aktualisieren</p>
<p><strong>Request Body:</strong> (gleiche Struktur wie POST)</p>
<h4 id="delete-apiprojectsid">DELETE /api/projects/{id}</h4>
<p><strong>Beschreibung:</strong> Projekt l√∂schen</p>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"message"</span>: <span class="hljs-string">"Projekt erfolgreich gel√∂scht"</span>
}
</div></code></pre>
<h3 id="%F0%9F%94%8B-simulation-api">üîã Simulation API</h3>
<h4 id="post-apisimulate">POST /api/simulate</h4>
<p><strong>Beschreibung:</strong> BESS-Simulation starten</p>
<p><strong>Request Body:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"project_id"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">"use_case"</span>: <span class="hljs-string">"UC1"</span>,
  <span class="hljs-attr">"simulation_years"</span>: <span class="hljs-number">10</span>,
  <span class="hljs-attr">"parameters"</span>: {
    <span class="hljs-attr">"custom_electricity_price"</span>: <span class="hljs-number">0.30</span>,
    <span class="hljs-attr">"custom_feed_in_tariff"</span>: <span class="hljs-number">0.10</span>
  }
}
</div></code></pre>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data"</span>: {
    <span class="hljs-attr">"simulation_id"</span>: <span class="hljs-number">123</span>,
    <span class="hljs-attr">"project_id"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"use_case"</span>: <span class="hljs-string">"UC1"</span>,
    <span class="hljs-attr">"status"</span>: <span class="hljs-string">"completed"</span>,
    <span class="hljs-attr">"results"</span>: {
      <span class="hljs-attr">"npv"</span>: <span class="hljs-number">15000</span>,
      <span class="hljs-attr">"irr"</span>: <span class="hljs-number">0.08</span>,
      <span class="hljs-attr">"payback_years"</span>: <span class="hljs-number">7.5</span>,
      <span class="hljs-attr">"lcoe"</span>: <span class="hljs-number">0.12</span>,
      <span class="hljs-attr">"roi"</span>: <span class="hljs-number">0.15</span>,
      <span class="hljs-attr">"total_cycles"</span>: <span class="hljs-number">2500</span>,
      <span class="hljs-attr">"energy_efficiency"</span>: <span class="hljs-number">0.92</span>
    },
    <span class="hljs-attr">"charts"</span>: {
      <span class="hljs-attr">"soc_chart"</span>: {
        <span class="hljs-attr">"labels"</span>: [<span class="hljs-string">"00:00"</span>, <span class="hljs-string">"01:00"</span>, <span class="hljs-string">"02:00"</span>, ...],
        <span class="hljs-attr">"data"</span>: [<span class="hljs-number">0.5</span>, <span class="hljs-number">0.6</span>, <span class="hljs-number">0.7</span>, ...]
      },
      <span class="hljs-attr">"cashflow_chart"</span>: {
        <span class="hljs-attr">"labels"</span>: [<span class="hljs-string">"2025"</span>, <span class="hljs-string">"2026"</span>, <span class="hljs-string">"2027"</span>, ...],
        <span class="hljs-attr">"data"</span>: [<span class="hljs-number">-50000</span>, <span class="hljs-number">5000</span>, <span class="hljs-number">8000</span>, ...]
      }
    },
    <span class="hljs-attr">"created_at"</span>: <span class="hljs-string">"2025-09-05T10:30:00Z"</span>
  }
}
</div></code></pre>
<h4 id="get-apisimulationid">GET /api/simulation/{id}</h4>
<p><strong>Beschreibung:</strong> Simulationsergebnisse abrufen</p>
<p><strong>Response:</strong> (gleiche Struktur wie POST /api/simulate)</p>
<h4 id="get-apisimulationhistory">GET /api/simulation/history</h4>
<p><strong>Beschreibung:</strong> Simulationshistorie abrufen</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>project_id</code> (optional): Filter nach Projekt</li>
<li><code>limit</code> (optional): Anzahl der Eintr√§ge</li>
</ul>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data"</span>: [
    {
      <span class="hljs-attr">"id"</span>: <span class="hljs-number">123</span>,
      <span class="hljs-attr">"project_id"</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">"project_name"</span>: <span class="hljs-string">"BESS Projekt 1"</span>,
      <span class="hljs-attr">"use_case"</span>: <span class="hljs-string">"UC1"</span>,
      <span class="hljs-attr">"status"</span>: <span class="hljs-string">"completed"</span>,
      <span class="hljs-attr">"npv"</span>: <span class="hljs-number">15000</span>,
      <span class="hljs-attr">"created_at"</span>: <span class="hljs-string">"2025-09-05T10:30:00Z"</span>
    }
  ]
}
</div></code></pre>
<h3 id="%F0%9F%93%88-dispatch--redispatch-api">üìà Dispatch &amp; Redispatch API</h3>
<h4 id="post-apidispatchsimulate">POST /api/dispatch/simulate</h4>
<p><strong>Beschreibung:</strong> Dispatch-Simulation starten</p>
<p><strong>Request Body:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"project_id"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">"start_date"</span>: <span class="hljs-string">"2025-09-01"</span>,
  <span class="hljs-attr">"end_date"</span>: <span class="hljs-string">"2025-09-02"</span>,
  <span class="hljs-attr">"simulation_type"</span>: <span class="hljs-string">"intraday_trading"</span>,
  <span class="hljs-attr">"parameters"</span>: {
    <span class="hljs-attr">"max_cycles_per_day"</span>: <span class="hljs-number">2.5</span>,
    <span class="hljs-attr">"min_soc"</span>: <span class="hljs-number">0.2</span>,
    <span class="hljs-attr">"max_soc"</span>: <span class="hljs-number">0.9</span>
  }
}
</div></code></pre>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data"</span>: {
    <span class="hljs-attr">"dispatch_id"</span>: <span class="hljs-number">456</span>,
    <span class="hljs-attr">"project_id"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"simulation_type"</span>: <span class="hljs-string">"intraday_trading"</span>,
    <span class="hljs-attr">"start_date"</span>: <span class="hljs-string">"2025-09-01"</span>,
    <span class="hljs-attr">"end_date"</span>: <span class="hljs-string">"2025-09-02"</span>,
    <span class="hljs-attr">"status"</span>: <span class="hljs-string">"completed"</span>,
    <span class="hljs-attr">"results"</span>: {
      <span class="hljs-attr">"total_revenue"</span>: <span class="hljs-number">1250.50</span>,
      <span class="hljs-attr">"total_cost"</span>: <span class="hljs-number">800.25</span>,
      <span class="hljs-attr">"net_profit"</span>: <span class="hljs-number">450.25</span>,
      <span class="hljs-attr">"cycles_used"</span>: <span class="hljs-number">2.3</span>,
      <span class="hljs-attr">"energy_traded"</span>: <span class="hljs-number">150.5</span>
    },
    <span class="hljs-attr">"hourly_data"</span>: [
      {
        <span class="hljs-attr">"datetime"</span>: <span class="hljs-string">"2025-09-01T00:00:00Z"</span>,
        <span class="hljs-attr">"spot_price"</span>: <span class="hljs-number">45.50</span>,
        <span class="hljs-attr">"action"</span>: <span class="hljs-string">"charge"</span>,
        <span class="hljs-attr">"power"</span>: <span class="hljs-number">50</span>,
        <span class="hljs-attr">"soc"</span>: <span class="hljs-number">0.5</span>,
        <span class="hljs-attr">"revenue"</span>: <span class="hljs-number">-22.75</span>
      }
    ],
    <span class="hljs-attr">"created_at"</span>: <span class="hljs-string">"2025-09-05T10:30:00Z"</span>
  }
}
</div></code></pre>
<h4 id="get-apidispatchhistoryprojectid">GET /api/dispatch/history/{project_id}</h4>
<p><strong>Beschreibung:</strong> Dispatch-Historie abrufen</p>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data"</span>: [
    {
      <span class="hljs-attr">"id"</span>: <span class="hljs-number">456</span>,
      <span class="hljs-attr">"simulation_type"</span>: <span class="hljs-string">"intraday_trading"</span>,
      <span class="hljs-attr">"start_date"</span>: <span class="hljs-string">"2025-09-01"</span>,
      <span class="hljs-attr">"end_date"</span>: <span class="hljs-string">"2025-09-02"</span>,
      <span class="hljs-attr">"net_profit"</span>: <span class="hljs-number">450.25</span>,
      <span class="hljs-attr">"created_at"</span>: <span class="hljs-string">"2025-09-05T10:30:00Z"</span>
    }
  ]
}
</div></code></pre>
<h4 id="post-apiredispatchsimulate">POST /api/redispatch/simulate</h4>
<p><strong>Beschreibung:</strong> Redispatch-Simulation starten</p>
<p><strong>Request Body:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"project_id"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">"redispatch_scenario"</span>: <span class="hljs-string">"network_congestion"</span>,
  <span class="hljs-attr">"parameters"</span>: {
    <span class="hljs-attr">"congestion_duration"</span>: <span class="hljs-number">4</span>,
    <span class="hljs-attr">"required_power_reduction"</span>: <span class="hljs-number">30</span>,
    <span class="hljs-attr">"compensation_rate"</span>: <span class="hljs-number">0.15</span>
  }
}
</div></code></pre>
<h3 id="%F0%9F%A4%96-ml--ki-api">ü§ñ ML &amp; KI API</h3>
<h4 id="post-mlprice-forecast">POST /ml/price-forecast</h4>
<p><strong>Beschreibung:</strong> Preisprognose f√ºr optimale Handelsstrategien</p>
<p><strong>Request Body:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"project_id"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">"forecast_hours"</span>: <span class="hljs-number">24</span>,
  <span class="hljs-attr">"include_confidence"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"model_type"</span>: <span class="hljs-string">"random_forest"</span>
}
</div></code></pre>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data"</span>: {
    <span class="hljs-attr">"forecast"</span>: [
      {
        <span class="hljs-attr">"timestamp"</span>: <span class="hljs-string">"2025-09-06T21:00:00Z"</span>,
        <span class="hljs-attr">"price_eur_mwh"</span>: <span class="hljs-number">45.2</span>,
        <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">0.87</span>
      },
      {
        <span class="hljs-attr">"timestamp"</span>: <span class="hljs-string">"2025-09-06T22:00:00Z"</span>,
        <span class="hljs-attr">"price_eur_mwh"</span>: <span class="hljs-number">52.1</span>,
        <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">0.89</span>
      }
    ],
    <span class="hljs-attr">"model_info"</span>: {
      <span class="hljs-attr">"algorithm"</span>: <span class="hljs-string">"Random Forest Regressor"</span>,
      <span class="hljs-attr">"accuracy"</span>: <span class="hljs-number">0.87</span>,
      <span class="hljs-attr">"training_date"</span>: <span class="hljs-string">"2025-09-05T10:00:00Z"</span>,
      <span class="hljs-attr">"status"</span>: <span class="hljs-string">"trained"</span>
    }
  }
}
</div></code></pre>
<h4 id="post-mloptimize-bess">POST /ml/optimize-bess</h4>
<p><strong>Beschreibung:</strong> BESS-Parameter f√ºr maximale Wirtschaftlichkeit optimieren</p>
<p><strong>Request Body:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"project_id"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">"optimization_target"</span>: <span class="hljs-string">"roi"</span>,
  <span class="hljs-attr">"constraints"</span>: {
    <span class="hljs-attr">"max_capacity_kwh"</span>: <span class="hljs-number">1000</span>,
    <span class="hljs-attr">"max_power_kw"</span>: <span class="hljs-number">500</span>,
    <span class="hljs-attr">"min_efficiency"</span>: <span class="hljs-number">0.85</span>
  },
  <span class="hljs-attr">"market_conditions"</span>: {
    <span class="hljs-attr">"spot_price_volatility"</span>: <span class="hljs-string">"high"</span>,
    <span class="hljs-attr">"regulation_demand"</span>: <span class="hljs-string">"medium"</span>
  }
}
</div></code></pre>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data"</span>: {
    <span class="hljs-attr">"optimized_parameters"</span>: {
      <span class="hljs-attr">"capacity_kwh"</span>: <span class="hljs-number">750.0</span>,
      <span class="hljs-attr">"power_charge_kw"</span>: <span class="hljs-number">375.0</span>,
      <span class="hljs-attr">"power_discharge_kw"</span>: <span class="hljs-number">375.0</span>,
      <span class="hljs-attr">"efficiency_charge"</span>: <span class="hljs-number">0.95</span>,
      <span class="hljs-attr">"efficiency_discharge"</span>: <span class="hljs-number">0.95</span>,
      <span class="hljs-attr">"cycles_per_day"</span>: <span class="hljs-number">2.5</span>
    },
    <span class="hljs-attr">"economic_analysis"</span>: {
      <span class="hljs-attr">"roi_percent"</span>: <span class="hljs-number">12.5</span>,
      <span class="hljs-attr">"npv_eur"</span>: <span class="hljs-number">125000</span>,
      <span class="hljs-attr">"payback_years"</span>: <span class="hljs-number">8.2</span>,
      <span class="hljs-attr">"annual_revenue_eur"</span>: <span class="hljs-number">45000</span>
    },
    <span class="hljs-attr">"optimization_info"</span>: {
      <span class="hljs-attr">"algorithm"</span>: <span class="hljs-string">"Grid Search"</span>,
      <span class="hljs-attr">"iterations"</span>: <span class="hljs-number">150</span>,
      <span class="hljs-attr">"optimization_time"</span>: <span class="hljs-number">2.3</span>
    }
  }
}
</div></code></pre>
<h4 id="post-mldetect-anomalies">POST /ml/detect-anomalies</h4>
<p><strong>Beschreibung:</strong> Ungew√∂hnliche Lastprofile und Systemverhalten erkennen</p>
<p><strong>Request Body:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"project_id"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">"analysis_period"</span>: <span class="hljs-string">"7_days"</span>,
  <span class="hljs-attr">"sensitivity"</span>: <span class="hljs-string">"medium"</span>,
  <span class="hljs-attr">"include_load_profile"</span>: <span class="hljs-literal">true</span>
}
</div></code></pre>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data"</span>: {
    <span class="hljs-attr">"anomalies"</span>: [
      {
        <span class="hljs-attr">"timestamp"</span>: <span class="hljs-string">"2025-09-05T14:30:00Z"</span>,
        <span class="hljs-attr">"value"</span>: <span class="hljs-number">1250.5</span>,
        <span class="hljs-attr">"severity"</span>: <span class="hljs-string">"high"</span>,
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Spitzenlast"</span>,
        <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Ungew√∂hnlich hoher Verbrauch um 14:30 Uhr"</span>
      },
      {
        <span class="hljs-attr">"timestamp"</span>: <span class="hljs-string">"2025-09-04T02:15:00Z"</span>,
        <span class="hljs-attr">"value"</span>: <span class="hljs-number">50.2</span>,
        <span class="hljs-attr">"severity"</span>: <span class="hljs-string">"medium"</span>,
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Niedriglast"</span>,
        <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Ungew√∂hnlich niedriger Verbrauch in der Nacht"</span>
      }
    ],
    <span class="hljs-attr">"analysis_info"</span>: {
      <span class="hljs-attr">"algorithm"</span>: <span class="hljs-string">"Isolation Forest"</span>,
      <span class="hljs-attr">"contamination_rate"</span>: <span class="hljs-number">0.1</span>,
      <span class="hljs-attr">"total_data_points"</span>: <span class="hljs-number">1008</span>,
      <span class="hljs-attr">"anomalies_detected"</span>: <span class="hljs-number">2</span>
    }
  }
}
</div></code></pre>
<h4 id="post-mlpredictive-maintenance">POST /ml/predictive-maintenance</h4>
<p><strong>Beschreibung:</strong> Wartungsbedarf und Degradation vorhersagen</p>
<p><strong>Request Body:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"project_id"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">"current_state"</span>: {
    <span class="hljs-attr">"operating_hours"</span>: <span class="hljs-number">8760</span>,
    <span class="hljs-attr">"total_cycles"</span>: <span class="hljs-number">2190</span>,
    <span class="hljs-attr">"average_temperature"</span>: <span class="hljs-number">25.5</span>,
    <span class="hljs-attr">"voltage_deviation"</span>: <span class="hljs-number">0.02</span>
  },
  <span class="hljs-attr">"include_recommendations"</span>: <span class="hljs-literal">true</span>
}
</div></code></pre>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data"</span>: {
    <span class="hljs-attr">"degradation_analysis"</span>: {
      <span class="hljs-attr">"degradation_rate_per_month"</span>: <span class="hljs-number">0.005</span>,
      <span class="hljs-attr">"remaining_lifetime_months"</span>: <span class="hljs-number">120</span>,
      <span class="hljs-attr">"current_health_score"</span>: <span class="hljs-number">0.92</span>
    },
    <span class="hljs-attr">"maintenance_recommendations"</span>: [
      {
        <span class="hljs-attr">"description"</span>: <span class="hljs-string">"√úberpr√ºfung der Zellspannung"</span>,
        <span class="hljs-attr">"priority"</span>: <span class="hljs-string">"medium"</span>,
        <span class="hljs-attr">"estimated_cost_eur"</span>: <span class="hljs-number">500</span>,
        <span class="hljs-attr">"recommended_date"</span>: <span class="hljs-string">"2025-10-15"</span>
      },
      {
        <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Temperatur-Sensor Kalibrierung"</span>,
        <span class="hljs-attr">"priority"</span>: <span class="hljs-string">"low"</span>,
        <span class="hljs-attr">"estimated_cost_eur"</span>: <span class="hljs-number">200</span>,
        <span class="hljs-attr">"recommended_date"</span>: <span class="hljs-string">"2025-11-01"</span>
      }
    ],
    <span class="hljs-attr">"model_info"</span>: {
      <span class="hljs-attr">"algorithm"</span>: <span class="hljs-string">"Linear Regression"</span>,
      <span class="hljs-attr">"training_data_points"</span>: <span class="hljs-number">5000</span>,
      <span class="hljs-attr">"prediction_confidence"</span>: <span class="hljs-number">0.85</span>
    }
  }
}
</div></code></pre>
<h4 id="get-mlmodel-status">GET /ml/model-status</h4>
<p><strong>Beschreibung:</strong> Status aller ML-Modelle abrufen</p>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data"</span>: {
    <span class="hljs-attr">"models"</span>: {
      <span class="hljs-attr">"price_forecasting"</span>: {
        <span class="hljs-attr">"status"</span>: <span class="hljs-string">"trained"</span>,
        <span class="hljs-attr">"accuracy"</span>: <span class="hljs-number">0.87</span>,
        <span class="hljs-attr">"last_training"</span>: <span class="hljs-string">"2025-09-05T10:00:00Z"</span>,
        <span class="hljs-attr">"version"</span>: <span class="hljs-string">"1.2.3"</span>
      },
      <span class="hljs-attr">"bess_optimization"</span>: {
        <span class="hljs-attr">"status"</span>: <span class="hljs-string">"ready"</span>,
        <span class="hljs-attr">"last_optimization"</span>: <span class="hljs-string">"2025-09-05T11:30:00Z"</span>,
        <span class="hljs-attr">"version"</span>: <span class="hljs-string">"1.1.0"</span>
      },
      <span class="hljs-attr">"anomaly_detection"</span>: {
        <span class="hljs-attr">"status"</span>: <span class="hljs-string">"trained"</span>,
        <span class="hljs-attr">"sensitivity"</span>: <span class="hljs-number">0.1</span>,
        <span class="hljs-attr">"last_training"</span>: <span class="hljs-string">"2025-09-04T15:00:00Z"</span>,
        <span class="hljs-attr">"version"</span>: <span class="hljs-string">"1.0.5"</span>
      },
      <span class="hljs-attr">"predictive_maintenance"</span>: {
        <span class="hljs-attr">"status"</span>: <span class="hljs-string">"trained"</span>,
        <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">0.85</span>,
        <span class="hljs-attr">"last_training"</span>: <span class="hljs-string">"2025-09-03T09:00:00Z"</span>,
        <span class="hljs-attr">"version"</span>: <span class="hljs-string">"1.3.1"</span>
      }
    },
    <span class="hljs-attr">"system_status"</span>: {
      <span class="hljs-attr">"total_models"</span>: <span class="hljs-number">4</span>,
      <span class="hljs-attr">"trained_models"</span>: <span class="hljs-number">4</span>,
      <span class="hljs-attr">"api_uptime"</span>: <span class="hljs-string">"99.9%"</span>,
      <span class="hljs-attr">"average_response_time"</span>: <span class="hljs-string">"0.8s"</span>
    }
  }
}
</div></code></pre>
<h4 id="get-mlprojects">GET /ml/projects</h4>
<p><strong>Beschreibung:</strong> Verf√ºgbare Projekte f√ºr ML-Analysen abrufen</p>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data"</span>: [
    {
      <span class="hljs-attr">"id"</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"BESS Wien Hauptbahnhof"</span>,
      <span class="hljs-attr">"location"</span>: <span class="hljs-string">"Wien, √ñsterreich"</span>,
      <span class="hljs-attr">"bess_size"</span>: <span class="hljs-number">500.0</span>,
      <span class="hljs-attr">"bess_power"</span>: <span class="hljs-number">250.0</span>,
      <span class="hljs-attr">"has_historical_data"</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">"last_analysis"</span>: <span class="hljs-string">"2025-09-05T14:30:00Z"</span>
    },
    {
      <span class="hljs-attr">"id"</span>: <span class="hljs-number">2</span>,
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"BESS Graz Industrie"</span>,
      <span class="hljs-attr">"location"</span>: <span class="hljs-string">"Graz, √ñsterreich"</span>,
      <span class="hljs-attr">"bess_size"</span>: <span class="hljs-number">1000.0</span>,
      <span class="hljs-attr">"bess_power"</span>: <span class="hljs-number">500.0</span>,
      <span class="hljs-attr">"has_historical_data"</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">"last_analysis"</span>: <span class="hljs-string">"2025-09-04T16:45:00Z"</span>
    }
  ]
}
</div></code></pre>
<h3 id="%F0%9F%93%A5-datenimport-api">üì• Datenimport API</h3>
<h4 id="post-apiimportspot-prices">POST /api/import/spot-prices</h4>
<p><strong>Beschreibung:</strong> Spot-Preise importieren</p>
<p><strong>Request Body:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"APG"</span>,
  <span class="hljs-attr">"start_date"</span>: <span class="hljs-string">"2025-09-01"</span>,
  <span class="hljs-attr">"end_date"</span>: <span class="hljs-string">"2025-09-02"</span>,
  <span class="hljs-attr">"force_update"</span>: <span class="hljs-literal">false</span>
}
</div></code></pre>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data"</span>: {
    <span class="hljs-attr">"import_id"</span>: <span class="hljs-number">789</span>,
    <span class="hljs-attr">"source"</span>: <span class="hljs-string">"APG"</span>,
    <span class="hljs-attr">"records_imported"</span>: <span class="hljs-number">48</span>,
    <span class="hljs-attr">"start_date"</span>: <span class="hljs-string">"2025-09-01"</span>,
    <span class="hljs-attr">"end_date"</span>: <span class="hljs-string">"2025-09-02"</span>,
    <span class="hljs-attr">"status"</span>: <span class="hljs-string">"completed"</span>
  }
}
</div></code></pre>
<h4 id="post-apispot-prices">POST /api/spot-prices</h4>
<p><strong>Beschreibung:</strong> Spot-Preise f√ºr das Dashboard abrufen (inkl. Quellen-Breakdown)</p>
<p><strong>Request Body:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"start_date"</span>: <span class="hljs-string">"2025-11-01"</span>,
  <span class="hljs-attr">"end_date"</span>: <span class="hljs-string">"2025-11-08"</span>,
  <span class="hljs-attr">"data_source"</span>: <span class="hljs-string">"combined"</span>  <span class="hljs-comment">// entsoe | apg | awattar | combined</span>
}
</div></code></pre>
<p><strong>Response (Auszug):</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data_source"</span>: <span class="hljs-string">"combined"</span>,
  <span class="hljs-attr">"status_info"</span>: {
    <span class="hljs-attr">"tone"</span>: <span class="hljs-string">"success"</span>,
    <span class="hljs-attr">"text"</span>: <span class="hljs-string">"‚úÖ Kombinierte APG &amp; ENTSO-E Daten ‚Äì 21√ó APG, 21√ó ENTSO-E, 21√ó aWATTar"</span>
  },
  <span class="hljs-attr">"source_summary"</span>: [
    {<span class="hljs-attr">"category"</span>: <span class="hljs-string">"apg"</span>, <span class="hljs-attr">"label"</span>: <span class="hljs-string">"APG"</span>, <span class="hljs-attr">"count"</span>: <span class="hljs-number">21</span>, <span class="hljs-attr">"percentage"</span>: <span class="hljs-number">33.3</span>},
    {<span class="hljs-attr">"category"</span>: <span class="hljs-string">"entsoe"</span>, <span class="hljs-attr">"label"</span>: <span class="hljs-string">"ENTSO-E"</span>, <span class="hljs-attr">"count"</span>: <span class="hljs-number">21</span>, <span class="hljs-attr">"percentage"</span>: <span class="hljs-number">33.3</span>},
    {<span class="hljs-attr">"category"</span>: <span class="hljs-string">"awattar"</span>, <span class="hljs-attr">"label"</span>: <span class="hljs-string">"aWATTar"</span>, <span class="hljs-attr">"count"</span>: <span class="hljs-number">21</span>, <span class="hljs-attr">"percentage"</span>: <span class="hljs-number">33.3</span>}
  ],
  <span class="hljs-attr">"data"</span>: [
    {
      <span class="hljs-attr">"timestamp"</span>: <span class="hljs-string">"2025-11-08 00:00:00"</span>,
      <span class="hljs-attr">"price"</span>: <span class="hljs-number">52.72</span>,
      <span class="hljs-attr">"region"</span>: <span class="hljs-string">"AT"</span>,
      <span class="hljs-attr">"market"</span>: <span class="hljs-string">"day_ahead"</span>,
      <span class="hljs-attr">"source"</span>: <span class="hljs-string">"APG"</span>,
      <span class="hljs-attr">"source_category"</span>: <span class="hljs-string">"apg"</span>,
      <span class="hljs-attr">"source_label"</span>: <span class="hljs-string">"APG"</span>
    }
  ]
}
</div></code></pre>
<h4 id="post-apiimportload-profile">POST /api/import/load-profile</h4>
<p><strong>Beschreibung:</strong> Lastprofil importieren</p>
<h4 id="post-apiprojectsprojectiddataloadprofileanalysis-%E2%AD%90-neu">POST /api/projects/{project_id}/data/load_profile/analysis ‚≠ê NEU</h4>
<p><strong>Beschreibung:</strong> Umfassende Lastprofil-Analyse durchf√ºhren</p>
<p><strong>Request Body:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"load_profile_id"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">"start_date"</span>: <span class="hljs-string">"2024-01-01T00:00:00"</span>,
  <span class="hljs-attr">"end_date"</span>: <span class="hljs-string">"2024-12-31T23:59:59"</span>,
  <span class="hljs-attr">"time_range"</span>: <span class="hljs-string">"custom"</span>,
  <span class="hljs-attr">"analysis_types"</span>: [<span class="hljs-string">"all"</span>]
}
</div></code></pre>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>load_profile_id</code> (integer, erforderlich): ID des Lastprofils</li>
<li><code>start_date</code> (string, optional): Startdatum im ISO-Format</li>
<li><code>end_date</code> (string, optional): Enddatum im ISO-Format</li>
<li><code>time_range</code> (string, optional): Vordefinierter Zeitraum (&quot;last_7_days&quot;, &quot;last_30_days&quot;, &quot;last_year&quot;, &quot;custom&quot;)</li>
<li><code>analysis_types</code> (array, optional): Liste der gew√ºnschten Analysen (Standard: [&quot;all&quot;])
<ul>
<li><code>&quot;all&quot;</code>: Alle Analysen durchf√ºhren</li>
<li><code>&quot;basic_kpis&quot;</code>: Grundlegende Kennzahlen</li>
<li><code>&quot;ldc&quot;</code>: Lastdauerlinie</li>
<li><code>&quot;daily&quot;</code>: Tageslastgang</li>
<li><code>&quot;weekly&quot;</code>: Wochentags-Analyse</li>
<li><code>&quot;seasonal&quot;</code>: Saisonale Analyse</li>
<li><code>&quot;peak&quot;</code>: Lastspitzen-Analyse</li>
<li><code>&quot;distribution&quot;</code>: Energieverteilung (Histogramm)</li>
<li><code>&quot;load_factor&quot;</code>: Erweiterte Lastfaktor-Analyse</li>
<li><code>&quot;bess_potential&quot;</code>: BESS-Potenzial (Peak-Shaving &amp; Arbitrage)</li>
<li><code>&quot;classification&quot;</code>: Lastgang-Klassifikation</li>
<li><code>&quot;cost&quot;</code>: Kostenanalyse</li>
</ul>
</li>
</ul>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data"</span>: {
    <span class="hljs-attr">"basic_kpis"</span>: {
      <span class="hljs-attr">"mean_kw"</span>: <span class="hljs-number">125.5</span>,
      <span class="hljs-attr">"max_kw"</span>: <span class="hljs-number">350.0</span>,
      <span class="hljs-attr">"min_kw"</span>: <span class="hljs-number">45.2</span>,
      <span class="hljs-attr">"std_kw"</span>: <span class="hljs-number">78.3</span>,
      <span class="hljs-attr">"energy_kwh"</span>: <span class="hljs-number">1099380.0</span>
    },
    <span class="hljs-attr">"load_duration_curve"</span>: {
      <span class="hljs-attr">"sorted_power"</span>: [<span class="hljs-number">350.0</span>, <span class="hljs-number">340.5</span>, ...],
      <span class="hljs-attr">"cumulative_hours"</span>: [<span class="hljs-number">0.25</span>, <span class="hljs-number">0.5</span>, ...]
    },
    <span class="hljs-attr">"daily_profile"</span>: {
      <span class="hljs-attr">"hourly_average"</span>: [<span class="hljs-number">85.2</span>, <span class="hljs-number">90.5</span>, ...],
      <span class="hljs-attr">"hourly_std"</span>: [<span class="hljs-number">12.3</span>, <span class="hljs-number">15.6</span>, ...]
    },
    <span class="hljs-attr">"weekday_analysis"</span>: {
      <span class="hljs-attr">"monday"</span>: {<span class="hljs-attr">"mean"</span>: <span class="hljs-number">130.5</span>, <span class="hljs-attr">"max"</span>: <span class="hljs-number">320.0</span>, ...},
      <span class="hljs-attr">"tuesday"</span>: {<span class="hljs-attr">"mean"</span>: <span class="hljs-number">128.3</span>, <span class="hljs-attr">"max"</span>: <span class="hljs-number">315.0</span>, ...},
      ...
    },
    <span class="hljs-attr">"seasonal_analysis"</span>: {
      <span class="hljs-attr">"spring"</span>: {<span class="hljs-attr">"mean"</span>: <span class="hljs-number">120.5</span>, <span class="hljs-attr">"max"</span>: <span class="hljs-number">300.0</span>, ...},
      <span class="hljs-attr">"summer"</span>: {<span class="hljs-attr">"mean"</span>: <span class="hljs-number">135.2</span>, <span class="hljs-attr">"max"</span>: <span class="hljs-number">350.0</span>, ...},
      ...
    },
    <span class="hljs-attr">"peak_analysis"</span>: {
      <span class="hljs-attr">"top_peaks"</span>: [
        {<span class="hljs-attr">"timestamp"</span>: <span class="hljs-string">"2024-07-15T14:30:00"</span>, <span class="hljs-attr">"power_kW"</span>: <span class="hljs-number">350.0</span>},
        ...
      ],
      <span class="hljs-attr">"peak_duration_hours"</span>: <span class="hljs-number">45.5</span>,
      <span class="hljs-attr">"peak_frequency"</span>: <span class="hljs-number">120</span>,
      <span class="hljs-attr">"peak_threshold_90_percent"</span>: <span class="hljs-number">315.0</span>
    },
    <span class="hljs-attr">"load_distribution"</span>: {
      <span class="hljs-attr">"histogram"</span>: {
        <span class="hljs-attr">"bins"</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">100</span>, ...],
        <span class="hljs-attr">"frequencies"</span>: [<span class="hljs-number">1200</span>, <span class="hljs-number">3500</span>, ...]
      },
      <span class="hljs-attr">"percentiles"</span>: {
        <span class="hljs-attr">"P10"</span>: <span class="hljs-number">65.2</span>,
        <span class="hljs-attr">"P25"</span>: <span class="hljs-number">85.5</span>,
        <span class="hljs-attr">"P50"</span>: <span class="hljs-number">125.0</span>,
        <span class="hljs-attr">"P75"</span>: <span class="hljs-number">165.3</span>,
        <span class="hljs-attr">"P90"</span>: <span class="hljs-number">210.5</span>,
        <span class="hljs-attr">"P95"</span>: <span class="hljs-number">245.0</span>,
        <span class="hljs-attr">"P99"</span>: <span class="hljs-number">300.2</span>
      }
    },
    <span class="hljs-attr">"extended_load_factor"</span>: {
      <span class="hljs-attr">"load_factor"</span>: <span class="hljs-number">0.358</span>,
      <span class="hljs-attr">"utilization_rate"</span>: <span class="hljs-number">0.15</span>,
      <span class="hljs-attr">"full_load_hours"</span>: <span class="hljs-number">3136.0</span>,
      <span class="hljs-attr">"variation_coefficient"</span>: <span class="hljs-number">0.624</span>
    },
    <span class="hljs-attr">"bess_potential"</span>: {
      <span class="hljs-attr">"peak_shaving"</span>: {
        <span class="hljs-attr">"exceedances_count"</span>: <span class="hljs-number">150</span>,
        <span class="hljs-attr">"excess_energy_kwh"</span>: <span class="hljs-number">12500.0</span>,
        <span class="hljs-attr">"recommended_capacity_mwh"</span>: <span class="hljs-number">15.0</span>,
        <span class="hljs-attr">"recommended_power_mw"</span>: <span class="hljs-number">0.5</span>
      },
      <span class="hljs-attr">"arbitrage"</span>: {
        <span class="hljs-attr">"price_spread_eur_mwh"</span>: <span class="hljs-number">45.2</span>,
        <span class="hljs-attr">"estimated_revenue_eur"</span>: <span class="hljs-number">12500.0</span>,
        <span class="hljs-attr">"avg_buy_price_eur_mwh"</span>: <span class="hljs-number">35.5</span>,
        <span class="hljs-attr">"avg_sell_price_eur_mwh"</span>: <span class="hljs-number">80.7</span>
      },
      <span class="hljs-attr">"recommendations"</span>: {
        <span class="hljs-attr">"bess_size_mwh"</span>: <span class="hljs-number">15.0</span>,
        <span class="hljs-attr">"bess_power_mw"</span>: <span class="hljs-number">0.5</span>,
        <span class="hljs-attr">"use_case"</span>: <span class="hljs-string">"peak_shaving"</span>
      }
    },
    <span class="hljs-attr">"classification"</span>: {
      <span class="hljs-attr">"profile_type"</span>: <span class="hljs-string">"commercial"</span>,
      <span class="hljs-attr">"confidence_score"</span>: <span class="hljs-number">0.75</span>,
      <span class="hljs-attr">"characteristics"</span>: [
        <span class="hljs-string">"morgen_abend_peaks"</span>,
        <span class="hljs-string">"mittlere_leistung"</span>,
        <span class="hljs-string">"wochenende_drop"</span>
      ]
    },
    <span class="hljs-attr">"cost_analysis"</span>: {
      <span class="hljs-attr">"energy_costs_eur"</span>: <span class="hljs-number">219876.0</span>,
      <span class="hljs-attr">"power_costs_eur"</span>: <span class="hljs-number">21000.0</span>,
      <span class="hljs-attr">"total_costs_eur"</span>: <span class="hljs-number">240876.0</span>,
      <span class="hljs-attr">"costs_per_year_eur"</span>: <span class="hljs-number">240876.0</span>
    }
  }
}
</div></code></pre>
<p><strong>Verf√ºgbare Analysen im Detail:</strong></p>
<ol>
<li>
<p><strong>Grundlegende KPIs (<code>basic_kpis</code>):</strong></p>
<ul>
<li>Durchschnittliche Leistung (kW)</li>
<li>Maximale/Minimale Leistung (kW)</li>
<li>Standardabweichung (kW)</li>
<li>Gesamtenergie (kWh)</li>
</ul>
</li>
<li>
<p><strong>Lastdauerlinie (<code>load_duration_curve</code>):</strong></p>
<ul>
<li>Sortierte Leistungswerte</li>
<li>Kumulative Stunden</li>
<li>Visualisierung der Lastverteilung</li>
</ul>
</li>
<li>
<p><strong>Tageslastgang (<code>daily_profile</code>):</strong></p>
<ul>
<li>Durchschnittliche Leistung pro Stunde</li>
<li>Standardabweichung pro Stunde</li>
<li>Tageskurve mit Durchschnittstrendlinie</li>
</ul>
</li>
<li>
<p><strong>Wochentags-Analyse (<code>weekday_analysis</code>):</strong></p>
<ul>
<li>Statistiken f√ºr jeden Wochentag</li>
<li>Wochenvergleich mit Navigation</li>
<li>Durchschnittstrendlinie</li>
</ul>
</li>
<li>
<p><strong>Saisonale Analyse (<code>seasonal_analysis</code>):</strong></p>
<ul>
<li>Statistiken f√ºr Fr√ºhling, Sommer, Herbst, Winter</li>
<li>Saisonale Mustererkennung</li>
</ul>
</li>
<li>
<p><strong>Lastspitzen-Analyse (<code>peak_analysis</code>):</strong></p>
<ul>
<li>Top-N Peaks mit Zeitstempel</li>
<li>Peak-Dauer (Zeit √ºber 90% des Maximums)</li>
<li>Peak-Frequenz</li>
<li>Peak-Threshold (90% des Maximums)</li>
</ul>
</li>
<li>
<p><strong>Energieverteilung (<code>load_distribution</code>):</strong></p>
<ul>
<li>Histogramm der Leistungswerte</li>
<li>Perzentile (P10, P25, P50, P75, P90, P95, P99)</li>
<li>Statistische Verteilung</li>
</ul>
</li>
<li>
<p><strong>Erweiterte Lastfaktor-Analyse (<code>extended_load_factor</code>):</strong></p>
<ul>
<li>Lastfaktor (Mean/Max)</li>
<li>Auslastungsgrad (Zeit √ºber 80% des Maximums)</li>
<li>Volllaststunden</li>
<li>Variationskoeffizient (Std/Mean)</li>
</ul>
</li>
<li>
<p><strong>BESS-Potenzial (<code>bess_potential</code>):</strong></p>
<ul>
<li><strong>Peak-Shaving:</strong>
<ul>
<li>Anzahl √úberschreitungen des Export-Limits</li>
<li>√úberschuss-Energie (kWh)</li>
<li>Empfohlene BESS-Kapazit√§t (MWh)</li>
<li>Empfohlene BESS-Leistung (MW)</li>
</ul>
</li>
<li><strong>Arbitrage:</strong>
<ul>
<li>Preis-Spread (EUR/MWh)</li>
<li>Gesch√§tzter Arbitrage-Gewinn (EUR)</li>
<li>Durchschnittliche Kauf-/Verkaufspreise</li>
</ul>
</li>
<li><strong>Empfehlungen:</strong>
<ul>
<li>BESS-Gr√∂√üe und -Leistung</li>
<li>Identifizierter Use Case (peak_shaving, arbitrage, unknown)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Lastgang-Klassifikation (<code>classification</code>):</strong></p>
<ul>
<li>Automatische Erkennung: household, commercial, industrial, unknown</li>
<li>Konfidenz-Score (0-1)</li>
<li>Charakteristik-Merkmale:
<ul>
<li>kontinuierliche_last</li>
<li>morgen_abend_peaks</li>
<li>wochenende_drop</li>
<li>niedrige_leistung / mittlere_leistung / hohe_leistung</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Kostenanalyse (<code>cost_analysis</code>):</strong></p>
<ul>
<li>Energie-Kosten (EUR)</li>
<li>Leistungs-Kosten (EUR)</li>
<li>Gesamtkosten (EUR)</li>
<li>Extrapolierte Jahreskosten (EUR)</li>
</ul>
</li>
</ol>
<p><strong>Hinweise:</strong></p>
<ul>
<li>Die BESS-Potenzial-Analyse verwendet automatisch das <code>export_limit_kw</code> aus den Netzrestriktionen (falls vorhanden) oder sch√§tzt es als 80% der BESS-Power</li>
<li>F√ºr die Arbitrage-Analyse werden Spot-Preise aus der Datenbank geladen (falls verf√ºgbar)</li>
<li>Alle Analysen unterst√ºtzen flexible Zeitr√§ume und k√∂nnen einzeln oder kombiniert angefordert werden</li>
</ul>
<h4 id="get-apiprojectsprojectidnetwork-restrictions-%E2%AD%90-neu">GET /api/projects/{project_id}/network-restrictions ‚≠ê NEU</h4>
<p><strong>Beschreibung:</strong> Netzrestriktionen f√ºr Projekt abrufen</p>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data"</span>: {
    <span class="hljs-attr">"id"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"project_id"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"max_discharge_kw"</span>: <span class="hljs-number">500.0</span>,
    <span class="hljs-attr">"max_charge_kw"</span>: <span class="hljs-number">500.0</span>,
    <span class="hljs-attr">"ramp_rate_percent"</span>: <span class="hljs-number">10.0</span>,
    <span class="hljs-attr">"export_limit_kw"</span>: <span class="hljs-number">400.0</span>,
    <span class="hljs-attr">"network_level"</span>: <span class="hljs-string">"NE6"</span>,
    <span class="hljs-attr">"grid_code_compliance"</span>: <span class="hljs-literal">true</span>
  }
}
</div></code></pre>
<h4 id="put-apiprojectsprojectidnetwork-restrictions-%E2%AD%90-neu">PUT /api/projects/{project_id}/network-restrictions ‚≠ê NEU</h4>
<p><strong>Beschreibung:</strong> Netzrestriktionen f√ºr Projekt speichern/aktualisieren</p>
<p><strong>Request Body:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"max_discharge_kw"</span>: <span class="hljs-number">500.0</span>,
  <span class="hljs-attr">"max_charge_kw"</span>: <span class="hljs-number">500.0</span>,
  <span class="hljs-attr">"ramp_rate_percent"</span>: <span class="hljs-number">10.0</span>,
  <span class="hljs-attr">"export_limit_kw"</span>: <span class="hljs-number">400.0</span>,
  <span class="hljs-attr">"network_level"</span>: <span class="hljs-string">"NE6"</span>,
  <span class="hljs-attr">"grid_code_compliance"</span>: <span class="hljs-literal">true</span>
}
</div></code></pre>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>max_discharge_kw</code> (float): Maximale Entladeleistung (kW)</li>
<li><code>max_charge_kw</code> (float): Maximale Ladeleistung (kW)</li>
<li><code>ramp_rate_percent</code> (float): Ramp-Rate-Limit (% pro Minute)</li>
<li><code>export_limit_kw</code> (float): Export-Limit am Netzanschlusspunkt (kW)</li>
<li><code>network_level</code> (string): Netzebene (NE5, NE6, NE7)</li>
<li><code>grid_code_compliance</code> (boolean): Grid Code Compliance aktiviert</li>
</ul>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"message"</span>: <span class="hljs-string">"Netzrestriktionen erfolgreich gespeichert"</span>,
  <span class="hljs-attr">"data"</span>: {
    <span class="hljs-attr">"id"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"project_id"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"max_discharge_kw"</span>: <span class="hljs-number">500.0</span>,
    <span class="hljs-attr">"max_charge_kw"</span>: <span class="hljs-number">500.0</span>,
    <span class="hljs-attr">"ramp_rate_percent"</span>: <span class="hljs-number">10.0</span>,
    <span class="hljs-attr">"export_limit_kw"</span>: <span class="hljs-number">400.0</span>,
    <span class="hljs-attr">"network_level"</span>: <span class="hljs-string">"NE6"</span>,
    <span class="hljs-attr">"grid_code_compliance"</span>: <span class="hljs-literal">true</span>
  }
}
</div></code></pre>
<p><strong>Hinweise:</strong></p>
<ul>
<li>Das <code>export_limit_kw</code> wird automatisch in der BESS-Potenzial-Analyse verwendet</li>
<li>Falls keine Netzrestriktionen vorhanden sind, wird <code>export_limit_kw</code> als 80% der BESS-Power gesch√§tzt</li>
<li>Die Netzrestriktionen k√∂nnen √ºber die Web-UI unter &quot;Projekte ‚Üí Netzrestriktionen&quot; konfiguriert werden</li>
</ul>
<h4 id="post-apiimportload-profile">POST /api/import/load-profile</h4>
<p><strong>Beschreibung:</strong> Lastprofil importieren</p>
<p><strong>Request Body:</strong> (multipart/form-data)</p>
<pre class="hljs"><code><div>project_id: 1
file: &lt;CSV/Excel file&gt;
</div></code></pre>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data"</span>: {
    <span class="hljs-attr">"import_id"</span>: <span class="hljs-number">790</span>,
    <span class="hljs-attr">"project_id"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"records_imported"</span>: <span class="hljs-number">8760</span>,
    <span class="hljs-attr">"file_name"</span>: <span class="hljs-string">"load_profile_2024.csv"</span>,
    <span class="hljs-attr">"status"</span>: <span class="hljs-string">"completed"</span>
  }
}
</div></code></pre>
<h4 id="post-apiimportweather">POST /api/import/weather</h4>
<p><strong>Beschreibung:</strong> Wetterdaten importieren</p>
<p><strong>Request Body:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"location"</span>: <span class="hljs-string">"Wien, √ñsterreich"</span>,
  <span class="hljs-attr">"start_date"</span>: <span class="hljs-string">"2025-01-01"</span>,
  <span class="hljs-attr">"end_date"</span>: <span class="hljs-string">"2025-12-31"</span>,
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"PVGIS"</span>
}
</div></code></pre>
<h4 id="get-apiimportstatus">GET /api/import/status</h4>
<p><strong>Beschreibung:</strong> Import-Status abrufen</p>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data"</span>: {
    <span class="hljs-attr">"spot_prices"</span>: {
      <span class="hljs-attr">"last_update"</span>: <span class="hljs-string">"2025-09-05T08:00:00Z"</span>,
      <span class="hljs-attr">"records_count"</span>: <span class="hljs-number">8760</span>,
      <span class="hljs-attr">"date_range"</span>: <span class="hljs-string">"2025-01-01 to 2025-12-31"</span>
    },
    <span class="hljs-attr">"weather_data"</span>: {
      <span class="hljs-attr">"last_update"</span>: <span class="hljs-string">"2025-09-05T09:00:00Z"</span>,
      <span class="hljs-attr">"locations"</span>: [<span class="hljs-string">"Wien"</span>, <span class="hljs-string">"Graz"</span>, <span class="hljs-string">"Salzburg"</span>]
    }
  }
}
</div></code></pre>
<h3 id="%F0%9F%93%A4-export-api">üì§ Export API</h3>
<h4 id="get-apiexportpdfprojectid">GET /api/export/pdf/{project_id}</h4>
<p><strong>Beschreibung:</strong> PDF-Report generieren</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>include_charts</code> (optional): Charts einbeziehen (default: true)</li>
<li><code>language</code> (optional): Sprache (de/en, default: de)</li>
</ul>
<p><strong>Response:</strong> PDF-Datei (Content-Type: application/pdf)</p>
<h4 id="get-apiexportexcelprojectid">GET /api/export/excel/{project_id}</h4>
<p><strong>Beschreibung:</strong> Excel-Export generieren</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>data_type</code> (optional): simulation/dispatch/all (default: all)</li>
<li><code>include_raw_data</code> (optional): Rohdaten einbeziehen (default: false)</li>
</ul>
<p><strong>Response:</strong> Excel-Datei (Content-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet)</p>
<h4 id="get-apiexportcharttype">GET /api/export/chart/{type}</h4>
<p><strong>Beschreibung:</strong> Chart als Bild exportieren</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>type</code>: soc/cashflow/dispatch/redispatch</li>
<li><code>project_id</code>: Projekt-ID</li>
<li><code>simulation_id</code> (optional): Spezifische Simulation</li>
<li><code>format</code>: png/jpg/svg (default: png)</li>
<li><code>width</code> (optional): Breite in Pixel (default: 800)</li>
<li><code>height</code> (optional): H√∂he in Pixel (default: 600)</li>
</ul>
<p><strong>Response:</strong> Bild-Datei (Content-Type: image/png, image/jpeg, image/svg+xml)</p>
<h3 id="%F0%9F%94%8D-utility-api">üîç Utility API</h3>
<h4 id="get-apihealth">GET /api/health</h4>
<p><strong>Beschreibung:</strong> System-Health-Check</p>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data"</span>: {
    <span class="hljs-attr">"status"</span>: <span class="hljs-string">"healthy"</span>,
    <span class="hljs-attr">"database"</span>: <span class="hljs-string">"connected"</span>,
    <span class="hljs-attr">"version"</span>: <span class="hljs-string">"2.0.0"</span>,
    <span class="hljs-attr">"uptime"</span>: <span class="hljs-string">"2d 5h 30m"</span>,
    <span class="hljs-attr">"timestamp"</span>: <span class="hljs-string">"2025-09-05T10:30:00Z"</span>
  }
}
</div></code></pre>
<h4 id="get-apiversion">GET /api/version</h4>
<p><strong>Beschreibung:</strong> API-Version abrufen</p>
<p><strong>Response:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"data"</span>: {
    <span class="hljs-attr">"version"</span>: <span class="hljs-string">"2.0.0"</span>,
    <span class="hljs-attr">"build_date"</span>: <span class="hljs-string">"2025-09-01T12:00:00Z"</span>,
    <span class="hljs-attr">"git_commit"</span>: <span class="hljs-string">"abc123def456"</span>
  }
}
</div></code></pre>
<h3 id="%E2%9A%A0%EF%B8%8F-fehler-codes">‚ö†Ô∏è Fehler-Codes</h3>
<h4 id="http-status-codes">HTTP Status Codes</h4>
<ul>
<li><code>200 OK</code>: Erfolgreiche Anfrage</li>
<li><code>201 Created</code>: Ressource erfolgreich erstellt</li>
<li><code>400 Bad Request</code>: Ung√ºltige Anfrage</li>
<li><code>401 Unauthorized</code>: Nicht authentifiziert</li>
<li><code>403 Forbidden</code>: Keine Berechtigung</li>
<li><code>404 Not Found</code>: Ressource nicht gefunden</li>
<li><code>422 Unprocessable Entity</code>: Validierungsfehler</li>
<li><code>500 Internal Server Error</code>: Server-Fehler</li>
</ul>
<h4 id="custom-error-codes">Custom Error Codes</h4>
<ul>
<li><code>PROJECT_NOT_FOUND</code>: Projekt nicht gefunden</li>
<li><code>INVALID_PARAMETERS</code>: Ung√ºltige Parameter</li>
<li><code>SIMULATION_FAILED</code>: Simulation fehlgeschlagen</li>
<li><code>IMPORT_FAILED</code>: Datenimport fehlgeschlagen</li>
<li><code>EXPORT_FAILED</code>: Export fehlgeschlagen</li>
<li><code>DATABASE_ERROR</code>: Datenbank-Fehler</li>
<li><code>API_LIMIT_EXCEEDED</code>: API-Limit √ºberschritten</li>
</ul>
<h3 id="%F0%9F%93%9D-beispiel-requests">üìù Beispiel-Requests</h3>
<h4 id="curl-beispiele">cURL Beispiele</h4>
<p><strong>Projekt erstellen:</strong></p>
<pre class="hljs"><code><div>curl -X POST http://localhost:5000/api/projects \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -H <span class="hljs-string">"X-CSRFToken: &lt;token&gt;"</span> \
  -d <span class="hljs-string">'{
    "name": "Test Projekt",
    "description": "Testbeschreibung",
    "location": "Wien",
    "battery_config": {
      "capacity_kwh": 100,
      "power_charge_kw": 50,
      "power_discharge_kw": 50
    }
  }'</span>
</div></code></pre>
<p><strong>Simulation starten:</strong></p>
<pre class="hljs"><code><div>curl -X POST http://localhost:5000/api/simulate \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -H <span class="hljs-string">"X-CSRFToken: &lt;token&gt;"</span> \
  -d <span class="hljs-string">'{
    "project_id": 1,
    "use_case": "UC1",
    "simulation_years": 10
  }'</span>
</div></code></pre>
<p><strong>PDF-Export:</strong></p>
<pre class="hljs"><code><div>curl -X GET http://localhost:5000/api/<span class="hljs-built_in">export</span>/pdf/1 \
  -H <span class="hljs-string">"X-CSRFToken: &lt;token&gt;"</span> \
  --output report.pdf
</div></code></pre>
<h4 id="javascript-beispiele">JavaScript Beispiele</h4>
<p><strong>Projekt laden:</strong></p>
<pre class="hljs"><code><div><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadProjects</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">'/api/projects'</span>, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,
      <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>,
        <span class="hljs-string">'X-CSRFToken'</span>: getCSRFToken()
      }
    });
    
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.json();
    <span class="hljs-keyword">if</span> (data.success) {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Projekte:'</span>, data.data);
    }
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'Fehler:'</span>, error);
  }
}
</div></code></pre>
<p><strong>Simulation starten:</strong></p>
<pre class="hljs"><code><div><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">startSimulation</span>(<span class="hljs-params">projectId, useCase</span>) </span>{
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">'/api/simulate'</span>, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
      <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>,
        <span class="hljs-string">'X-CSRFToken'</span>: getCSRFToken()
      },
      <span class="hljs-attr">body</span>: <span class="hljs-built_in">JSON</span>.stringify({
        <span class="hljs-attr">project_id</span>: projectId,
        <span class="hljs-attr">use_case</span>: useCase,
        <span class="hljs-attr">simulation_years</span>: <span class="hljs-number">10</span>
      })
    });
    
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.json();
    <span class="hljs-keyword">if</span> (data.success) {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Simulation gestartet:'</span>, data.data);
    }
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'Fehler:'</span>, error);
  }
}
</div></code></pre>
<hr>
<h2 id="%F0%9F%94%A7-troubleshooting">üîß TROUBLESHOOTING</h2>
<h3 id="%F0%9F%9A%A8-h%C3%A4ufige-probleme--l%C3%B6sungen">üö® H√§ufige Probleme &amp; L√∂sungen</h3>
<h4 id="installation--setup">Installation &amp; Setup</h4>
<p><strong>Problem: <code>ModuleNotFoundError: No module named 'flask'</code></strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># L√∂sung: Virtual Environment aktivieren</span>
<span class="hljs-built_in">source</span> venv/bin/activate  <span class="hljs-comment"># Linux/Mac</span>
<span class="hljs-comment"># oder</span>
venv\Scripts\activate     <span class="hljs-comment"># Windows</span>

<span class="hljs-comment"># Dependencies installieren</span>
pip install -r requirements.txt
</div></code></pre>
<p><strong>Problem: <code>sqlite3.OperationalError: no such table: projects</code></strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># L√∂sung: Datenbank initialisieren</span>
python init_db.py

<span class="hljs-comment"># Oder manuell</span>
python -c <span class="hljs-string">"from app import create_app, db; app = create_app(); app.app_context().push(); db.create_all()"</span>
</div></code></pre>
<p><strong>Problem: <code>Permission denied</code> bei Datenbank-Zugriff</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># L√∂sung: Berechtigungen korrigieren</span>
chmod 664 instance/bess.db
chown www-data:www-data instance/bess.db  <span class="hljs-comment"># Linux</span>
</div></code></pre>
<h4 id="server-probleme">Server-Probleme</h4>
<p><strong>Problem: Server startet nicht - Port bereits belegt</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># L√∂sung: Port pr√ºfen und freigeben</span>
netstat -tulpn | grep :5000
<span class="hljs-built_in">kill</span> -9 &lt;PID&gt;

<span class="hljs-comment"># Oder anderen Port verwenden</span>
<span class="hljs-built_in">export</span> FLASK_RUN_PORT=5001
python run.py
</div></code></pre>
<p><strong>Problem: <code>Address already in use</code></strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># L√∂sung: Prozess beenden</span>
pkill -f <span class="hljs-string">"python run.py"</span>
<span class="hljs-comment"># oder</span>
lsof -ti:5000 | xargs <span class="hljs-built_in">kill</span> -9
</div></code></pre>
<p><strong>Problem: Server l√§uft, aber keine Verbindung m√∂glich</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># L√∂sung: Firewall pr√ºfen</span>
sudo ufw allow 5000  <span class="hljs-comment"># Ubuntu</span>
<span class="hljs-comment"># oder</span>
firewall-cmd --add-port=5000/tcp --permanent  <span class="hljs-comment"># CentOS</span>
</div></code></pre>
<h4 id="datenbank-probleme">Datenbank-Probleme</h4>
<p><strong>Problem: <code>database is locked</code></strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># L√∂sung: Datenbank-Verbindungen pr√ºfen</span>
sqlite3 instance/bess.db <span class="hljs-string">".timeout 10000"</span>
<span class="hljs-comment"># oder</span>
fuser instance/bess.db
<span class="hljs-built_in">kill</span> -9 &lt;PID&gt;
</div></code></pre>
<p><strong>Problem: <code>no such column: efficiency_charge</code></strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># L√∂sung: Datenbank-Schema aktualisieren</span>
python -c <span class="hljs-string">"
from app import create_app, db
app = create_app()
with app.app_context():
    db.engine.execute('ALTER TABLE battery_configs ADD COLUMN efficiency_charge FLOAT DEFAULT 0.95')
    db.engine.execute('ALTER TABLE battery_configs ADD COLUMN efficiency_discharge FLOAT DEFAULT 0.95')
"</span>
</div></code></pre>
<p><strong>Problem: Datenbank-Datei besch√§digt</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># L√∂sung: Backup wiederherstellen</span>
cp backups/bess_backup_2025-09-05.db instance/bess.db

<span class="hljs-comment"># Oder Datenbank reparieren</span>
sqlite3 instance/bess.db <span class="hljs-string">".recover"</span> | sqlite3 instance/bess_recovered.db
mv instance/bess_recovered.db instance/bess.db
</div></code></pre>
<h4 id="frontend-probleme">Frontend-Probleme</h4>
<p><strong>Problem: Charts werden nicht angezeigt</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment">// L√∂sung: Chart.js CDN pr√ºfen</span>
<span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> Chart);  <span class="hljs-comment">// Sollte "function" ausgeben</span>

<span class="hljs-comment">// Fallback: Chart.js manuell laden</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> Chart === <span class="hljs-string">'undefined'</span>) {
    <span class="hljs-keyword">const</span> script = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'script'</span>);
    script.src = <span class="hljs-string">'https://cdn.jsdelivr.net/npm/chart.js'</span>;
    <span class="hljs-built_in">document</span>.head.appendChild(script);
}
</div></code></pre>
<p><strong>Problem: Mobile Men√º funktioniert nicht</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment">// L√∂sung: Touch-Events pr√ºfen</span>
<span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'DOMContentLoaded'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">const</span> menuButton = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'mobile-menu-button'</span>);
    <span class="hljs-keyword">if</span> (menuButton) {
        menuButton.addEventListener(<span class="hljs-string">'touchstart'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            e.preventDefault();
            toggleMobileMenu();
        });
    }
});
</div></code></pre>
<p><strong>Problem: Formulare werden nicht abgesendet</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment">&lt;!-- L√∂sung: CSRF-Token pr√ºfen --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"POST"</span>&gt;</span>
    {{ csrf_token() }}
    <span class="hljs-comment">&lt;!-- Formular-Felder --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</div></code></pre>
<h4 id="api-probleme">API-Probleme</h4>
<p><strong>Problem: <code>401 Unauthorized</code></strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># L√∂sung: Session pr√ºfen</span>
curl -c cookies.txt -b cookies.txt http://localhost:5000/api/projects

<span class="hljs-comment"># Oder Login durchf√ºhren</span>
curl -X POST http://localhost:5000/login \
  -d <span class="hljs-string">"username=admin&amp;password=password"</span> \
  -c cookies.txt
</div></code></pre>
<p><strong>Problem: <code>422 Unprocessable Entity</code></strong></p>
<pre class="hljs"><code><div><span class="hljs-comment">// L√∂sung: Request-Body validieren</span>
{
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Test Projekt"</span>,
  <span class="hljs-attr">"battery_config"</span>: {
    <span class="hljs-attr">"capacity_kwh"</span>: <span class="hljs-number">100</span>,  <span class="hljs-comment">// Muss &gt; 0 sein</span>
    <span class="hljs-attr">"power_charge_kw"</span>: <span class="hljs-number">50</span>,  <span class="hljs-comment">// Muss &gt; 0 sein</span>
    <span class="hljs-attr">"power_discharge_kw"</span>: <span class="hljs-number">50</span>  <span class="hljs-comment">// Muss &gt; 0 sein</span>
  }
}
</div></code></pre>
<p><strong>Problem: <code>500 Internal Server Error</code></strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># L√∂sung: Logs pr√ºfen</span>
tail -f logs/bess.log

<span class="hljs-comment"># Oder Debug-Modus aktivieren</span>
<span class="hljs-built_in">export</span> FLASK_DEBUG=1
python run.py
</div></code></pre>
<h4 id="performance-probleme">Performance-Probleme</h4>
<p><strong>Problem: Simulation l√§uft sehr langsam</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># L√∂sung: Datenbank-Indizes pr√ºfen</span>
sqlite3 instance/bess.db <span class="hljs-string">".indices"</span>

<span class="hljs-comment"># Fehlende Indizes hinzuf√ºgen</span>
sqlite3 instance/bess.db <span class="hljs-string">"
CREATE INDEX IF NOT EXISTS idx_spot_prices_datetime ON spot_prices(datetime);
CREATE INDEX IF NOT EXISTS idx_simulation_results_project ON simulation_results(project_id);
"</span>
</div></code></pre>
<p><strong>Problem: Hohe CPU-Last</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># L√∂sung: Prozesse √ºberwachen</span>
top -p $(pgrep -f <span class="hljs-string">"python run.py"</span>)

<span class="hljs-comment"># Oder mit htop</span>
htop -p $(pgrep -f <span class="hljs-string">"python run.py"</span>)
</div></code></pre>
<p><strong>Problem: Hoher Speicherverbrauch</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># L√∂sung: Garbage Collection aktivieren</span>
<span class="hljs-keyword">import</span> gc
gc.collect()

<span class="hljs-comment"># Oder Memory-Profiling</span>
pip install memory-profiler
python -m memory_profiler run.py
</div></code></pre>
<h4 id="import-probleme">Import-Probleme</h4>
<p><strong>Problem: Spot-Preise werden nicht importiert</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># L√∂sung: API-Schl√ºssel pr√ºfen</span>
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$APG_API_KEY</span>
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$ENTSOE_API_KEY</span>

<span class="hljs-comment"># Manueller Test</span>
curl <span class="hljs-string">"https://api.apg.at/api/spot-prices?date=2025-09-05"</span>
</div></code></pre>
<p><strong>Problem: Excel-Dateien k√∂nnen nicht gelesen werden</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># L√∂sung: Dependencies pr√ºfen</span>
pip install openpyxl xlrd

<span class="hljs-comment"># Oder Datei-Format pr√ºfen</span>
file data/<span class="hljs-keyword">import</span>.xlsx
</div></code></pre>
<p><strong>Problem: CSV-Import schl√§gt fehl</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># L√∂sung: Encoding pr√ºfen</span>
<span class="hljs-keyword">import</span> chardet
<span class="hljs-keyword">with</span> open(<span class="hljs-string">'data.csv'</span>, <span class="hljs-string">'rb'</span>) <span class="hljs-keyword">as</span> f:
    result = chardet.detect(f.read())
    print(result[<span class="hljs-string">'encoding'</span>])
</div></code></pre>
<h4 id="export-probleme">Export-Probleme</h4>
<p><strong>Problem: PDF-Export funktioniert nicht</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># L√∂sung: Dependencies pr√ºfen</span>
pip install reportlab weasyprint

<span class="hljs-comment"># Oder System-Packages installieren</span>
sudo apt-get install libcairo2-dev libpango1.0-dev  <span class="hljs-comment"># Ubuntu</span>
</div></code></pre>
<p><strong>Problem: Excel-Export ist leer</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># L√∂sung: Daten pr√ºfen</span>
<span class="hljs-keyword">from</span> app <span class="hljs-keyword">import</span> create_app, db
app = create_app()
<span class="hljs-keyword">with</span> app.app_context():
    projects = db.session.query(Project).all()
    print(<span class="hljs-string">f"Anzahl Projekte: <span class="hljs-subst">{len(projects)}</span>"</span>)
</div></code></pre>
<p><strong>Problem: Chart-Export funktioniert nicht</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># L√∂sung: Canvas-Dependencies pr√ºfen</span>
pip install pillow

<span class="hljs-comment"># Oder Node.js f√ºr Chart-Export</span>
npm install canvas
</div></code></pre>
<h3 id="%F0%9F%94%8D-debugging-tools">üîç Debugging-Tools</h3>
<h4 id="log-analyse">Log-Analyse</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Logs in Echtzeit verfolgen</span>
tail -f logs/bess.log

<span class="hljs-comment"># Fehler filtern</span>
grep <span class="hljs-string">"ERROR"</span> logs/bess.log

<span class="hljs-comment"># Spezifische Zeitr√§ume</span>
grep <span class="hljs-string">"2025-09-05"</span> logs/bess.log
</div></code></pre>
<h4 id="datenbank-debugging">Datenbank-Debugging</h4>
<pre class="hljs"><code><div><span class="hljs-comment">-- Tabellen auflisten</span>
.tables

<span class="hljs-comment">-- Schema einer Tabelle</span>
.schema projects

<span class="hljs-comment">-- Daten pr√ºfen</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(*) <span class="hljs-keyword">FROM</span> projects;
<span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> projects <span class="hljs-keyword">LIMIT</span> <span class="hljs-number">5</span>;

<span class="hljs-comment">-- Performance-Analyse</span>
<span class="hljs-keyword">EXPLAIN</span> <span class="hljs-keyword">QUERY</span> PLAN <span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> projects <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'%Test%'</span>;
</div></code></pre>
<h4 id="api-debugging">API-Debugging</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># API-Endpunkte testen</span>
curl -v http://localhost:5000/api/health

<span class="hljs-comment"># Mit Authentication</span>
curl -H <span class="hljs-string">"Authorization: Bearer &lt;token&gt;"</span> http://localhost:5000/api/projects

<span class="hljs-comment"># Request/Response loggen</span>
curl -v -X POST http://localhost:5000/api/simulate \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -d <span class="hljs-string">'{"project_id": 1, "use_case": "UC1"}'</span>
</div></code></pre>
<h4 id="frontend-debugging">Frontend-Debugging</h4>
<pre class="hljs"><code><div><span class="hljs-comment">// Browser-Konsole</span>
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Debug-Info:'</span>, data);

<span class="hljs-comment">// Network-Tab pr√ºfen</span>
<span class="hljs-comment">// F12 -&gt; Network -&gt; XHR/Fetch</span>

<span class="hljs-comment">// Local Storage pr√ºfen</span>
<span class="hljs-built_in">console</span>.log(localStorage.getItem(<span class="hljs-string">'session'</span>));

<span class="hljs-comment">// Session Storage pr√ºfen</span>
<span class="hljs-built_in">console</span>.log(sessionStorage.getItem(<span class="hljs-string">'csrf_token'</span>));
</div></code></pre>
<h3 id="%F0%9F%9B%A0%EF%B8%8F-wartung--monitoring">üõ†Ô∏è Wartung &amp; Monitoring</h3>
<h4 id="regelm%C3%A4%C3%9Fige-wartung">Regelm√§√üige Wartung</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># T√§gliche Backups</span>
./backup_database.py

<span class="hljs-comment"># Log-Rotation</span>
logrotate /etc/logrotate.d/bess

<span class="hljs-comment"># Datenbank-Optimierung</span>
sqlite3 instance/bess.db <span class="hljs-string">"VACUUM;"</span>
sqlite3 instance/bess.db <span class="hljs-string">"ANALYZE;"</span>
</div></code></pre>
<h4 id="system-monitoring">System-Monitoring</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Disk-Space pr√ºfen</span>
df -h

<span class="hljs-comment"># Memory-Usage</span>
free -h

<span class="hljs-comment"># CPU-Load</span>
uptime

<span class="hljs-comment"># Process-Status</span>
ps aux | grep python
</div></code></pre>
<h4 id="health-checks">Health-Checks</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Automatischer Health-Check</span>
curl -f http://localhost:5000/health || <span class="hljs-built_in">echo</span> <span class="hljs-string">"Service down"</span>

<span class="hljs-comment"># Datenbank-Connectivity</span>
sqlite3 instance/bess.db <span class="hljs-string">"SELECT 1;"</span>

<span class="hljs-comment"># API-Response-Time</span>
time curl -s http://localhost:5000/api/health
</div></code></pre>
<h3 id="%F0%9F%93%9E-support-kontakte">üìû Support-Kontakte</h3>
<h4 id="technischer-support">Technischer Support</h4>
<ul>
<li><strong>GitHub Issues:</strong> https://github.com/HSchlagi/bess-simulation/issues</li>
<li><strong>E-Mail:</strong> office@instanet.at</li>
<li><strong>Dokumentation:</strong> Diese Datei</li>
</ul>
<h4 id="community-hilfe">Community-Hilfe</h4>
<ul>
<li><strong>GitHub Discussions:</strong> F√ºr Fragen und Diskussionen</li>
<li><strong>Wiki:</strong> Erweiterte Dokumentation</li>
<li><strong>Stack Overflow:</strong> Tag: <code>bess-simulation</code></li>
</ul>
<h4 id="notfall-kontakte">Notfall-Kontakte</h4>
<ul>
<li><strong>Kritische Bugs:</strong> office@instanet.at (Betreff: URGENT)</li>
<li><strong>Sicherheitsl√ºcken:</strong> security@instanet.at</li>
<li><strong>Datenverlust:</strong> backup@instanet.at</li>
</ul>
<hr>
<h2 id="%F0%9F%93%9A-glossar">üìö GLOSSAR</h2>
<h3 id="%F0%9F%94%8B-bess--batterietechnik">üîã BESS &amp; Batterietechnik</h3>
<p><strong>BESS (Battery Energy Storage System)</strong></p>
<ul>
<li>Batteriespeicher-System f√ºr elektrische Energie</li>
<li>Kombination aus Batteriezellen, Batteriemanagement-System (BMS) und Wechselrichter</li>
<li>Erm√∂glicht Speicherung und bedarfsgerechte Abgabe von Strom</li>
</ul>
<p><strong>Batteriekapazit√§t (Capacity)</strong></p>
<ul>
<li>Gesamtenergie, die eine Batterie speichern kann</li>
<li>Gemessen in kWh (Kilowattstunden)</li>
<li>Beeinflusst die Speicherdauer und Anwendungsm√∂glichkeiten</li>
</ul>
<p><strong>C-Rate</strong></p>
<ul>
<li>Entlade-/Laderate der Batterie</li>
<li>1C = vollst√§ndige Entladung in 1 Stunde</li>
<li>0.5C = vollst√§ndige Entladung in 2 Stunden</li>
<li>H√∂here C-Raten erm√∂glichen schnellere Lade-/Entladevorg√§nge</li>
</ul>
<p><strong>SoC (State of Charge)</strong></p>
<ul>
<li>Aktueller Ladezustand der Batterie</li>
<li>Angabe in Prozent (0% = leer, 100% = voll)</li>
<li>Wichtig f√ºr Batterieschutz und Optimierung</li>
</ul>
<p><strong>DoD (Depth of Discharge)</strong></p>
<ul>
<li>Entladetiefe der Batterie</li>
<li>Angabe in Prozent des maximalen Ladezustands</li>
<li>Beeinflusst die Lebensdauer der Batterie</li>
</ul>
<p><strong>Zyklenlebensdauer (Cycle Life)</strong></p>
<ul>
<li>Anzahl der vollst√§ndigen Lade-/Entladezyklen</li>
<li>Bis die Batterie 80% ihrer urspr√ºnglichen Kapazit√§t erreicht</li>
<li>Wichtig f√ºr Wirtschaftlichkeitsberechnungen</li>
</ul>
<p><strong>Wirkungsgrad (Efficiency)</strong></p>
<ul>
<li>Verh√§ltnis von abgegebener zu aufgenommener Energie</li>
<li>Lade-Wirkungsgrad: Verluste beim Laden</li>
<li>Entlade-Wirkungsgrad: Verluste beim Entladen</li>
<li>Typisch: 90-95% f√ºr Lithium-Ionen-Batterien</li>
</ul>
<p><strong>Selbstentladung (Self-Discharge)</strong></p>
<ul>
<li>Verlust der gespeicherten Energie ohne Nutzung</li>
<li>Angabe in % pro Tag oder Monat</li>
<li>Beeinflusst die Langzeitspeicherung</li>
</ul>
<h3 id="%E2%9A%A1-energiewirtschaft">‚ö° Energiewirtschaft</h3>
<p><strong>Spot-Preis (Spot Price)</strong></p>
<ul>
<li>Aktueller Marktpreis f√ºr Strom</li>
<li>Wird st√ºndlich an der Stromb√∂rse festgelegt</li>
<li>Basis f√ºr Intraday-Trading und Arbitrage</li>
</ul>
<p><strong>Intraday-Trading</strong></p>
<ul>
<li>Handel mit Strom f√ºr den gleichen Tag</li>
<li>Nutzung von Preisunterschieden zwischen Stunden</li>
<li>Wichtig f√ºr BESS-Wirtschaftlichkeit</li>
</ul>
<p><strong>Redispatch</strong></p>
<ul>
<li>Eingriffe des Netzbetreibers zur Netzstabilisierung</li>
<li>Reduzierung der Einspeisung bei Netzengp√§ssen</li>
<li>BESS kann als Redispatch-Ma√ünahme eingesetzt werden</li>
</ul>
<p><strong>Eigenverbrauch (Self-Consumption)</strong></p>
<ul>
<li>Direkte Nutzung des selbst erzeugten Stroms</li>
<li>Vermeidung von Netzbezug und -einspeisung</li>
<li>Erh√∂ht die Wirtschaftlichkeit von PV-Anlagen</li>
</ul>
<p><strong>Netzparit√§t (Grid Parity)</strong></p>
<ul>
<li>Punkt, an dem erneuerbare Energien kosteng√ºnstiger sind als Netzstrom</li>
<li>Wichtiger Meilenstein f√ºr die Energiewende</li>
<li>BESS beschleunigt die Erreichung der Netzparit√§t</li>
</ul>
<p><strong>Peak-Shaving</strong></p>
<ul>
<li>Reduzierung der Spitzenlast</li>
<li>BESS entl√§dt sich bei hohem Stromverbrauch</li>
<li>Reduziert Netzbelastung und Kosten</li>
</ul>
<p><strong>Load-Shifting</strong></p>
<ul>
<li>Verschiebung des Stromverbrauchs</li>
<li>Laden bei niedrigen Preisen, Entladen bei hohen Preisen</li>
<li>Optimierung der Energiekosten</li>
</ul>
<h3 id="%F0%9F%93%8A-wirtschaftlichkeit">üìä Wirtschaftlichkeit</h3>
<p><strong>NPV (Net Present Value)</strong></p>
<ul>
<li>Kapitalwert einer Investition</li>
<li>Summe aller zuk√ºnftigen Cashflows, abgezinst auf heute</li>
<li>Positive Werte bedeuten profitable Investitionen</li>
</ul>
<p><strong>IRR (Internal Rate of Return)</strong></p>
<ul>
<li>Interner Zinsfu√ü einer Investition</li>
<li>Zinssatz, bei dem NPV = 0</li>
<li>Vergleichsm√∂glichkeit mit anderen Investitionen</li>
</ul>
<p><strong>Payback-Periode</strong></p>
<ul>
<li>Zeit bis zur Amortisation der Investition</li>
<li>Wann die kumulierten Ertr√§ge die Investitionskosten decken</li>
<li>Wichtig f√ºr Liquidit√§tsplanung</li>
</ul>
<p><strong>LCOE (Levelized Cost of Energy)</strong></p>
<ul>
<li>Stromgestehungskosten √ºber die Lebensdauer</li>
<li>Gesamtkosten dividiert durch erzeugte Energie</li>
<li>Vergleichsm√∂glichkeit verschiedener Technologien</li>
</ul>
<p><strong>ROI (Return on Investment)</strong></p>
<ul>
<li>Rendite einer Investition</li>
<li>Verh√§ltnis von Gewinn zu Investition</li>
<li>Angabe in Prozent pro Jahr</li>
</ul>
<p><strong>CAPEX (Capital Expenditure)</strong></p>
<ul>
<li>Investitionsausgaben</li>
<li>Einmalige Kosten f√ºr Anschaffung und Installation</li>
<li>Hauptkostenfaktor bei BESS</li>
</ul>
<p><strong>OPEX (Operational Expenditure)</strong></p>
<ul>
<li>Betriebsausgaben</li>
<li>Laufende Kosten f√ºr Wartung, Versicherung, etc.</li>
<li>Wichtig f√ºr langfristige Wirtschaftlichkeit</li>
</ul>
<h3 id="%F0%9F%94%A7-technische-begriffe">üîß Technische Begriffe</h3>
<p><strong>Wechselrichter (Inverter)</strong></p>
<ul>
<li>Wandelt Gleichstrom (DC) in Wechselstrom (AC) um</li>
<li>Wichtig f√ºr Netzanschluss und Verbraucher</li>
<li>Hat eigenen Wirkungsgrad und Kosten</li>
</ul>
<p><strong>BMS (Battery Management System)</strong></p>
<ul>
<li>√úberwacht und steuert die Batterie</li>
<li>Schutz vor √úberladung, Tiefentladung, √úberhitzung</li>
<li>Kommuniziert mit dem Wechselrichter</li>
</ul>
<p><strong>Grid-Tie</strong></p>
<ul>
<li>Netzgekoppelte Anlage</li>
<li>BESS ist mit dem √∂ffentlichen Netz verbunden</li>
<li>Erm√∂glicht Einspeisung und Bezug</li>
</ul>
<p><strong>Off-Grid</strong></p>
<ul>
<li>Inselanlage ohne Netzanschluss</li>
<li>BESS als einzige Stromquelle</li>
<li>H√∂here Anforderungen an Kapazit√§t und Zuverl√§ssigkeit</li>
</ul>
<p><strong>Hybrid-System</strong></p>
<ul>
<li>Kombination verschiedener Energiequellen</li>
<li>PV + BESS + Wind + Generator</li>
<li>Optimierte Energieversorgung</li>
</ul>
<p><strong>Smart Grid</strong></p>
<ul>
<li>Intelligentes Stromnetz</li>
<li>Bidirektionale Kommunikation zwischen Verbrauchern und Netz</li>
<li>BESS als wichtiger Bestandteil</li>
</ul>
<h3 id="%F0%9F%93%88-simulation--modellierung">üìà Simulation &amp; Modellierung</h3>
<p><strong>Use Case</strong></p>
<ul>
<li>Anwendungsfall f√ºr BESS</li>
<li>UC1: Eigenverbrauchsoptimierung</li>
<li>UC2: Spot-Preis-Arbitrage</li>
<li>UC3: Redispatch</li>
<li>UC4: Kombinierte Optimierung</li>
</ul>
<p><strong>Zeitreihen-Simulation</strong></p>
<ul>
<li>Berechnung √ºber einen bestimmten Zeitraum</li>
<li>St√ºndliche oder viertelst√ºndliche Aufl√∂sung</li>
<li>Ber√ºcksichtigung von Lastprofilen und Erzeugung</li>
</ul>
<p><strong>Monte-Carlo-Simulation</strong></p>
<ul>
<li>Zufallsbasierte Simulation</li>
<li>Ber√ºcksichtigung von Unsicherheiten</li>
<li>Mehrere Durchl√§ufe f√ºr statistische Aussagen</li>
</ul>
<p><strong>Sensitivit√§tsanalyse</strong></p>
<ul>
<li>Untersuchung der Auswirkungen von Parameter√§nderungen</li>
<li>Identifikation kritischer Einflussfaktoren</li>
<li>Risikobewertung der Investition</li>
</ul>
<p><strong>Benchmarking</strong></p>
<ul>
<li>Vergleich mit Referenzsystemen</li>
<li>Bewertung der Performance</li>
<li>Identifikation von Verbesserungspotenzialen</li>
</ul>
<h3 id="%F0%9F%8C%90-daten--apis">üåê Daten &amp; APIs</h3>
<p><strong>APG (Austrian Power Grid)</strong></p>
<ul>
<li>√ñsterreichischer √úbertragungsnetzbetreiber</li>
<li>Stellt Spot-Preise und Netzinformationen bereit</li>
<li>Wichtig f√ºr √∂sterreichische BESS-Projekte</li>
</ul>
<p><strong>ENTSOE (European Network of Transmission System Operators)</strong></p>
<ul>
<li>Europ√§ischer Verband der √úbertragungsnetzbetreiber</li>
<li>Harmonisierte Daten und Regeln</li>
<li>Wichtig f√ºr grenz√ºberschreitende Projekte</li>
</ul>
<p><strong>PVGIS (Photovoltaic Geographical Information System)</strong></p>
<ul>
<li>EU-Tool f√ºr Solarstrahlungsdaten</li>
<li>Kostenlose Wetterdaten f√ºr Europa</li>
<li>Wichtig f√ºr PV-Simulationen</li>
</ul>
<p><strong>eHyd</strong></p>
<ul>
<li>√ñsterreichisches Gew√§sserinformationssystem</li>
<li>Pegelst√§nde und Abfl√ºsse</li>
<li>Wichtig f√ºr Wasserkraft-Simulationen</li>
</ul>
<p><strong>CSV (Comma-Separated Values)</strong></p>
<ul>
<li>Textformat f√ºr tabellarische Daten</li>
<li>Einfacher Import/Export von Zeitreihen</li>
<li>Standardformat f√ºr Lastprofile</li>
</ul>
<p><strong>JSON (JavaScript Object Notation)</strong></p>
<ul>
<li>Datenformat f√ºr API-Kommunikation</li>
<li>Strukturierte Daten√ºbertragung</li>
<li>Standard f√ºr moderne Web-APIs</li>
</ul>
<p><strong>Live BESS Integration</strong></p>
<ul>
<li>Echtzeit-Monitoring von BESS-Speichersystemen</li>
<li>MQTT-Bridge f√ºr direkte Speicherverbindung</li>
<li>FastAPI-Service f√ºr Datenverarbeitung</li>
<li>Real-time Dashboard mit interaktiven Charts</li>
<li>Alarm-Management und System-Health-Monitoring</li>
<li>Automatische Fallback-Mechanismen</li>
<li>Unterst√ºtzt sowohl MQTT als auch HTTP-APIs</li>
<li>Konfigurierbare Update-Intervalle und Datenquellen</li>
</ul>
<h3 id="%F0%9F%94%92-sicherheit--compliance">üîí Sicherheit &amp; Compliance</h3>
<p><strong>CSRF (Cross-Site Request Forgery)</strong></p>
<ul>
<li>Sicherheitsl√ºcke in Webanwendungen</li>
<li>Schutz durch CSRF-Token</li>
<li>Wichtig f√ºr Formular-Sicherheit</li>
</ul>
<p><strong>SQL-Injection</strong></p>
<ul>
<li>Angriff auf Datenbanken</li>
<li>Schutz durch Parameterisierte Queries</li>
<li>Wichtig f√ºr Datensicherheit</li>
</ul>
<p><strong>XSS (Cross-Site Scripting)</strong></p>
<ul>
<li>Angriff durch sch√§dliche Skripte</li>
<li>Schutz durch Input-Validierung</li>
<li>Wichtig f√ºr Benutzer-Sicherheit</li>
</ul>
<p><strong>GDPR (General Data Protection Regulation)</strong></p>
<ul>
<li>EU-Datenschutzverordnung</li>
<li>Schutz personenbezogener Daten</li>
<li>Wichtig f√ºr Compliance</li>
</ul>
<p><strong>ISO 27001</strong></p>
<ul>
<li>Standard f√ºr Informationssicherheit</li>
<li>Zertifizierung von Sicherheitsmanagementsystemen</li>
<li>Wichtig f√ºr Unternehmenssicherheit</li>
</ul>
<h3 id="%F0%9F%93%B1-software--technologie">üì± Software &amp; Technologie</h3>
<p><strong>Flask</strong></p>
<ul>
<li>Python Web-Framework</li>
<li>Einfach und flexibel</li>
<li>Basis f√ºr BESS-Simulation</li>
</ul>
<p><strong>SQLite</strong></p>
<ul>
<li>Leichte Datenbank</li>
<li>Dateibasiert, keine Server erforderlich</li>
<li>Ideal f√ºr Entwicklung und kleine Anwendungen</li>
</ul>
<p><strong>Chart.js</strong></p>
<ul>
<li>JavaScript-Bibliothek f√ºr Charts</li>
<li>Interaktive Grafiken</li>
<li>Wichtig f√ºr Datenvisualisierung</li>
</ul>
<p><strong>Tailwind CSS</strong></p>
<ul>
<li>Utility-first CSS-Framework</li>
<li>Schnelle UI-Entwicklung</li>
<li>Responsive Design</li>
</ul>
<p><strong>Docker</strong></p>
<ul>
<li>Containerisierung von Anwendungen</li>
<li>Einheitliche Deployment-Umgebung</li>
<li>Wichtig f√ºr Produktions-Deployment</li>
</ul>
<p><strong>Git</strong></p>
<ul>
<li>Versionskontrollsystem</li>
<li>Zusammenarbeit und Backup</li>
<li>Wichtig f√ºr Software-Entwicklung</li>
</ul>
<h3 id="%F0%9F%A4%96-machine-learning--ki">ü§ñ Machine Learning &amp; KI</h3>
<p><strong>Random Forest</strong></p>
<ul>
<li>Ensemble-Machine-Learning-Algorithmus</li>
<li>Verwendet f√ºr Preisprognose</li>
<li>Kombiniert mehrere Entscheidungsb√§ume</li>
<li>Robust gegen Overfitting</li>
</ul>
<p><strong>Isolation Forest</strong></p>
<ul>
<li>Algorithmus zur Anomalie-Erkennung</li>
<li>Erkennt ungew√∂hnliche Datenpunkte</li>
<li>Funktioniert ohne Label-Daten</li>
<li>Ideal f√ºr Lastprofil-Analysen</li>
</ul>
<p><strong>Linear Regression</strong></p>
<ul>
<li>Einfacher ML-Algorithmus</li>
<li>Verwendet f√ºr Predictive Maintenance</li>
<li>Modelliert lineare Zusammenh√§nge</li>
<li>Schnell und interpretierbar</li>
</ul>
<p><strong>Grid Search</strong></p>
<ul>
<li>Optimierungs-Algorithmus</li>
<li>Testet systematisch Parameter-Kombinationen</li>
<li>Verwendet f√ºr BESS-Optimierung</li>
<li>Findet globale Optima</li>
</ul>
<p><strong>Feature Engineering</strong></p>
<ul>
<li>Vorbereitung von Eingabedaten</li>
<li>Extraktion relevanter Merkmale</li>
<li>Normalisierung und Skalierung</li>
<li>Wichtig f√ºr Modell-Performance</li>
</ul>
<p><strong>Cross-Validation</strong></p>
<ul>
<li>Validierungs-Technik</li>
<li>Teilt Daten in Trainings-/Test-Sets</li>
<li>Verhindert Overfitting</li>
<li>Sch√§tzt echte Modell-Performance</li>
</ul>
<p><strong>Model Training</strong></p>
<ul>
<li>Prozess des Lernens aus Daten</li>
<li>Anpassung der Modell-Parameter</li>
<li>Minimierung der Vorhersage-Fehler</li>
<li>Automatisch bei neuen Daten</li>
</ul>
<p><strong>Prediction Confidence</strong></p>
<ul>
<li>Ma√ü f√ºr Vorhersage-Sicherheit</li>
<li>Wird als Konfidenz-Intervall angezeigt</li>
<li>Wichtig f√ºr Entscheidungsfindung</li>
<li>Basiert auf Modell-Unsicherheit</li>
</ul>
<p><strong>Anomaly Detection</strong></p>
<ul>
<li>Erkennung ungew√∂hnlicher Muster</li>
<li>Automatische Alert-Generierung</li>
<li>Wichtig f√ºr System-Monitoring</li>
<li>Verhindert Ausf√§lle proaktiv</li>
</ul>
<p><strong>Predictive Maintenance</strong></p>
<ul>
<li>Vorhersage von Wartungsbedarf</li>
<li>Basiert auf Degradationsmodellen</li>
<li>Optimiert Wartungsintervalle</li>
<li>Reduziert ungeplante Ausf√§lle</li>
</ul>
<h3 id="%F0%9F%93%8A-messungen--einheiten">üìä Messungen &amp; Einheiten</h3>
<p><strong>kW (Kilowatt)</strong></p>
<ul>
<li>Einheit f√ºr Leistung</li>
<li>1 kW = 1000 Watt</li>
<li>Wichtig f√ºr Lade-/Entladeleistung</li>
</ul>
<p><strong>kWh (Kilowattstunde)</strong></p>
<ul>
<li>Einheit f√ºr Energie</li>
<li>1 kWh = 1000 Wh</li>
<li>Wichtig f√ºr Batteriekapazit√§t</li>
</ul>
<p><strong>MWh (Megawattstunde)</strong></p>
<ul>
<li>Einheit f√ºr gro√üe Energiemengen</li>
<li>1 MWh = 1000 kWh</li>
<li>Wichtig f√ºr Gro√üanlagen</li>
</ul>
<p><strong>‚Ç¨/kWh</strong></p>
<ul>
<li>Einheit f√ºr Strompreise</li>
<li>Kosten pro Kilowattstunde</li>
<li>Wichtig f√ºr Wirtschaftlichkeitsberechnungen</li>
</ul>
<p><strong>‚Ç¨/kW</strong></p>
<ul>
<li>Einheit f√ºr Leistungspreise</li>
<li>Kosten pro Kilowatt</li>
<li>Wichtig f√ºr Investitionskosten</li>
</ul>
<p><strong>% (Prozent)</strong></p>
<ul>
<li>Relative Angaben</li>
<li>Wirkungsgrade, SoC, DoD</li>
<li>Wichtig f√ºr Effizienz-Bewertungen</li>
</ul>
<hr>
<h2 id="%F0%9F%93%9D-changelog">üìù Changelog</h2>
<h3 id="version-25---januar-2025">Version 2.5 - Januar 2025</h3>
<h4 id="jahresertrag-anzeige-f%C3%BCr-erneuerbare-energien-%E2%AD%90-neu"><strong>Jahresertrag-Anzeige f√ºr Erneuerbare Energien</strong> ‚≠ê NEU</h4>
<p><strong>Datenvorschau-Erweiterung:</strong></p>
<ul>
<li><strong>PV-Jahresertrag:</strong> Automatische Berechnung aus PVGIS-Einstrahlungsdaten und PV-Kapazit√§t
<ul>
<li>Berechnung: Globalstrahlung (W/m¬≤) √ó PV-Kapazit√§t (kWp) √ó 0.75 / 1000</li>
<li>Performance Ratio (PR): 75% Standard</li>
<li>Anzeige in kWh/Jahr und MWh/a</li>
</ul>
</li>
<li><strong>Wind-Jahresertrag:</strong> Direkte Anzeige aus GeoSphere-Winddaten
<ul>
<li>Summierung aller 15-Minuten-Energiewerte</li>
<li>Extrapolation auf Jahresbasis</li>
<li>Anzeige in kWh/Jahr und MWh/a</li>
</ul>
</li>
<li><strong>Hydro-Jahresertrag:</strong> Berechnung aus Wasserstandsdaten und Hydro-Kapazit√§t
<ul>
<li>Durchflussberechnung: Q = k √ó H^1.5</li>
<li>Wasserkraft-Formel: P = Œ∑ √ó œÅ √ó g √ó H √ó Q</li>
<li>Standard-Parameter: Wirkungsgrad 85%, Fallh√∂he 15 m</li>
<li>Anzeige in kWh/Jahr und MWh/a</li>
</ul>
</li>
</ul>
<p><strong>Technische Verbesserungen:</strong></p>
<ul>
<li>API-Erweiterung: PV-Kapazit√§t und Hydro-Kapazit√§t werden automatisch aus dem Projekt geladen</li>
<li>Clientseitige Berechnung: Alle Jahresertr√§ge werden in JavaScript berechnet</li>
<li>Extrapolation: Automatische Jahresertrag-Berechnung basierend auf verf√ºgbarem Zeitraum</li>
<li>Statistik-Integration: Max/Min/Durchschnitt-Werte f√ºr alle Erzeugungsarten</li>
</ul>
<p><strong>Benutzerfreundlichkeit:</strong></p>
<ul>
<li>Einfache Navigation: Daten ‚Üí Datenvorschau ‚Üí Datenart ausw√§hlen</li>
<li>Klare Anzeige: Jahresertrag wird prominent in der Statistik-Sektion angezeigt</li>
<li>Voraussetzungen: PV/Hydro-Kapazit√§t muss im Projekt hinterlegt sein</li>
</ul>
<h3 id="version-24---januar-2025">Version 2.4 - Januar 2025</h3>
<p><strong>GeoSphere-Wind-Integration f√ºr Co-Location PV+Wind+BESS:</strong></p>
<h4 id="%E2%9C%85-geosphere-wind-integration">‚úÖ GeoSphere-Wind-Integration</h4>
<ul>
<li>
<p><strong>Automatischer Import von Winddaten:</strong></p>
<ul>
<li>Integration der GeoSphere Austria API f√ºr historische Winddaten</li>
<li>15-Minuten-Windleistungszeitreihen f√ºr pr√§zise Co-Location-Simulationen</li>
<li>Unterst√ºtzung f√ºr 260+ √∂sterreichische Messstationen</li>
<li>Verf√ºgbare Resource IDs: <code>klima-v1-10min</code>, <code>klima-v1-1h</code>, <code>synop-v1-1h</code></li>
</ul>
</li>
<li>
<p><strong>Windleistungsberechnung:</strong></p>
<ul>
<li>Hubh√∂hen-Umrechnung von 10m auf Nabenh√∂he (konfigurierbarer Alpha-Faktor)</li>
<li>Power-Curve-Anwendung f√ºr Windturbinen</li>
<li>Verlustfaktoren-Integration (Gesamtverluste konfigurierbar)</li>
<li>Energieberechnung aus Windleistung (15-Minuten-Intervalle)</li>
</ul>
</li>
<li>
<p><strong>Intelligente Stationen-Auswahl:</strong></p>
<ul>
<li>Dynamisches Laden verf√ºgbarer Stationen basierend auf Resource ID</li>
<li>Dropdown-Auswahl mit Station-Name, ID und H√∂he</li>
<li>Koordinaten-Anzeige zur Standortpr√ºfung</li>
<li>Automatische Aktualisierung bei Resource ID-√Ñnderung</li>
</ul>
</li>
<li>
<p><strong>Datenvorschau &amp; Visualisierung:</strong></p>
<ul>
<li>Winddaten in der Datenvorschau (<code>/preview_data</code>)</li>
<li>Statistiken: Max, Durchschnitt, Min, Datens√§tze</li>
<li>Chart-Visualisierung √ºber Zeit</li>
<li>Rohdaten-Tabelle mit Export-Funktion</li>
</ul>
</li>
<li>
<p><strong>Backend-Integration:</strong></p>
<ul>
<li>Neue API-Route: <code>/api/geosphere/wind/import</code> f√ºr Winddaten-Import</li>
<li>Neue API-Route: <code>/api/geosphere/stations</code> f√ºr verf√ºgbare Stationen</li>
<li>Neue API-Route: <code>/api/projects/&lt;id&gt;/data/wind</code> f√ºr Datenabfrage</li>
<li>Erweiterte Datenbank-Modelle: <code>power_kw</code> und <code>energy_kwh</code> in <code>WindValue</code></li>
</ul>
</li>
<li>
<p><strong>Frontend-Integration:</strong></p>
<ul>
<li>GeoSphere-Wind-Kachel im Datenimport-Center</li>
<li>Konfigurations-Modal mit GeoSphere- und Turbinen-Parametern</li>
<li>Fehlerbehandlung mit detaillierten Diagnose-Informationen</li>
<li>Erfolgs-Benachrichtigungen mit KPIs (Jahresertrag, Volllaststunden)</li>
</ul>
</li>
</ul>
<p><strong>Technische Verbesserungen:</strong></p>
<ul>
<li>Neue Module: <code>geosphere/geosphere_wind_engine.py</code> f√ºr Winddaten-Verarbeitung</li>
<li>Erweiterte <code>WindProfileImporter</code>-Klasse in <code>data_importers.py</code></li>
<li>GeoJSON-Parsing f√ºr GeoSphere-API-Antworten</li>
<li>Robuste Fehlerbehandlung f√ºr API-Fehler (400, 403, 404, 422)</li>
<li>Automatische Datenbank-Migration f√ºr neue Spalten</li>
</ul>
<p><strong>Dokumentation:</strong></p>
<ul>
<li>GeoSphere-Integrations-Guide: <code>geosphere/GeoSphere_BESS_Integration.md</code></li>
<li>Wind-BESS-Modell-Dokumentation: <code>geosphere/Wind_BESS_Modell.md</code></li>
<li>Aktualisierte README.md und BESS_SIMULATION_DOKUMENTATION.md</li>
</ul>
<hr>
<h3 id="version-23---januar-2025">Version 2.3 - Januar 2025</h3>
<p><strong>Roadmap 2025 - Stufe 1, 2.1, 2.2 Implementierung:</strong></p>
<h4 id="%F0%9F%94%B4-stufe-1---top-priorit%C3%A4t-features">üî¥ Stufe 1 - Top-Priorit√§t Features</h4>
<ul>
<li>
<p>‚úÖ <strong>Netzrestriktionen &amp; Grid Code Compliance:</strong></p>
<ul>
<li>Implementierung von Ramp-Rate Limits (max. 10% pro Minute)</li>
<li>Exportlimits f√ºr verschiedene Netzebenen (NE5/NE6/NE7)</li>
<li>100-h-Regel (EEG/DE) f√ºr Stundenweise Einspeisebegrenzung</li>
<li>Einspeiseleistungsbegrenzung am Netzanschlusspunkt</li>
<li>H√ºllkurvenregelungen (APG, ENTSO-E)</li>
<li>Frontend-Kennzahlen f√ºr Erl√∂sverluste durch Restriktionen</li>
</ul>
</li>
<li>
<p>‚úÖ <strong>Erweiterte Batterie-Degradation:</strong></p>
<ul>
<li>Cycle Count Tracking (Full Cycle Equivalent)</li>
<li>DoD-abh√§ngige Alterung</li>
<li>Temperaturfaktor-Integration</li>
<li>Kapazit√§tsverlust-Berechnung pro Jahr</li>
<li>State of Health (SoH) Tracking</li>
<li>Lebensdauer-Prognose bis 80% SoH</li>
<li>Frontend-Kennzahlen f√ºr Degradations-Metriken</li>
</ul>
</li>
<li>
<p>‚úÖ <strong>Second-Life-Batterien:</strong></p>
<ul>
<li>Reduzierte Startkapazit√§t (70-85%)</li>
<li>K√ºrzere Lebensdauer (3-7 Jahre)</li>
<li>Kostenvorteil (40-60% CAPEX-Reduktion)</li>
<li>H√∂here Degradation durch Voralterung</li>
<li>Frontend-Kennzahlen f√ºr Economy-Szenarien</li>
</ul>
</li>
</ul>
<h4 id="%F0%9F%9F%A1-stufe-21---co-location-pv--bess">üü° Stufe 2.1 - Co-Location PV + BESS</h4>
<ul>
<li>
<p>‚úÖ <strong>Gemeinsamer Netzanschluss:</strong></p>
<ul>
<li>Shared Grid Connection f√ºr PV und BESS</li>
<li>Netzkosten-Reduktion durch gemeinsame Nutzung</li>
<li>Kapazit√§tsoptimierung des Netzanschlusses</li>
</ul>
</li>
<li>
<p>‚úÖ <strong>Curtailment-Vermeidung:</strong></p>
<ul>
<li>PV-Abschaltung vermeiden durch BESS-Integration</li>
<li>PV-Mehrproduktion-Berechnung</li>
<li>Verbesserte PV-Ausnutzung</li>
<li>Erl√∂szuwachs durch vermiedene Curtailment-Verluste</li>
</ul>
</li>
<li>
<p>‚úÖ <strong>PV-gef√ºhrtes Peak-Shaving:</strong></p>
<ul>
<li>Intelligente Lastverschiebung basierend auf PV-Erzeugung</li>
<li>Peak-Reduktion durch BESS-Entladung</li>
<li>Eigenverbrauchssteigerung</li>
</ul>
</li>
<li>
<p>‚úÖ <strong>Frontend-Integration:</strong></p>
<ul>
<li>Neue Sektion &quot;Stufe 2.1 - Co-Location PV + BESS&quot; im Enhanced Dashboard</li>
<li>Ausklappbare Bereiche f√ºr bessere √úbersicht</li>
<li>Detaillierte Kennzahlen-Anzeige</li>
</ul>
</li>
</ul>
<h4 id="%F0%9F%9F%A1-stufe-22---optimierte-regelstrategien">üü° Stufe 2.2 - Optimierte Regelstrategien</h4>
<ul>
<li>
<p>‚úÖ <strong>Particle Swarm Optimization (PSO):</strong></p>
<ul>
<li>Schwarm-basierte Optimierung f√ºr Lade-/Entlade-Entscheidungen</li>
<li>+5-15% Erl√∂ssteigerung m√∂glich</li>
<li>Nutzung von Preis-Volatilit√§t</li>
</ul>
</li>
<li>
<p>‚úÖ <strong>Multi-Objective Optimierung:</strong></p>
<ul>
<li>Balance zwischen Erl√∂s-Maximierung und Degradations-Minimierung</li>
<li>Konfigurierbare Gewichtung</li>
<li>Netto-Nutzen-Berechnung</li>
</ul>
</li>
<li>
<p>‚úÖ <strong>Zyklenoptimierung:</strong></p>
<ul>
<li>Battery Health Schutz durch Zyklenbegrenzung</li>
<li>Optimaler SOC-Bereich</li>
<li>Tiefentladungsvermeidung</li>
</ul>
</li>
<li>
<p>‚úÖ <strong>Cluster-Based Dispatch:</strong></p>
<ul>
<li>Preis-Cluster-Erkennung</li>
<li>Gruppenbasierte Lastverteilung</li>
<li>Schnelle Reaktion auf Marktver√§nderungen</li>
</ul>
</li>
<li>
<p>‚úÖ <strong>UI-Features:</strong></p>
<ul>
<li>Optimierungs-Toggle-Switch im Dashboard</li>
<li>Strategie-Auswahl-Konfiguration</li>
<li>Frontend-Kennzahlen f√ºr Optimierungs-Metriken</li>
<li>Ausklappbare Sektionen f√ºr bessere √úbersicht</li>
</ul>
</li>
</ul>
<p><strong>Technische Verbesserungen:</strong></p>
<ul>
<li>Neue Datenbank-Tabellen: <code>network_restrictions</code>, <code>battery_degradation_advanced</code>, <code>second_life_config</code>, <code>co_location_config</code>, <code>optimization_strategy_config</code></li>
<li>Migration-Skripte f√ºr bestehende Projekte</li>
<li>Backend-Integration in Simulation-Engine</li>
<li>Neue API-Endpunkte f√ºr Optimierungs-Konfiguration</li>
<li>Verbesserte Fehlerbehandlung und Validierung</li>
</ul>
<p><strong>Frontend-Verbesserungen:</strong></p>
<ul>
<li>Ausklappbare Sektionen f√ºr alle Stufe-Bereiche</li>
<li>Optimierungs-Toggle direkt im Header</li>
<li>Verbesserte Kennzahlen-Darstellung</li>
<li>Dynamisches Laden von Use Cases basierend auf Projektauswahl</li>
</ul>
<hr>
<h2 id="%F0%9F%93%9D-changelog-vorherige-versionen">üìù Changelog (Vorherige Versionen)</h2>
<h3 id="version-20-september-2025">Version 2.0 (September 2025)</h3>
<h4 id="%E2%9C%85-neue-features">‚úÖ Neue Features</h4>
<ul>
<li><strong>ML &amp; KI Dashboard:</strong> Vollst√§ndige Machine Learning Integration
<ul>
<li><strong>Preisprognose:</strong> Random Forest-basierte Strompreis-Vorhersagen</li>
<li><strong>BESS-Optimierung:</strong> Grid Search f√ºr optimale Parameter</li>
<li><strong>Anomalie-Erkennung:</strong> Isolation Forest f√ºr ungew√∂hnliche Muster</li>
<li><strong>Predictive Maintenance:</strong> Linear Regression f√ºr Wartungsvorhersagen</li>
</ul>
</li>
<li><strong>Dispatch-Integration:</strong> Vollst√§ndige Dispatch &amp; Redispatch-Funktionalit√§t</li>
<li><strong>Mobile-Optimierung:</strong> Touch-Events und responsive Design</li>
<li><strong>Export-Zentrum:</strong> Erweiterte PDF/Excel-Export-Funktionen</li>
<li><strong>Multi-User-System:</strong> Rollenbasierte Zugriffskontrolle</li>
<li><strong>Performance-Optimierung:</strong> Redis-Caching und Datenbank-Indizes</li>
</ul>
<h4 id="%F0%9F%94%A7-verbesserungen">üîß Verbesserungen</h4>
<ul>
<li><strong>ML &amp; KI Integration:</strong> Vollst√§ndige API-Integration mit scikit-learn</li>
<li><strong>Dashboard:</strong> Interaktive Charts mit Chart.js</li>
<li><strong>API:</strong> RESTful API mit vollst√§ndiger Dokumentation</li>
<li><strong>Monitoring:</strong> Umfassendes Logging und Error-Tracking</li>
<li><strong>Sicherheit:</strong> CSRF-Protection und Input-Validierung</li>
</ul>
<h4 id="%F0%9F%90%9B-bug-fixes">üêõ Bug-Fixes</h4>
<ul>
<li><strong>ML &amp; KI Dashboard:</strong> Chart-Rendering und API-Response-Parsing</li>
<li><strong>Excel-Import:</strong> Datum-Korrektur f√ºr Excel-Dateien</li>
<li><strong>Lastprofil-Import:</strong> API-Endpunkt-Korrekturen</li>
<li><strong>Mobile-Men√º:</strong> Touch-Event-Handling f√ºr Safari</li>
<li><strong>Datenbank:</strong> Schema-Updates und Migrationen</li>
</ul>
<h3 id="version-221-januar-2025">Version 2.2.1 (Januar 2025)</h3>
<h4 id="%F0%9F%94%A7-wichtige-korrekturen">üîß Wichtige Korrekturen</h4>
<ul>
<li>
<p><strong>Use Case Vergleich - Gesamterl√∂s-Berechnung korrigiert:</strong></p>
<ul>
<li>Problem behoben: Gesamterl√∂s wurde f√§lschlicherweise als Summe √ºber alle Use Cases berechnet</li>
<li>L√∂sung: Gesamterl√∂s wird jetzt korrekt vom besten Use Case (h√∂chste ROI) berechnet</li>
<li>Abweichung zum 10-Jahres-Report von 71,2% auf &lt; 0,5% reduziert</li>
</ul>
</li>
<li>
<p><strong>Vollst√§ndige Angleichung der Berechnungen:</strong></p>
<ul>
<li>Anzahl Jahre korrigiert: von 10 auf 11 Jahre (Bezugsjahr + 10 Projektionsjahre)</li>
<li>Marktpreise angeglichen: SRL/SRE-Marktteilnahme auf 50% gesetzt (wie im 10-Jahres-Report)</li>
<li>Day-Ahead und Balancing Energy Erl√∂se entfernt (nicht im 10-Jahres-Report enthalten)</li>
<li>Intraday-Berechnung: Efficiency und Marktteilnahme-Raten entfernt f√ºr Konsistenz</li>
<li>Degradationsanwendung: Identisch mit 10-Jahres-Report (2% pro Jahr)</li>
</ul>
</li>
</ul>
<h4 id="%E2%9C%85-verbesserungen">‚úÖ Verbesserungen</h4>
<ul>
<li><strong>Berechnungsgenauigkeit:</strong> Use Case Vergleich stimmt jetzt vollst√§ndig mit 10-Jahres-Report √ºberein</li>
<li><strong>Dokumentation:</strong> README.md und BESS_SIMULATION_DOKUMENTATION.md aktualisiert</li>
</ul>
<h3 id="version-15-august-2025">Version 1.5 (August 2025)</h3>
<h4 id="%E2%9C%85-neue-features">‚úÖ Neue Features</h4>
<ul>
<li><strong>BESS-Simulation:</strong> 10-Jahres-Wirtschaftlichkeitsanalysen</li>
<li><strong>Use Cases:</strong> UC1-UC4 mit spezifischen Parametern</li>
<li><strong>Datenimport:</strong> Spot-Preise und Lastprofile</li>
<li><strong>Export-Funktionen:</strong> PDF und Excel-Export</li>
</ul>
<h4 id="%F0%9F%94%A7-verbesserungen">üîß Verbesserungen</h4>
<ul>
<li><strong>UI/UX:</strong> Tailwind CSS Integration</li>
<li><strong>Performance:</strong> Datenbank-Optimierungen</li>
<li><strong>Dokumentation:</strong> Erweiterte Benutzerhandb√ºcher</li>
</ul>
<h3 id="version-10-juli-2025">Version 1.0 (Juli 2025)</h3>
<h4 id="%E2%9C%85-initial-release">‚úÖ Initial Release</h4>
<ul>
<li><strong>Grundfunktionen:</strong> Projekt-Management</li>
<li><strong>Basis-Simulation:</strong> Einfache BESS-Berechnungen</li>
<li><strong>Web-Interface:</strong> HTML/CSS/JavaScript</li>
<li><strong>Datenbank:</strong> SQLite-Integration</li>
</ul>
<hr>
<h2 id="%F0%9F%93%9E-support--kontakt">üìû Support &amp; Kontakt</h2>
<h3 id="technischer-support">Technischer Support</h3>
<ul>
<li><strong>GitHub Issues:</strong> https://github.com/HSchlagi/bess-simulation/issues</li>
<li><strong>E-Mail:</strong> office@instanet.at</li>
<li><strong>Dokumentation:</strong> Diese Datei und README.md</li>
</ul>
<h3 id="community">Community</h3>
<ul>
<li><strong>GitHub Discussions:</strong> F√ºr Fragen und Diskussionen</li>
<li><strong>Wiki:</strong> Erweiterte Dokumentation und Tutorials</li>
<li><strong>Releases:</strong> https://github.com/HSchlagi/bess-simulation/releases</li>
</ul>
<h3 id="lizenz">Lizenz</h3>
<p><strong>MIT License</strong> - Siehe LICENSE-Datei f√ºr Details</p>
<hr>
<h2 id="%F0%9F%93%85-update-log-07-september-2025">üìÖ Update-Log: 07. September 2025</h2>
<h3 id="%F0%9F%94%94-benachrichtigungs-system-vollst%C3%A4ndig-implementiert">üîî Benachrichtigungs-System vollst√§ndig implementiert</h3>
<p><strong>Heute erreichte Meilensteine:</strong></p>
<h4 id="%E2%9C%85-benachrichtigungs-system-punkt-51-aus-verbesserungbessmd">‚úÖ <strong>Benachrichtigungs-System (Punkt 5.1 aus Verbesserung_BESS.md)</strong></h4>
<ul>
<li><strong>Vollst√§ndige Implementierung</strong> des umfassenden Benachrichtigungs-Systems</li>
<li><strong>Datenbank-Schema</strong> mit allen erforderlichen Tabellen erstellt</li>
<li><strong>Flask-Routes</strong> f√ºr Benachrichtigungs-Center und Einstellungen implementiert</li>
<li><strong>Frontend-Templates</strong> mit Header/Footer-Integration</li>
<li><strong>WebSocket-Support</strong> f√ºr Real-time Benachrichtigungen</li>
<li><strong>E-Mail-Service</strong> mit SMTP-Integration und HTML-Templates</li>
</ul>
<h4 id="%F0%9F%8E%AF-navigation--benutzerfreundlichkeit">üéØ <strong>Navigation &amp; Benutzerfreundlichkeit</strong></h4>
<ul>
<li><strong>Benachrichtigungen im Men√º</strong> - Sauber in Benutzer-Dropdown integriert</li>
<li><strong>Desktop &amp; Mobile Navigation</strong> - Einheitliche Benutzerf√ºhrung</li>
<li><strong>Header/Footer</strong> - Alle Benachrichtigungs-Seiten mit vollst√§ndiger Navigation</li>
<li><strong>Badge-System</strong> - Rote Anzeige f√ºr ungelesene Benachrichtigungen</li>
</ul>
<h4 id="%F0%9F%93%A7-e-mail-benachrichtigungen">üìß <strong>E-Mail-Benachrichtigungen</strong></h4>
<ul>
<li><strong>Automatische E-Mail-Adresse</strong> - Wird aus Benutzer-Datenbank abgerufen</li>
<li><strong>SMTP-Konfiguration</strong> - Vollst√§ndig konfigurierbar √ºber Umgebungsvariablen</li>
<li><strong>HTML-Templates</strong> - Professionelle E-Mail-Designs</li>
<li><strong>Demo-Modus</strong> - Funktioniert auch ohne SMTP-Konfiguration</li>
<li><strong>Test-Funktionalit√§t</strong> - API-Endpoint zum Testen von E-Mail-Benachrichtigungen</li>
</ul>
<h4 id="%F0%9F%94%A7-technische-verbesserungen">üîß <strong>Technische Verbesserungen</strong></h4>
<ul>
<li><strong>Datenbank-Korrekturen</strong> - <code>user</code>-Tabelle statt <code>users</code> verwendet</li>
<li><strong>Fehlerbehebung</strong> - 404-Fehler bei Benachrichtigungs-Routen behoben</li>
<li><strong>Code-Optimierung</strong> - Saubere Trennung von API und HTML-Routes</li>
<li><strong>Git-Integration</strong> - Alle √Ñnderungen auf GitHub gesichert</li>
</ul>
<h4 id="%F0%9F%93%B1-benachrichtigungs-features">üì± <strong>Benachrichtigungs-Features</strong></h4>
<ul>
<li><strong>In-App Benachrichtigungen</strong> - Toast-Nachrichten mit Alpine.js</li>
<li><strong>Push-Benachrichtigungen</strong> - Service Worker f√ºr Offline-Support</li>
<li><strong>Benachrichtigungs-Center</strong> - √úbersichtliche Verwaltung aller Nachrichten</li>
<li><strong>Einstellungen</strong> - Konfigurierbare Benachrichtigungs-Pr√§ferenzen</li>
<li><strong>Real-time Updates</strong> - WebSocket-basierte Live-Updates</li>
</ul>
<h4 id="%F0%9F%8E%A8-uiux-verbesserungen">üé® <strong>UI/UX Verbesserungen</strong></h4>
<ul>
<li><strong>Responsive Design</strong> - Optimiert f√ºr Desktop und Mobile</li>
<li><strong>Einheitliches Design</strong> - Alle Seiten verwenden base.html Template</li>
<li><strong>Intuitive Navigation</strong> - Benachrichtigungen logisch im Benutzer-Bereich</li>
<li><strong>Visuelle Feedback</strong> - Loading-States und Erfolgs-Meldungen</li>
</ul>
<h3 id="%F0%9F%9A%80-n%C3%A4chste-schritte">üöÄ <strong>N√§chste Schritte</strong></h3>
<ul>
<li><strong>SMTP-Konfiguration</strong> f√ºr Produktions-E-Mails</li>
<li><strong>Push-Benachrichtigungen</strong> f√ºr mobile Ger√§te aktivieren</li>
<li><strong>Benachrichtigungs-Templates</strong> f√ºr verschiedene Ereignisse erweitern</li>
<li><strong>Integration</strong> in bestehende BESS-Simulation-Workflows</li>
</ul>
<h3 id="%F0%9F%93%8A-technische-details">üìä <strong>Technische Details</strong></h3>
<ul>
<li><strong>Datenbank-Tabellen:</strong> notifications, notification_settings, notification_templates, push_subscriptions</li>
<li><strong>API-Endpoints:</strong> /notifications/, /notifications/settings, /notifications/api/*</li>
<li><strong>WebSocket-Events:</strong> join_notifications, leave_notifications, request_notifications</li>
<li><strong>E-Mail-Service:</strong> Vollst√§ndig konfigurierbar mit SMTP-Support</li>
</ul>
<hr>
<h2 id="%F0%9F%93%8B-update-log-07-september-2025---benachrichtigungs-system-finalisierung">üìã Update-Log: 07. September 2025 - Benachrichtigungs-System Finalisierung</h2>
<h3 id="%E2%9C%85-benachrichtigungs-system-vollst%C3%A4ndig-implementiert-und-getestet">‚úÖ <strong>Benachrichtigungs-System vollst√§ndig implementiert und getestet</strong></h3>
<p><strong>üîß Technische Verbesserungen:</strong></p>
<ul>
<li><strong>CSP-Fehler behoben:</strong> Socket.IO Script von <code>cdn.socket.io</code> zu <code>cdnjs.cloudflare.com</code> ge√§ndert</li>
<li><strong>Datenbank-Migration:</strong> Alle Benachrichtigungs-Tabellen erfolgreich erstellt</li>
<li><strong>API-Routen korrigiert:</strong> <code>is_read</code> ‚Üí <code>read</code> Spalte in Datenbankabfragen</li>
<li><strong>Test-Benachrichtigungen:</strong> System erfolgreich getestet und funktionsf√§hig</li>
</ul>
<p><strong>üéØ Funktionalit√§ten best√§tigt:</strong></p>
<ul>
<li><strong>Benachrichtigungs-Center:</strong> Vollst√§ndig funktionsf√§hig mit Header/Footer</li>
<li><strong>Navigation:</strong> Benachrichtigungen korrekt im Benutzer-Dropdown integriert</li>
<li><strong>E-Mail-Konfiguration:</strong> SMTP-Einstellungen √ºber Umgebungsvariablen konfigurierbar</li>
<li><strong>WebSocket-Verbindung:</strong> Real-time Benachrichtigungen funktionieren</li>
<li><strong>Service Worker:</strong> Push-Benachrichtigungen registriert</li>
</ul>
<p><strong>üìä System-Status:</strong></p>
<ul>
<li><strong>Benachrichtigungs-Tabellen:</strong> 3 Tabellen erstellt (notifications, notification_settings, notification_templates)</li>
<li><strong>Standard-Templates:</strong> 3 Templates f√ºr verschiedene Benachrichtigungstypen</li>
<li><strong>Performance-Indizes:</strong> 7 Indizes f√ºr optimale Datenbankleistung</li>
<li><strong>Test-Benachrichtigungen:</strong> Erfolgreich erstellt und angezeigt</li>
</ul>
<p><strong>üîç Qualit√§tssicherung:</strong></p>
<ul>
<li><strong>Browser-Kompatibilit√§t:</strong> CSP-Konflikte behoben</li>
<li><strong>Datenbank-Integrit√§t:</strong> Tabellenstruktur korrekt implementiert</li>
<li><strong>Frontend-Backend-Sync:</strong> API-Antworten korrekt formatiert</li>
<li><strong>User Experience:</strong> Benachrichtigungen werden korrekt geladen und angezeigt</li>
</ul>
<p><strong>üìà N√§chste Schritte verf√ºgbar:</strong></p>
<ul>
<li>E-Mail-Benachrichtigungen aktivieren (SMTP konfigurieren)</li>
<li>Push-Benachrichtigungen f√ºr mobile Ger√§te</li>
<li>Benachrichtigungs-Templates anpassen</li>
<li>Weitere Punkte aus Verbesserung_BESS.md</li>
</ul>
<hr>
<h2 id="%F0%9F%8C%B1-co%E2%82%82-tracking--nachhaltigkeits-dashboard-punkt-53">üå± CO‚ÇÇ-Tracking &amp; Nachhaltigkeits-Dashboard (Punkt 5.3)</h2>
<p><strong>Status:</strong> ‚úÖ <strong>VOLLST√ÑNDIG IMPLEMENTIERT</strong> (Januar 2025)</p>
<h3 id="%F0%9F%93%8A-implementierte-features">üìä Implementierte Features</h3>
<p><strong>Dashboard-Funktionalit√§t:</strong></p>
<ul>
<li><strong>Projekt-basierte CO‚ÇÇ-Analyse</strong> ‚Üí Manuelle Projekt-Auswahl ohne Voreinstellung</li>
<li><strong>Nachhaltigkeits-KPIs</strong> ‚Üí CO‚ÇÇ-Einsparungen, Erneuerbare Energie, Energieeffizienz, Kosteneinsparungen</li>
<li><strong>ESG-Score-System</strong> ‚Üí Environmental, Social, Governance mit animierten Fortschrittsbalken</li>
<li><strong>Interaktive Charts</strong> ‚Üí CO‚ÇÇ-Bilanz-Verlauf und Erneuerbare Energie-Anteil</li>
<li><strong>Responsive Design</strong> ‚Üí Funktioniert auf Desktop und Mobile</li>
</ul>
<p><strong>Report-System:</strong></p>
<ul>
<li><strong>Modal-basierte Reports</strong> ‚Üí Monatlich, Quartals-, Jahresberichte</li>
<li><strong>PDF-Export-Funktionalit√§t</strong> ‚Üí Druckbare Nachhaltigkeits-Reports</li>
<li><strong>Daten-Integration</strong> ‚Üí Verwendet echte Dashboard-Daten f√ºr Reports</li>
<li><strong>Professionelles Layout</strong> ‚Üí Strukturierte Report-Generierung</li>
</ul>
<p><strong>Technische Implementierung:</strong></p>
<ul>
<li><strong>Frontend:</strong> HTML5, CSS3 (Tailwind), JavaScript (ES6+), Chart.js</li>
<li><strong>Backend:</strong> Flask Blueprint (<code>co2_routes.py</code>), SQLAlchemy Models</li>
<li><strong>Datenbank:</strong> CO‚ÇÇ-Balance, ESG-Reports, Nachhaltigkeits-Metriken</li>
<li><strong>API-Endpoints:</strong> Projekt-Auswahl, Dashboard-Daten, Report-Generierung</li>
</ul>
<h3 id="%F0%9F%8E%AF-benutzerfreundlichkeit">üéØ Benutzerfreundlichkeit</h3>
<p><strong>Dashboard-Verhalten:</strong></p>
<ul>
<li><strong>Startet leer</strong> ‚Üí Keine automatische Projekt-Auswahl</li>
<li><strong>Manuelle Auswahl</strong> ‚Üí Daten laden erst nach Projekt-Auswahl</li>
<li><strong>Sofortige Aktualisierung</strong> ‚Üí Charts und KPIs aktualisieren sich automatisch</li>
<li><strong>Intuitive Bedienung</strong> ‚Üí Klare Benutzerf√ºhrung</li>
</ul>
<p><strong>Report-Funktionalit√§t:</strong></p>
<ul>
<li><strong>Ein-Klick-Reports</strong> ‚Üí Buttons f√ºr verschiedene Report-Typen</li>
<li><strong>Vorschau-Modal</strong> ‚Üí Report-Inhalt vor PDF-Export anzeigen</li>
<li><strong>Druck-Optimierung</strong> ‚Üí Browser-Druckdialog mit optimiertem Layout</li>
<li><strong>Fehlerbehandlung</strong> ‚Üí Elegante Fehlermeldungen bei Problemen</li>
</ul>
<h3 id="%F0%9F%93%88-nachhaltigkeits-metriken">üìà Nachhaltigkeits-Metriken</h3>
<p><strong>CO‚ÇÇ-Tracking:</strong></p>
<ul>
<li><strong>CO‚ÇÇ-Einsparungen</strong> ‚Üí Kilogramm pro Zeitraum</li>
<li><strong>CO‚ÇÇ-Emissionen</strong> ‚Üí Tracking der Gesamtemissionen</li>
<li><strong>Erneuerbare Energie-Anteil</strong> ‚Üí Prozentuale Verteilung</li>
<li><strong>Energieeffizienz</strong> ‚Üí Performance-Metriken</li>
</ul>
<p><strong>ESG-Scoring:</strong></p>
<ul>
<li><strong>Environmental Score</strong> ‚Üí Umweltauswirkungen</li>
<li><strong>Social Score</strong> ‚Üí Soziale Verantwortung</li>
<li><strong>Governance Score</strong> ‚Üí Unternehmensf√ºhrung</li>
<li><strong>Overall ESG Score</strong> ‚Üí Gesamtbewertung</li>
</ul>
<h3 id="%F0%9F%9A%80-live-bess-integration">üöÄ Live BESS Integration</h3>
<p><strong>Real-time Monitoring:</strong></p>
<ul>
<li><strong>Echtzeit-Dashboard</strong> ‚Üí Live-Monitoring von BESS-Speichersystemen</li>
<li><strong>MQTT-Bridge</strong> ‚Üí Direkte Verbindung zu BESS-Speichern √ºber MQTT-Protokoll</li>
<li><strong>FastAPI-Service</strong> ‚Üí RESTful API f√ºr Datenverarbeitung und -speicherung</li>
<li><strong>WebSocket-Updates</strong> ‚Üí Real-time Daten√ºbertragung ohne Polling</li>
<li><strong>Interaktive Charts</strong> ‚Üí SOC, Leistung, Spannung, Temperatur in Echtzeit</li>
<li><strong>Alarm-Management</strong> ‚Üí Automatische √úberwachung kritischer Parameter</li>
</ul>
<p><strong>Datenquellen:</strong></p>
<ul>
<li><strong>MQTT-Integration</strong> ‚Üí Priorit√§re Datenquelle f√ºr Live-Systeme</li>
<li><strong>FastAPI-Fallback</strong> ‚Üí Robuste Fallback-Mechanismen</li>
<li><strong>SQLite-Speicherung</strong> ‚Üí Lokale Datenspeicherung f√ºr Offline-Analyse</li>
<li><strong>Datenkonvertierung</strong> ‚Üí Nahtlose Integration verschiedener Formate</li>
</ul>
<p><strong>Dashboard-Features:</strong></p>
<ul>
<li><strong>Standard Dashboard</strong> ‚Üí Grundlegendes Live-Monitoring (<code>/live-data</code>)</li>
<li><strong>Advanced Dashboard</strong> ‚Üí Erweiterte Features mit Auto-Refresh (<code>/live-data/advanced</code>)</li>
<li><strong>System-Status</strong> ‚Üí Verbindungsmonitoring (MQTT + FastAPI)</li>
<li><strong>Ger√§te-Tabelle</strong> ‚Üí Live-Status aller BESS-Ger√§te</li>
<li><strong>Konfigurations-Interface</strong> ‚Üí Einfache Systemkonfiguration</li>
</ul>
<p><strong>Technische Implementierung:</strong></p>
<ul>
<li><strong>Frontend:</strong> HTML5, Tailwind CSS, Chart.js, Socket.IO</li>
<li><strong>Backend:</strong> Flask Blueprint, MQTT Client, FastAPI Integration</li>
<li><strong>Datenbank:</strong> SQLite mit optimierten Indizes f√ºr Live-Daten</li>
<li><strong>API-Endpoints:</strong> Status, Daten, Charts, Ger√§te-Info</li>
<li><strong>Konfiguration:</strong> Umgebungsvariablen f√ºr flexible Anpassung</li>
</ul>
<h3 id="%F0%9F%94%A7-technische-details">üîß Technische Details</h3>
<p><strong>Datenbank-Schema:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment">-- CO‚ÇÇ-Balance Tabelle</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> co2_balance (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">INTEGER</span> PRIMARY <span class="hljs-keyword">KEY</span>,
    project_id <span class="hljs-built_in">INTEGER</span>,
    <span class="hljs-built_in">date</span> <span class="hljs-built_in">DATE</span>,
    co2_saved <span class="hljs-built_in">REAL</span>,
    co2_emissions <span class="hljs-built_in">REAL</span>,
    renewable_share <span class="hljs-built_in">REAL</span>
);

<span class="hljs-comment">-- ESG-Reports Tabelle</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> esg_reports (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">INTEGER</span> PRIMARY <span class="hljs-keyword">KEY</span>,
    project_id <span class="hljs-built_in">INTEGER</span>,
    report_date <span class="hljs-built_in">DATE</span>,
    environmental_score <span class="hljs-built_in">INTEGER</span>,
    social_score <span class="hljs-built_in">INTEGER</span>,
    governance_score <span class="hljs-built_in">INTEGER</span>,
    overall_score <span class="hljs-built_in">INTEGER</span>
);
</div></code></pre>
<p><strong>API-Endpoints:</strong></p>
<ul>
<li><code>GET /co2/</code> ‚Üí Dashboard-Hauptseite</li>
<li><code>GET /co2/api/projects</code> ‚Üí Verf√ºgbare Projekte</li>
<li><code>GET /co2/api/dashboard/&lt;project_id&gt;</code> ‚Üí Dashboard-Daten</li>
<li><code>POST /co2/api/reports</code> ‚Üí Report-Generierung</li>
</ul>
<h3 id="%F0%9F%8E%A8-frontend-features">üé® Frontend-Features</h3>
<p><strong>Chart-Integration:</strong></p>
<ul>
<li><strong>Chart.js</strong> ‚Üí Professionelle Datenvisualisierung</li>
<li><strong>Responsive Charts</strong> ‚Üí Automatische Anpassung an Bildschirmgr√∂√üe</li>
<li><strong>Interaktive Legenden</strong> ‚Üí Ein-/Ausblenden von Datenreihen</li>
<li><strong>Animierte √úberg√§nge</strong> ‚Üí Smooth Chart-Updates</li>
</ul>
<p><strong>Modal-System:</strong></p>
<ul>
<li><strong>Overlay-Design</strong> ‚Üí Professionelle Modal-Darstellung</li>
<li><strong>Responsive Layout</strong> ‚Üí Funktioniert auf allen Ger√§ten</li>
<li><strong>Keyboard-Navigation</strong> ‚Üí ESC-Taste zum Schlie√üen</li>
<li><strong>Click-Outside-Close</strong> ‚Üí Benutzerfreundliche Bedienung</li>
</ul>
<h3 id="%E2%9C%85-qualit%C3%A4tssicherung">‚úÖ Qualit√§tssicherung</h3>
<p><strong>Fehlerbehandlung:</strong></p>
<ul>
<li><strong>JavaScript Error-Handling</strong> ‚Üí Try-Catch-Bl√∂cke f√ºr robuste Funktionalit√§t</li>
<li><strong>Element-Validierung</strong> ‚Üí √úberpr√ºfung auf vorhandene DOM-Elemente</li>
<li><strong>API-Fehlerbehandlung</strong> ‚Üí Graceful Degradation bei API-Problemen</li>
<li><strong>Benutzer-Feedback</strong> ‚Üí Klare Fehlermeldungen</li>
</ul>
<p><strong>Code-Qualit√§t:</strong></p>
<ul>
<li><strong>Sauberer JavaScript-Code</strong> ‚Üí Modulare Funktionen</li>
<li><strong>Konsistente Namenskonventionen</strong> ‚Üí Verst√§ndliche Variablennamen</li>
<li><strong>Dokumentierte Funktionen</strong> ‚Üí Kommentierte Code-Bereiche</li>
<li><strong>Performance-Optimierung</strong> ‚Üí Effiziente DOM-Manipulation</li>
</ul>
<h3 id="%F0%9F%9A%80-deployment-status">üöÄ Deployment-Status</h3>
<p><strong>Lokale Entwicklung:</strong></p>
<ul>
<li>‚úÖ Dashboard vollst√§ndig funktional</li>
<li>‚úÖ Report-System implementiert</li>
<li>‚úÖ PDF-Export funktioniert</li>
<li>‚úÖ Responsive Design getestet</li>
</ul>
<p><strong>Hetzner-Server:</strong></p>
<ul>
<li>‚úÖ Code auf GitHub verf√ºgbar</li>
<li>‚úÖ Datenbank-Migration bereit</li>
<li>‚úÖ Deployment-Skripte vorhanden</li>
<li>üîÑ Server-Update erforderlich</li>
</ul>
<h3 id="%F0%9F%93%8B-n%C3%A4chste-schritte">üìã N√§chste Schritte</h3>
<p><strong>Kurzfristig:</strong></p>
<ul>
<li>Hetzner-Server mit CO‚ÇÇ-Dashboard aktualisieren</li>
<li>Demo-Daten f√ºr alle Projekte generieren</li>
<li>Performance-Tests durchf√ºhren</li>
</ul>
<p><strong>Mittelfristig:</strong></p>
<ul>
<li>Echte CO‚ÇÇ-Daten-Integration</li>
<li>Erweiterte ESG-Metriken</li>
<li>Automatisierte Report-Generierung</li>
</ul>
<p><strong>Langfristig:</strong></p>
<ul>
<li>Integration mit externen Nachhaltigkeits-APIs</li>
<li>CO‚ÇÇ-Zertifikate-Integration</li>
<li>Nachhaltigkeits-Benchmarking</li>
</ul>
<hr>
<h2 id="5-advanced-dispatch--grid-services">5. Advanced Dispatch &amp; Grid Services</h2>
<h3 id="51-%C3%BCbersicht">5.1 √úbersicht</h3>
<p>Das <strong>Advanced Dispatch &amp; Grid Services</strong> System erweitert die BESS-Simulation um professionelle Optimierungsalgorithmen und Grid-Services f√ºr den √∂sterreichischen Energiemarkt.</p>
<p><strong>Hauptfunktionen:</strong></p>
<ul>
<li>Multi-Markt-Arbitrage (Spot, Intraday, Regelreserve)</li>
<li>Grid-Services (Frequenzregelung, Spannungshaltung)</li>
<li>Virtuelles Kraftwerk Integration</li>
<li>Demand Response Management</li>
<li>Grid Code Compliance</li>
<li>Advanced Optimization Algorithms (MILP/SDP)</li>
</ul>
<h3 id="52-multi-markt-arbitrage">5.2 Multi-Markt-Arbitrage</h3>
<p><strong>Spot-Markt Arbitrage:</strong></p>
<ul>
<li>Automatische Erkennung von Preisunterschieden</li>
<li>Optimale Lade-/Entladezeiten basierend auf Spotpreisen</li>
<li>Integration mit APG und aWATTar Daten</li>
</ul>
<p><strong>Intraday-Markt:</strong></p>
<ul>
<li>Kurzfristige Handelsm√∂glichkeiten</li>
<li>5‚Ç¨/MWh Bonus f√ºr Intraday-Teilnahme</li>
<li>Real-time Preisverfolgung</li>
</ul>
<p><strong>Regelreserve:</strong></p>
<ul>
<li>FCR (Frequency Containment Reserve)</li>
<li>aFRR (automatic Frequency Restoration Reserve)</li>
<li>2‚Ç¨/MW/h Bonus f√ºr Reservebereitstellung</li>
</ul>
<h3 id="53-grid-services">5.3 Grid Services</h3>
<p><strong>Frequenzregelung:</strong></p>
<ul>
<li>Standard: 15‚Ç¨/MW/h</li>
<li>Advanced: 25‚Ç¨/MW/h</li>
<li>Automatische Frequenzstabilisierung</li>
</ul>
<p><strong>Spannungsunterst√ºtzung:</strong></p>
<ul>
<li>Standard: 8‚Ç¨/MW/h</li>
<li>Advanced: 12‚Ç¨/MW/h</li>
<li>Blindleistungsbereitstellung</li>
</ul>
<p><strong>Black Start Capability:</strong></p>
<ul>
<li>Advanced: 5‚Ç¨/MW/h</li>
<li>Netzaufbau nach Blackout</li>
<li>Kritische Infrastruktur-Unterst√ºtzung</li>
</ul>
<h3 id="54-virtuelles-kraftwerk-vpp">5.4 Virtuelles Kraftwerk (VPP)</h3>
<p><strong>Portfolio-Management:</strong></p>
<ul>
<li>Aggregation mehrerer BESS-Anlagen</li>
<li>Zentrale Steuerung und Optimierung</li>
<li>Skalierbare Architektur</li>
</ul>
<p><strong>Marktteilnahme:</strong></p>
<ul>
<li>Pooling f√ºr gr√∂√üere Marktvolumina</li>
<li>Risikostreuung √ºber mehrere Standorte</li>
<li>Optimierte Erl√∂smaximierung</li>
</ul>
<h3 id="55-demand-response-management">5.5 Demand Response Management</h3>
<p><strong>Automatisierte Events:</strong></p>
<ul>
<li>Standard: 20‚Ç¨/MW/h</li>
<li>Advanced: 35‚Ç¨/MW/h</li>
<li>Real-time Laststeuerung</li>
</ul>
<p><strong>Event-Management:</strong></p>
<ul>
<li>Automatische Erkennung von DR-Signalen</li>
<li>Intelligente Lastreduktion</li>
<li>Verg√ºtungsoptimierung</li>
</ul>
<h3 id="56-grid-code-compliance">5.6 Grid Code Compliance</h3>
<p><strong>√ñsterreichische Netzanschlussbedingungen:</strong></p>
<ul>
<li>Frequenzbereich: 49.5-50.5 Hz</li>
<li>Spannungsbereich: ¬±10% Un</li>
<li>Blindleistungsbereich: ¬±0.4 Pn</li>
<li>Netzanschlusskapazit√§t: 100% Pn</li>
<li>Netzanschlussenergie: 100% En</li>
</ul>
<p><strong>Compliance-Monitoring:</strong></p>
<ul>
<li>Echtzeit√ºberwachung aller Parameter</li>
<li>Automatische Alarmierung bei Verletzungen</li>
<li>Compliance-Reporting</li>
</ul>
<h3 id="57-advanced-optimization-algorithms">5.7 Advanced Optimization Algorithms</h3>
<p><strong>Standard-Optimierung:</strong></p>
<ul>
<li>Einfache Arbitrage-Algorithmen</li>
<li>Lineare Optimierung</li>
<li>Schnelle Berechnung (&lt; 1 Sekunde)</li>
</ul>
<p><strong>Advanced-Optimierung:</strong></p>
<ul>
<li>Mixed Integer Linear Programming (MILP)</li>
<li>Stochastic Dynamic Programming (SDP)</li>
<li>Multi-Objective Optimization</li>
<li>Erweiterte Berechnung (1-5 Sekunden)</li>
</ul>
<h3 id="58-progressive-web-app-pwa-features">5.8 Progressive Web App (PWA) Features</h3>
<p><strong>Vollst√§ndige PWA-Implementierung f√ºr mobile und Desktop-Nutzung:</strong></p>
<h4 id="581-pwa-manifest">5.8.1 PWA Manifest</h4>
<ul>
<li><strong>App-Konfiguration:</strong> Vollst√§ndige PWA-Konfiguration mit Icons und Shortcuts</li>
<li><strong>Icon-Set:</strong> 8 verschiedene Gr√∂√üen (72x72 bis 512x512)</li>
<li><strong>App-Shortcuts:</strong> Schnellzugriff auf Advanced Dispatch, CO‚ÇÇ-Tracking, Simulation</li>
<li><strong>Screenshots:</strong> Desktop und Mobile Screenshots f√ºr App-Store</li>
<li><strong>Edge Side Panel:</strong> Support f√ºr Microsoft Edge</li>
</ul>
<h4 id="582-service-worker">5.8.2 Service Worker</h4>
<ul>
<li><strong>Offline-Funktionalit√§t:</strong> Vollst√§ndige Simulationen ohne Internetverbindung</li>
<li><strong>Intelligentes Caching:</strong> Cache-First/Network-First Strategien</li>
<li><strong>Background Sync:</strong> Automatische Synchronisation im Hintergrund</li>
<li><strong>Push-Notifications:</strong> Native Benachrichtigungen mit Action-Buttons</li>
<li><strong>Offline-Fallback:</strong> Elegante Offline-Seite mit Funktionalit√§t</li>
</ul>
<h4 id="583-native-device-features">5.8.3 Native Device Features</h4>
<ul>
<li><strong>Camera-Integration:</strong> Foto-Aufnahme f√ºr BESS-Dokumentation</li>
<li><strong>GPS-Lokalisierung:</strong> Standort-basierte Features f√ºr BESS-Standorte</li>
<li><strong>Biometric-Auth:</strong> Fingerabdruck/Gesichtserkennung f√ºr sichere Anmeldung</li>
<li><strong>Push-Notifications:</strong> Native Benachrichtigungen auf mobilen Ger√§ten</li>
</ul>
<h4 id="584-pwa-dashboard">5.8.4 PWA Dashboard</h4>
<ul>
<li><strong>Status-Monitoring:</strong> Service Worker, Push-Notifications, Offline-Modus</li>
<li><strong>Cache-Management:</strong> 3-Tier Cache-System (Static, Dynamic, API)</li>
<li><strong>Feature-Tests:</strong> Camera, GPS, Biometric-Auth Buttons</li>
<li><strong>Install-Prompt:</strong> Intelligente App-Installation</li>
</ul>
<h4 id="585-offline-funktionalit%C3%A4t">5.8.5 Offline-Funktionalit√§t</h4>
<ul>
<li><strong>Offline-Simulationen:</strong> Vollst√§ndige BESS-Simulationen ohne Internet</li>
<li><strong>Demo-Marktdaten:</strong> Intelligente Offline-Daten-Generierung</li>
<li><strong>Cache-Status:</strong> Echtzeit√ºberwachung der Cache-Gr√∂√üen</li>
<li><strong>Retry-Mechanismus:</strong> Automatische Verbindungswiederherstellung</li>
</ul>
<h4 id="586-pwa-api-endpoints">5.8.6 PWA API-Endpoints</h4>
<pre class="hljs"><code><div>GET /pwa/api/push-subscription     # Push-Notification Subscription
POST /pwa/api/upload-photo         # Foto-Upload f√ºr Dokumentation
GET /pwa/api/offline-data          # Offline-Daten bereitstellen
POST /pwa/api/background-sync      # Background Sync ausl√∂sen
GET /pwa/api/pwa-status            # PWA-Status abfragen
POST /pwa/api/geolocation          # Geolocation-Daten speichern
POST /pwa/api/biometric-auth       # Biometric Authentication
GET /pwa/api/cache-status          # Cache-Status abfragen
POST /pwa/api/clear-cache          # Cache leeren
</div></code></pre>
<h4 id="587-pwa-installation">5.8.7 PWA-Installation</h4>
<ul>
<li><strong>Desktop:</strong> Chrome/Edge &quot;Installieren&quot; Button, Firefox Adressleiste</li>
<li><strong>Mobile:</strong> &quot;Zur Startseite hinzuf√ºgen&quot; Funktionalit√§t</li>
<li><strong>App-Icon:</strong> Erscheint auf Homescreen/Desktop</li>
<li><strong>Native App-Erfahrung:</strong> Vollbild-Modus ohne Browser-UI</li>
</ul>
<h4 id="588-cache-management">5.8.8 Cache-Management</h4>
<ul>
<li><strong>Static Cache:</strong> 2.5 MB (HTML, CSS, JS, Icons)</li>
<li><strong>Dynamic Cache:</strong> 1.2 MB (API-Responses, Marktdaten)</li>
<li><strong>API Cache:</strong> 0.8 MB (Projektdaten, Simulationen)</li>
<li><strong>Intelligente Strategien:</strong> Cache-First f√ºr statische Assets, Network-First f√ºr dynamische Daten</li>
</ul>
<h4 id="589-live-verf%C3%BCgbar-unter">5.8.9 Live verf√ºgbar unter:</h4>
<ul>
<li><strong>PWA Dashboard:</strong> <code>/pwa/</code></li>
<li><strong>PWA API:</strong> <code>/pwa/api/*</code></li>
<li><strong>Offline-Seite:</strong> <code>/static/offline.html</code></li>
<li><strong>Service Worker:</strong> <code>/static/sw.js</code></li>
<li><strong>PWA Manifest:</strong> <code>/static/manifest.json</code></li>
</ul>
<h3 id="5810-live-bess-integration-konfiguration">5.8.10 Live BESS Integration Konfiguration</h3>
<p><strong>Umgebungsvariablen:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># FastAPI Service Konfiguration</span>
LIVE_BESS_API_URL=http://localhost:8080
LIVE_BESS_API_TOKEN=changeme_token_123

<span class="hljs-comment"># MQTT Bridge Konfiguration</span>
USE_MQTT_BRIDGE=<span class="hljs-literal">false</span>
MQTT_BROKER_HOST=localhost
MQTT_BROKER_PORT=1883
MQTT_USERNAME=bessuser
MQTT_PASSWORD=besspass
MQTT_BASE_TOPIC=bess

<span class="hljs-comment"># Datenbank Konfiguration</span>
LIVE_BESS_DB_PATH=live/data/bess.db
</div></code></pre>
<p><strong>Installation:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># MQTT-Abh√§ngigkeiten installieren</span>
pip install paho-mqtt

<span class="hljs-comment"># Live-System starten</span>
<span class="hljs-built_in">cd</span> live
docker-compose up -d

<span class="hljs-comment"># MQTT-Integration aktivieren</span>
<span class="hljs-built_in">export</span> USE_MQTT_BRIDGE=<span class="hljs-literal">true</span>
</div></code></pre>
<p><strong>Verf√ºgbare Endpoints:</strong></p>
<ul>
<li><strong>Standard Dashboard:</strong> <code>/live-data</code></li>
<li><strong>Advanced Dashboard:</strong> <code>/live-data/advanced</code></li>
<li><strong>API Status:</strong> <code>/api/live-data/status</code></li>
<li><strong>Live Daten:</strong> <code>/api/live-data/latest</code></li>
<li><strong>Chart Daten:</strong> <code>/api/live-data/chart</code></li>
<li><strong>Ger√§te-Info:</strong> <code>/api/live-data/summary</code></li>
</ul>
<p><strong>MQTT Topic Structure:</strong></p>
<pre class="hljs"><code><div>bess/{site}/{device}/telemetry
</div></code></pre>
<p><strong>Datenformat:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"ts"</span>: <span class="hljs-string">"2025-01-01T00:00:00Z"</span>,
  <span class="hljs-attr">"site"</span>: <span class="hljs-string">"site1"</span>,
  <span class="hljs-attr">"device"</span>: <span class="hljs-string">"bess1"</span>,
  <span class="hljs-attr">"soc"</span>: <span class="hljs-number">57.1</span>,
  <span class="hljs-attr">"p"</span>: <span class="hljs-number">-120.0</span>,
  <span class="hljs-attr">"p_ch"</span>: <span class="hljs-number">0.0</span>,
  <span class="hljs-attr">"p_dis"</span>: <span class="hljs-number">120.0</span>,
  <span class="hljs-attr">"v_dc"</span>: <span class="hljs-number">780.5</span>,
  <span class="hljs-attr">"i_dc"</span>: <span class="hljs-number">160.2</span>,
  <span class="hljs-attr">"t_cell_max"</span>: <span class="hljs-number">31.5</span>,
  <span class="hljs-attr">"soh"</span>: <span class="hljs-number">98.6</span>,
  <span class="hljs-attr">"alarms"</span>: []
}
</div></code></pre>
<h3 id="59-api-endpoints">5.9 API-Endpoints</h3>
<p><strong>Optimierungs-API:</strong></p>
<pre class="hljs"><code><div>POST /advanced-dispatch/api/optimize
{
  &quot;project_id&quot;: 1,
  &quot;current_soc_pct&quot;: 50,
  &quot;type&quot;: &quot;standard&quot; | &quot;advanced&quot;
}
</div></code></pre>
<p><strong>Marktdaten-API:</strong></p>
<pre class="hljs"><code><div>GET /advanced-dispatch/api/market-data
</div></code></pre>
<p><strong>Projekt-API:</strong></p>
<pre class="hljs"><code><div>GET /advanced-dispatch/api/projects
</div></code></pre>
<h3 id="59-optimierungsergebnisse">5.9 Optimierungsergebnisse</h3>
<p><strong>Standard-Optimierung (BESS Hinterstoder, 2 MW / 8 MWh, 50% SOC):</strong></p>
<ul>
<li>Arbitrage-Erl√∂s: 208.12 ‚Ç¨</li>
<li>Grid Services: 46.00 ‚Ç¨</li>
<li>Demand Response: 40.00 ‚Ç¨</li>
<li><strong>Gesamterl√∂s: 294.12 ‚Ç¨</strong></li>
</ul>
<p><strong>Advanced-Optimierung (gleiche Parameter):</strong></p>
<ul>
<li>Arbitrage-Erl√∂s: 301.49 ‚Ç¨</li>
<li>Grid Services: 84.00 ‚Ç¨</li>
<li>Demand Response: 70.00 ‚Ç¨</li>
<li><strong>Gesamterl√∂s: 455.49 ‚Ç¨</strong></li>
</ul>
<h3 id="510-frontend-features">5.10 Frontend-Features</h3>
<p><strong>Dashboard:</strong></p>
<ul>
<li>Projektauswahl mit echten BESS-Parametern</li>
<li>SOC-Slider f√ºr aktuelle Ladezust√§nde</li>
<li>Real-time Marktdaten-Anzeige</li>
<li>Optimierungsergebnisse mit Charts</li>
</ul>
<p><strong>Benutzerfreundlichkeit:</strong></p>
<ul>
<li>Button-Status mit Spinner w√§hrend Optimierung</li>
<li>Benachrichtigungssystem f√ºr Erfolg/Fehler</li>
<li>Responsive Design mit Tailwind CSS</li>
<li>Intuitive Bedienung</li>
</ul>
<h3 id="511-technische-implementierung">5.11 Technische Implementierung</h3>
<p><strong>Backend:</strong></p>
<ul>
<li>Flask Blueprint: <code>advanced_dispatch_bp</code></li>
<li>SQLite-Integration f√ºr Projektdaten</li>
<li>CSRF-Schutz f√ºr API-Endpoints deaktiviert</li>
<li>Fehlerbehandlung und Logging</li>
</ul>
<p><strong>Frontend:</strong></p>
<ul>
<li>JavaScript mit async/await</li>
<li>Chart.js f√ºr Datenvisualisierung</li>
<li>Tailwind CSS f√ºr Styling</li>
<li>Font Awesome Icons</li>
</ul>
<p><strong>Datenbank:</strong></p>
<ul>
<li>Projekte mit korrekten BESS-Parametern</li>
<li>Spotpreise und Marktdaten</li>
<li>Optimierungshistorie</li>
<li>Compliance-Logs</li>
</ul>
<h3 id="512-sicherheit--backup">5.12 Sicherheit &amp; Backup</h3>
<p><strong>Git-Repository:</strong></p>
<ul>
<li>Vollst√§ndige Versionskontrolle</li>
<li>Repository: https://github.com/HSchlagi/bess-simulation</li>
<li>Letzter Commit: &quot;Advanced Dispatch Optimierungs-Buttons funktionsf√§hig gemacht&quot;</li>
</ul>
<p><strong>Datenbank-Backup:</strong></p>
<ul>
<li>SQL-Dump: <code>bess_backup_2025-09-07_22-29-30.sql</code> (140.24 MB)</li>
<li>Komprimiert: <code>bess_backup_2025-09-07_22-29-30.sql.zip</code> (7.8 MB)</li>
<li>Automatische Backup-Erstellung</li>
</ul>
<h3 id="513-roadmap">5.13 Roadmap</h3>
<p><strong>Kurzfristig:</strong></p>
<ul>
<li>Erweiterte Optimierungsalgorithmen</li>
<li>Integration weiterer Marktdatenquellen</li>
<li>Performance-Optimierungen</li>
</ul>
<p><strong>Mittelfristig:</strong></p>
<ul>
<li>Machine Learning Integration</li>
<li>Predictive Analytics</li>
<li>Automatische Parameteranpassung</li>
</ul>
<p><strong>Langfristig:</strong></p>
<ul>
<li>Integration mit Blockchain-Technologie</li>
<li>Dezentrale Grid-Services</li>
<li>Internationale Marktteilnahme</li>
</ul>
<hr>
<hr>
<h2 id="%F0%9F%A7%A0-ki-gest%C3%BCtzte-predictive-analytics-neu-implementiert">üß† <strong>KI-GEST√úTZTE PREDICTIVE ANALYTICS (NEU IMPLEMENTIERT)</strong></h2>
<h3 id="%C3%BCbersicht"><strong>√úbersicht</strong></h3>
<p>Vollst√§ndige Implementierung aller KI-Features aus Punkt 6.1 der Verbesserung_BESS.md. Das System bietet jetzt revolution√§re BESS-Optimierung durch Machine Learning und Predictive Analytics.</p>
<h3 id="implementierte-features"><strong>Implementierte Features</strong></h3>
<h4 id="1-advanced-ml-dashboard"><strong>1. Advanced ML Dashboard</strong></h4>
<ul>
<li><strong>Route:</strong> <code>/advanced-ml-dashboard</code></li>
<li><strong>Template:</strong> <code>app/templates/advanced_ml_dashboard.html</code></li>
<li><strong>Features:</strong>
<ul>
<li>PV-Prognosen mit Wetter-Integration</li>
<li>Erweiterte Strompreis-Vorhersagen (LSTM, XGBoost)</li>
<li>Lastprognosen basierend auf historischen Daten</li>
<li>Saisonale Optimierungsalgorithmen</li>
<li>Anomalie-Erkennung f√ºr BESS-Systeme</li>
<li>Predictive Maintenance f√ºr Batterien</li>
<li>Real-time Optimierung basierend auf Prognosen</li>
</ul>
</li>
</ul>
<h4 id="2-ml-service-appmlservicepy"><strong>2. ML Service (<code>app/ml_service.py</code>)</strong></h4>
<p><strong>Neue Funktionen:</strong></p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">predict_load</span><span class="hljs-params">(self, model_type: str = <span class="hljs-string">'random_forest'</span>, hours_ahead: int = <span class="hljs-number">24</span>)</span> -&gt; Dict
def get_seasonal_optimization(self, season:</span> str = <span class="hljs-string">'current'</span>) -&gt; Dict
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_load_load_data</span><span class="hljs-params">(self)</span> -&gt; pd.DataFrame
def _generate_demo_load_data(self) -&gt; pd.DataFrame
def _create_load_prediction_features(self, load_data:</span> pd.DataFrame, hours_ahead: int) -&gt; pd.DataFrame
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_create_demo_load_model</span><span class="hljs-params">(self, model_type: str)</span>
<span class="hljs-title">def</span> <span class="hljs-title">_predict_load_arima</span><span class="hljs-params">(self, load_data: pd.DataFrame, hours_ahead: int)</span> -&gt; np.ndarray
def _calculate_seasonal_score(self, params:</span> Dict) -&gt; float
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_get_recommended_strategy</span><span class="hljs-params">(self, season: str)</span> -&gt; str
</span></div></code></pre>
<p><strong>Unterst√ºtzte ML-Modelle:</strong></p>
<ul>
<li><strong>Random Forest</strong> f√ºr Preis- und Lastprognosen</li>
<li><strong>XGBoost</strong> f√ºr erweiterte Vorhersagen</li>
<li><strong>LSTM</strong> (mit Fallback zu Random Forest bei TensorFlow-Abwesenheit)</li>
<li><strong>ARIMA</strong> f√ºr Zeitreihen-Vorhersagen</li>
<li><strong>Isolation Forest</strong> f√ºr Anomalie-Erkennung</li>
</ul>
<h4 id="3-ml-api-routes-appmlroutespy"><strong>3. ML API Routes (<code>app/ml_routes.py</code>)</strong></h4>
<p><strong>Neue Endpoints:</strong></p>
<pre class="hljs"><code><div><span class="hljs-meta">@ml_bp.route('/predict/load', methods=['POST'])</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">predict_load</span><span class="hljs-params">()</span>

@<span class="hljs-title">ml_bp</span>.<span class="hljs-title">route</span><span class="hljs-params">(<span class="hljs-string">'/optimization/seasonal'</span>, methods=[<span class="hljs-string">'GET'</span>])</span>
<span class="hljs-title">def</span> <span class="hljs-title">get_seasonal_optimization</span><span class="hljs-params">()</span>
</span></div></code></pre>
<p><strong>API-Features:</strong></p>
<ul>
<li>Lastprognose mit 3 Modelltypen (RF, XGBoost, ARIMA)</li>
<li>Saisonale Optimierung f√ºr alle 4 Jahreszeiten</li>
<li>Intelligente Datenaggregation f√ºr Charts</li>
<li>Robuste Timestamp-Serialisierung</li>
</ul>
<h4 id="4-saisonale-optimierung"><strong>4. Saisonale Optimierung</strong></h4>
<p><strong>Implementierte Saisons:</strong></p>
<ul>
<li><strong>Fr√ºhling:</strong> Moderate Arbitrage mit PV-Fokus</li>
<li><strong>Sommer:</strong> Aggressive Arbitrage und Peak Shaving</li>
<li><strong>Herbst:</strong> Konservative Strategie mit hoher Reserve</li>
<li><strong>Winter:</strong> Defensive Strategie mit Netzstabilit√§t</li>
</ul>
<p><strong>Saisonale Parameter:</strong></p>
<ul>
<li>PV-Effizienz-Faktoren</li>
<li>Last-Multiplikatoren</li>
<li>Preisvolatilit√§t</li>
<li>Optimale Lade-/Entladezeiten</li>
<li>SoC-Grenzen</li>
<li>Empfohlene Strategien</li>
</ul>
<h4 id="5-lastprognosen"><strong>5. Lastprognosen</strong></h4>
<p><strong>Features:</strong></p>
<ul>
<li>Historische Datenanalyse</li>
<li>Demo-Daten-Generierung f√ºr Tests</li>
<li>Realistische Lastkurven (t√§glich/w√∂chentlich)</li>
<li>24h-Vorhersagen f√ºr morgen</li>
<li>Multiple ML-Algorithmen</li>
</ul>
<h4 id="6-dashboard-integration"><strong>6. Dashboard-Integration</strong></h4>
<p><strong>ML Dashboard (<code>/ml-dashboard</code>):</strong></p>
<ul>
<li>Preis-Prognosen mit &quot;Morgen&quot;-Kennzeichnung</li>
<li>Dynamische Datumsgenerierung</li>
<li>Verbesserte Chart-Aufl√∂sung</li>
<li>Header und Footer Integration</li>
</ul>
<p><strong>Advanced ML Dashboard (<code>/advanced-ml-dashboard</code>):</strong></p>
<ul>
<li>Vollst√§ndige KI-Feature-√úbersicht</li>
<li>Interaktive Charts mit Chart.js</li>
<li>Real-time Updates</li>
<li>Responsive Design</li>
</ul>
<h3 id="technische-details"><strong>Technische Details</strong></h3>
<h4 id="datenbank-integration"><strong>Datenbank-Integration</strong></h4>
<ul>
<li><strong>Spot-Preis-Daten:</strong> Historische Strompreise f√ºr ML-Training</li>
<li><strong>Wetterdaten:</strong> Temperatur, Luftfeuchtigkeit, Wind, Solarstrahlung</li>
<li><strong>Lastdaten:</strong> Stromverbrauch f√ºr Prognosen</li>
<li><strong>Simulationsdaten:</strong> BESS-Performance f√ºr Optimierung</li>
</ul>
<h4 id="ml-pipeline"><strong>ML-Pipeline</strong></h4>
<ol>
<li><strong>Datenladen:</strong> Historische Daten aus SQLite-DB</li>
<li><strong>Feature Engineering:</strong> Zeit-Features, Wetter-Features, Preis-Features</li>
<li><strong>Modell-Training:</strong> Random Forest, XGBoost, LSTM, ARIMA</li>
<li><strong>Vorhersage:</strong> 24h-Prognosen f√ºr morgen</li>
<li><strong>Optimierung:</strong> Saisonale Parameter und Strategien</li>
</ol>
<h4 id="api-architektur"><strong>API-Architektur</strong></h4>
<ul>
<li><strong>RESTful APIs</strong> f√ºr alle ML-Services</li>
<li><strong>JSON-Responses</strong> mit strukturierten Daten</li>
<li><strong>Error Handling</strong> mit aussagekr√§ftigen Fehlermeldungen</li>
<li><strong>Demo-Modi</strong> f√ºr Tests ohne echte Daten</li>
</ul>
<h3 id="verwendung"><strong>Verwendung</strong></h3>
<h4 id="lastprognose-starten"><strong>Lastprognose starten:</strong></h4>
<pre class="hljs"><code><div><span class="hljs-comment">// Random Forest</span>
startLoadForecast(<span class="hljs-string">'random_forest'</span>)

<span class="hljs-comment">// XGBoost</span>
startLoadForecast(<span class="hljs-string">'xgboost'</span>)

<span class="hljs-comment">// ARIMA</span>
startLoadForecast(<span class="hljs-string">'arima'</span>)
</div></code></pre>
<h4 id="saisonale-optimierung"><strong>Saisonale Optimierung:</strong></h4>
<pre class="hljs"><code><div><span class="hljs-comment">// Aktuelle Saison</span>
getSeasonalOptimization(<span class="hljs-string">'current'</span>)

<span class="hljs-comment">// Spezifische Saison</span>
getSeasonalOptimization(<span class="hljs-string">'summer'</span>)
</div></code></pre>
<h4 id="api-aufrufe"><strong>API-Aufrufe:</strong></h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Lastprognose</span>
POST /api/ml/predict/load
{
  <span class="hljs-string">"model_type"</span>: <span class="hljs-string">"random_forest"</span>,
  <span class="hljs-string">"hours_ahead"</span>: 24
}

<span class="hljs-comment"># Saisonale Optimierung</span>
GET /api/ml/optimization/seasonal?season=summer
</div></code></pre>
<h3 id="performance--skalierbarkeit"><strong>Performance &amp; Skalierbarkeit</strong></h3>
<ul>
<li><strong>Caching:</strong> Modell-Caching f√ºr bessere Performance</li>
<li><strong>Fallback-Mechanismen:</strong> Demo-Daten wenn echte Daten fehlen</li>
<li><strong>Asynchrone Verarbeitung:</strong> Non-blocking ML-Operationen</li>
<li><strong>Memory Management:</strong> Effiziente Datenstrukturen</li>
</ul>
<h3 id="implementierte-dateien-15-januar-2025"><strong>Implementierte Dateien (15. Januar 2025)</strong></h3>
<h4 id="neue-dateien"><strong>Neue Dateien:</strong></h4>
<ul>
<li><code>app/templates/advanced_ml_dashboard.html</code> - Advanced ML Dashboard mit allen KI-Features</li>
<li><code>requirements_ml.txt</code> - ML-Dependencies (scikit-learn, xgboost, statsmodels)</li>
</ul>
<h4 id="erweiterte-dateien"><strong>Erweiterte Dateien:</strong></h4>
<ul>
<li><code>app/ml_service.py</code> - Erweitert um Lastprognosen und saisonale Optimierung</li>
<li><code>app/ml_routes.py</code> - Neue API-Endpoints f√ºr Lastprognosen und saisonale Optimierung</li>
<li><code>app/routes.py</code> - Neue Route <code>/advanced-ml-dashboard</code></li>
<li><code>app/templates/header_simple.html</code> - Navigation zu Advanced ML Dashboard</li>
<li><code>app/templates/ml_dashboard.html</code> - Verbesserte Preis-Prognosen mit &quot;Morgen&quot;-Kennzeichnung</li>
<li><code>Verbesserung_BESS.md</code> - Punkt 6.1 als vollst√§ndig implementiert markiert</li>
</ul>
<h4 id="code-statistiken"><strong>Code-Statistiken:</strong></h4>
<ul>
<li><strong>+500 Zeilen</strong> ML Service Code</li>
<li><strong>+200 Zeilen</strong> API Routes</li>
<li><strong>+400 Zeilen</strong> Advanced Dashboard HTML/JavaScript</li>
<li><strong>+100 Zeilen</strong> Dokumentation</li>
</ul>
<h3 id="zuk%C3%BCnftige-erweiterungen"><strong>Zuk√ºnftige Erweiterungen</strong></h3>
<ul>
<li><strong>TensorFlow Integration:</strong> Echte LSTM-Modelle</li>
<li><strong>Real-time Daten:</strong> Live-API-Integration</li>
<li><strong>Ensemble-Methoden:</strong> Kombinierte Vorhersagen</li>
<li><strong>A/B Testing:</strong> Modell-Performance-Vergleiche</li>
</ul>
<hr>
<h2 id="%F0%9F%8C%B1-co%E2%82%82-zertifikate--carbon-credits-integration-14-september-2025"><strong>üå± CO‚ÇÇ-Zertifikate &amp; Carbon Credits Integration (14. September 2025)</strong></h2>
<h3 id="%C3%BCberblick"><strong>√úberblick</strong></h3>
<p>Vollst√§ndige Implementierung von Punkt 6.3 aus der Verbesserungs-Roadmap mit vier neuen Dashboards f√ºr nachhaltige Finanzanlagen und CO‚ÇÇ-Monetarisierung.</p>
<h3 id="%F0%9F%8E%AF-implementierte-features"><strong>üéØ Implementierte Features</strong></h3>
<h4 id="1-climate-impact-dashboard"><strong>1. Climate Impact Dashboard</strong></h4>
<ul>
<li><strong>Ziel:</strong> √úbersichtliche Darstellung der CO‚ÇÇ-Bilanz und Klimaauswirkungen</li>
<li><strong>Features:</strong>
<ul>
<li>Projektauswahl-Dropdown mit allen 4 Projekten aus der Datenbank</li>
<li>Echtzeit-CO‚ÇÇ-Daten aus der <code>co2_balance</code> Tabelle</li>
<li>Interaktive Charts f√ºr CO‚ÇÇ-Trend und Carbon Credits</li>
<li>Metriken: Gesamte CO‚ÇÇ-Einsparungen, Netto-Bilanz, Effizienz</li>
</ul>
</li>
<li><strong>Technologie:</strong> Chart.js, Tailwind CSS, Flask API</li>
<li><strong>URL:</strong> <code>/climate/climate-dashboard</code></li>
</ul>
<h4 id="2-green-finance-dashboard"><strong>2. Green Finance Dashboard</strong></h4>
<ul>
<li><strong>Ziel:</strong> Nachhaltige Finanzanlagen und Green Bonds Portfolio-Management</li>
<li><strong>Features:</strong>
<ul>
<li>Portfolio-Berechnungen basierend auf CO‚ÇÇ-Einsparungen</li>
<li>Green Bonds und Sustainability Bonds Verteilung</li>
<li>Jahresrendite und ESG-Rating</li>
<li>Interaktive Portfolio- und Performance-Charts</li>
</ul>
</li>
<li><strong>Berechnungen:</strong>
<ul>
<li>Portfolio-Wert: CO‚ÇÇ-Einsparungen √ó 25‚Ç¨/t CO‚ÇÇ</li>
<li>Green Bonds: 68% des Portfolios</li>
<li>Sustainability Bonds: 32% des Portfolios</li>
</ul>
</li>
<li><strong>URL:</strong> <code>/climate/green-finance-dashboard</code></li>
</ul>
<h4 id="3-carbon-credits-dashboard"><strong>3. Carbon Credits Dashboard</strong></h4>
<ul>
<li><strong>Ziel:</strong> CO‚ÇÇ-Zertifikate Handel und Monetarisierung</li>
<li><strong>Features:</strong>
<ul>
<li>Verf√ºgbare und verkaufte Carbon Credits</li>
<li>Umsatzberechnung und Durchschnittspreise</li>
<li>Marktstatus und Handelsaktivit√§ten</li>
<li>Credits-Verteilung und Preisentwicklung</li>
</ul>
</li>
<li><strong>Berechnungen:</strong>
<ul>
<li>Credits: CO‚ÇÇ-Einsparungen √ó 0.37 Credits/kg CO‚ÇÇ</li>
<li>Verkaufte Credits: 60% der verf√ºgbaren Credits</li>
<li>Preis: 45‚Ç¨ pro Credit</li>
</ul>
</li>
<li><strong>URL:</strong> <code>/climate/carbon-credits-dashboard</code></li>
</ul>
<h4 id="4-co%E2%82%82-optimierung-dashboard"><strong>4. CO‚ÇÇ-Optimierung Dashboard</strong></h4>
<ul>
<li><strong>Ziel:</strong> Intelligente CO‚ÇÇ-Reduktion und Effizienzsteigerung</li>
<li><strong>Features:</strong>
<ul>
<li>CO‚ÇÇ-Einsparungen und Effizienz-Metriken</li>
<li>Optimierungs-Potential und Score-Berechnung</li>
<li>CO‚ÇÇ-Trend-Analyse und Optimierungs-Charts</li>
<li>Status-Bewertung (Optimal/Gut/Verbesserbar)</li>
</ul>
</li>
<li><strong>Berechnungen:</strong>
<ul>
<li>Einsparpotential: 15% zus√§tzliches Potential</li>
<li>Optimierungs-Score: Effizienz √ó 0.8 + Zufallswert</li>
</ul>
</li>
<li><strong>URL:</strong> <code>/climate/co2-optimization-dashboard</code></li>
</ul>
<h3 id="%F0%9F%94%A7-backend-systeme"><strong>üîß Backend-Systeme</strong></h3>
<h4 id="1-carbon-credit-trading-system"><strong>1. Carbon Credit Trading System</strong></h4>
<pre class="hljs"><code><div><span class="hljs-comment"># carbon_credit_trading_system.py</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CarbonCreditTradingSystem</span>:</span>
    - Credit-Berechnung und -Validierung
    - Marktpreis-Monitoring
    - Handels-Transaktionen
    - Portfolio-Management
</div></code></pre>
<h4 id="2-enhanced-esg-reporting-system"><strong>2. Enhanced ESG Reporting System</strong></h4>
<pre class="hljs"><code><div><span class="hljs-comment"># enhanced_esg_reporting_system.py</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EnhancedESGReportingSystem</span>:</span>
    - Automatische ESG-Berichte
    - Nachhaltigkeits-Metriken
    - Compliance-Tracking
    - Stakeholder-Reporting
</div></code></pre>
<h4 id="3-green-finance-integration"><strong>3. Green Finance Integration</strong></h4>
<pre class="hljs"><code><div><span class="hljs-comment"># green_finance_integration.py</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GreenFinanceIntegration</span>:</span>
    - Green Bonds Management
    - Nachhaltigkeits-Ratings
    - Portfolio-Optimierung
    - Risk-Assessment
</div></code></pre>
<h4 id="4-climate-routes-api"><strong>4. Climate Routes API</strong></h4>
<pre class="hljs"><code><div><span class="hljs-comment"># app/climate_routes.py</span>
<span class="hljs-meta">@climate_bp.route('/api/climate/projects')</span>
<span class="hljs-meta">@climate_bp.route('/api/climate/co2-data/&lt;project_id&gt;')</span>
- Projekt-Liste aus Datenbank
- Echtzeit-CO‚ÇÇ-Daten
- Fehlerbehandlung und Fallback
</div></code></pre>
<h3 id="%F0%9F%93%8A-datenbank-integration"><strong>üìä Datenbank-Integration</strong></h3>
<h4 id="verwendete-tabellen"><strong>Verwendete Tabellen:</strong></h4>
<ul>
<li><strong><code>co2_balance</code>:</strong> CO‚ÇÇ-Einsparungen und -Emissionen</li>
<li><strong><code>sustainability_metrics</code>:</strong> Nachhaltigkeits-Kennzahlen</li>
<li><strong><code>esg_reports</code>:</strong> ESG-Berichte und Ratings</li>
<li><strong><code>battery_config</code>:</strong> Batterie-Konfigurationen</li>
</ul>
<h4 id="api-endpoints"><strong>API-Endpoints:</strong></h4>
<ul>
<li><strong>GET</strong> <code>/climate/api/climate/projects</code> - Projekt-Liste</li>
<li><strong>GET</strong> <code>/climate/api/climate/co2-data/&lt;project_id&gt;</code> - CO‚ÇÇ-Daten</li>
<li><strong>GET</strong> <code>/climate/climate-dashboard</code> - Climate Impact Dashboard</li>
<li><strong>GET</strong> <code>/climate/green-finance-dashboard</code> - Green Finance Dashboard</li>
<li><strong>GET</strong> <code>/climate/carbon-credits-dashboard</code> - Carbon Credits Dashboard</li>
<li><strong>GET</strong> <code>/climate/co2-optimization-dashboard</code> - CO‚ÇÇ-Optimierung Dashboard</li>
</ul>
<h3 id="%F0%9F%8E%A8-frontend-features"><strong>üé® Frontend-Features</strong></h3>
<h4 id="projektauswahl"><strong>Projektauswahl:</strong></h4>
<ul>
<li>Dropdown mit allen 4 Projekten aus der Datenbank</li>
<li>Echtzeit-Datenladung bei Projektauswahl</li>
<li>Fallback auf Demo-Daten bei API-Fehlern</li>
</ul>
<h4 id="chart-integration"><strong>Chart-Integration:</strong></h4>
<ul>
<li><strong>Chart.js</strong> f√ºr alle Visualisierungen</li>
<li>Feste H√∂hen (300px) verhindern endlose Charts</li>
<li>Responsive Design mit Tailwind CSS</li>
<li>Interaktive Legenden und Tooltips</li>
</ul>
<h4 id="styling"><strong>Styling:</strong></h4>
<ul>
<li>Gradient-Header f√ºr jedes Dashboard</li>
<li>Farbkodierte Metrik-Karten</li>
<li>Einheitliches Design mit Header/Footer</li>
<li>Mobile-responsive Layout</li>
</ul>
<h3 id="%F0%9F%94%8D-debugging--qualit%C3%A4tssicherung"><strong>üîç Debugging &amp; Qualit√§tssicherung</strong></h3>
<h4 id="javascript-debugging"><strong>JavaScript-Debugging:</strong></h4>
<pre class="hljs"><code><div><span class="hljs-built_in">console</span>.log(<span class="hljs-string">'üîÑ Lade Projekte...'</span>);
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'üìä API Response:'</span>, data);
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'üîç Dropdown-Element gefunden:'</span>, select);
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'‚úÖ Projekte erfolgreich geladen!'</span>);
</div></code></pre>
<h4 id="fehlerbehandlung"><strong>Fehlerbehandlung:</strong></h4>
<ul>
<li>Null-Checks f√ºr alle DOM-Elemente</li>
<li>API-Fallback auf Demo-Daten</li>
<li>Chart-Destroy vor Neu-Erstellung</li>
<li>CSS-Styling-Fixes f√ºr Dropdown-Sichtbarkeit</li>
</ul>
<h3 id="%F0%9F%93%88-implementierungsstatistik"><strong>üìà Implementierungsstatistik</strong></h3>
<h4 id="dateien-erstelltge%C3%A4ndert"><strong>Dateien erstellt/ge√§ndert:</strong></h4>
<ul>
<li><strong>28 Dateien</strong> ge√§ndert/hinzugef√ºgt</li>
<li><strong>8,507 Zeilen</strong> Code hinzugef√ºgt</li>
<li><strong>22 Zeilen</strong> ge√§ndert</li>
</ul>
<h4 id="neue-dateien"><strong>Neue Dateien:</strong></h4>
<ul>
<li><code>app/climate_routes.py</code> (342 Zeilen)</li>
<li><code>app/templates/climate_impact_dashboard.html</code> (392 Zeilen)</li>
<li><code>app/templates/green_finance_dashboard.html</code> (318 Zeilen)</li>
<li><code>app/templates/carbon_credits_dashboard.html</code> (310 Zeilen)</li>
<li><code>app/templates/co2_optimization_dashboard.html</code> (325 Zeilen)</li>
<li><code>carbon_credit_trading_system.py</code> (285 Zeilen)</li>
<li><code>enhanced_esg_reporting_system.py</code> (267 Zeilen)</li>
<li><code>green_finance_integration.py</code> (298 Zeilen)</li>
</ul>
<h3 id="%F0%9F%9A%80-deployment--git-integration"><strong>üöÄ Deployment &amp; Git-Integration</strong></h3>
<h4 id="git-commit"><strong>Git-Commit:</strong></h4>
<ul>
<li><strong>Commit-Hash:</strong> <code>1818ad7</code></li>
<li><strong>Repository:</strong> <a href="https://github.com/HSchlagi/bess-simulation">https://github.com/HSchlagi/bess-simulation</a></li>
<li><strong>Branch:</strong> <code>main</code></li>
<li><strong>Status:</strong> Erfolgreich deployed</li>
</ul>
<h4 id="verf%C3%BCgbare-dashboards"><strong>Verf√ºgbare Dashboards:</strong></h4>
<ol>
<li><strong>Climate Impact:</strong> <code>http://127.0.0.1:5000/climate/climate-dashboard</code></li>
<li><strong>Green Finance:</strong> <code>http://127.0.0.1:5000/climate/green-finance-dashboard</code></li>
<li><strong>Carbon Credits:</strong> <code>http://127.0.0.1:5000/climate/carbon-credits-dashboard</code></li>
<li><strong>CO‚ÇÇ-Optimierung:</strong> <code>http://127.0.0.1:5000/climate/co2-optimization-dashboard</code></li>
</ol>
<h3 id="%F0%9F%8E%AF-gesch%C3%A4ftsnutzen"><strong>üéØ Gesch√§ftsnutzen</strong></h3>
<h4 id="co%E2%82%82-monetarisierung"><strong>CO‚ÇÇ-Monetarisierung:</strong></h4>
<ul>
<li>Direkte Umsetzung von CO‚ÇÇ-Einsparungen in finanzielle Ertr√§ge</li>
<li>Carbon Credits Handel mit 45‚Ç¨/Credit</li>
<li>Green Bonds Portfolio mit 4.2% Jahresrendite</li>
</ul>
<h4 id="nachhaltigkeits-reporting"><strong>Nachhaltigkeits-Reporting:</strong></h4>
<ul>
<li>Automatische ESG-Berichte</li>
<li>Compliance mit Nachhaltigkeitsstandards</li>
<li>Stakeholder-Transparenz</li>
</ul>
<h4 id="portfolio-management"><strong>Portfolio-Management:</strong></h4>
<ul>
<li>Intelligente Green Finance Integration</li>
<li>Risk-Assessment f√ºr nachhaltige Investments</li>
<li>Performance-Tracking und Optimierung</li>
</ul>
<h2 id="%F0%9F%A4%96-mcp-server-integration---intelligente-cursor-ai-steuerung-15-januar-2025"><strong>ü§ñ MCP-Server Integration - Intelligente Cursor AI Steuerung (15. Januar 2025)</strong></h2>
<h3 id="%C3%BCberblick"><strong>√úberblick</strong></h3>
<p>Der BESS-Simulation MCP Server erm√∂glicht es Cursor AI, direkt mit der BESS-Simulation zu interagieren. Diese Integration bietet intelligente Funktionen f√ºr Preisdaten, BESS-Steuerung, Datenbankzugriff und Simulation.</p>
<h3 id="%F0%9F%9A%80-installation--konfiguration"><strong>üöÄ Installation &amp; Konfiguration</strong></h3>
<h4 id="1-cursor-mcp-konfiguration"><strong>1. Cursor MCP-Konfiguration</strong></h4>
<p>F√ºgen Sie diese Konfiguration zu Ihren Cursor-Einstellungen hinzu:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"mcpServers"</span>: {
    <span class="hljs-attr">"bess-simulation"</span>: {
      <span class="hljs-attr">"command"</span>: <span class="hljs-string">"python"</span>,
      <span class="hljs-attr">"args"</span>: [<span class="hljs-string">"mcp_server_working.py"</span>],
      <span class="hljs-attr">"cwd"</span>: <span class="hljs-string">"D:\\Daten-Heinz\\phoenyra_BESS-Simulation"</span>,
      <span class="hljs-attr">"env"</span>: {
        <span class="hljs-attr">"BESS_DB_PATH"</span>: <span class="hljs-string">"instance/bess.db"</span>,
        <span class="hljs-attr">"DISPATCH_MODULE"</span>: <span class="hljs-string">"app.mcp_dispatch_adapter"</span>,
        <span class="hljs-attr">"DISPATCH_FUNC"</span>: <span class="hljs-string">"run_dispatch"</span>,
        <span class="hljs-attr">"AWATTAR_BASE_URL"</span>: <span class="hljs-string">"https://api.awattar.at/v1/marketdata"</span>,
        <span class="hljs-attr">"APG_BASE_URL"</span>: <span class="hljs-string">"https://api.apg.at/v1"</span>,
        <span class="hljs-attr">"MQTT_BROKER"</span>: <span class="hljs-string">"localhost"</span>,
        <span class="hljs-attr">"MQTT_PORT"</span>: <span class="hljs-string">"1883"</span>
      }
    }
  }
}
</div></code></pre>
<h4 id="2-server-starten"><strong>2. Server starten</strong></h4>
<pre class="hljs"><code><div><span class="hljs-built_in">cd</span> D:\Daten-Heinz\phoenyra_BESS-Simulation
python mcp_server_working.py
</div></code></pre>
<h3 id="%F0%9F%94%A7-verf%C3%BCgbare-mcp-funktionen"><strong>üîß Verf√ºgbare MCP-Funktionen</strong></h3>
<h4 id="preisdaten"><strong>Preisdaten</strong></h4>
<h5 id="pricesgetspotcurvedateiso-str"><code>prices_get_spotcurve(date_iso: str)</code></h5>
<p>Holt Spotpreise aus der BESS-Datenbank f√ºr einen bestimmten Tag.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>date_iso</code>: Datum im Format &quot;YYYY-MM-DD&quot;</li>
</ul>
<p><strong>R√ºckgabe:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"date"</span>: <span class="hljs-string">"2025-01-15"</span>,
  <span class="hljs-attr">"curve"</span>: [
    {<span class="hljs-attr">"ts"</span>: <span class="hljs-string">"2025-01-15T00:00:00"</span>, <span class="hljs-attr">"price_eur_mwh"</span>: <span class="hljs-number">45.67</span>},
    {<span class="hljs-attr">"ts"</span>: <span class="hljs-string">"2025-01-15T01:00:00"</span>, <span class="hljs-attr">"price_eur_mwh"</span>: <span class="hljs-number">42.34</span>}
  ],
  <span class="hljs-attr">"points"</span>: <span class="hljs-number">24</span>,
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"bess_database"</span>
}
</div></code></pre>
<h5 id="pricesgetawattarday-str-country-str--%22at%22"><code>prices_get_awattar(day: str, country: str = &quot;AT&quot;)</code></h5>
<p>Holt Live-Preise von aWATTar/EPEX.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>day</code>: Datum im Format &quot;YYYY-MM-DD&quot;</li>
<li><code>country</code>: &quot;AT&quot; oder &quot;DE&quot;</li>
</ul>
<p><strong>R√ºckgabe:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"day"</span>: <span class="hljs-string">"2025-01-15"</span>,
  <span class="hljs-attr">"curve"</span>: [
    {<span class="hljs-attr">"ts"</span>: <span class="hljs-string">"2025-01-15T00:00:00+00:00"</span>, <span class="hljs-attr">"price_eur_mwh"</span>: <span class="hljs-number">45.67</span>}
  ],
  <span class="hljs-attr">"points"</span>: <span class="hljs-number">24</span>,
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"https://api.awattar.at/v1/marketdata"</span>,
  <span class="hljs-attr">"country"</span>: <span class="hljs-string">"AT"</span>
}
</div></code></pre>
<h4 id="bess-steuerung"><strong>BESS-Steuerung</strong></h4>
<h5 id="bessreadsoc---float"><code>bess_read_soc() -&gt; float</code></h5>
<p>Liest den aktuellen SOC-Wert (State of Charge) des BESS-Systems.</p>
<p><strong>R√ºckgabe:</strong></p>
<ul>
<li><code>float</code>: SOC-Wert in Prozent (0-100) oder -1.0 bei Fehler</li>
</ul>
<h5 id="besssetmodemode-str---str"><code>bess_set_mode(mode: str) -&gt; str</code></h5>
<p>Setzt den BESS-Betriebsmodus √ºber MQTT.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>mode</code>: &quot;idle&quot;, &quot;charge&quot; oder &quot;discharge&quot;</li>
</ul>
<p><strong>R√ºckgabe:</strong></p>
<ul>
<li><code>str</code>: Erfolgsmeldung oder Fehlertext</li>
</ul>
<h4 id="datenbankzugriff"><strong>Datenbankzugriff</strong></h4>
<h5 id="bessgetprojects---dictstr-any"><code>bess_get_projects() -&gt; Dict[str, Any]</code></h5>
<p>Holt alle BESS-Projekte aus der Datenbank.</p>
<p><strong>R√ºckgabe:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"projects"</span>: [
    {
      <span class="hljs-attr">"id"</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Hinterstoder BESS"</span>,
      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"2.5 MWh Speicher"</span>,
      <span class="hljs-attr">"customer_id"</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">"bess_size"</span>: <span class="hljs-number">2500.0</span>,
      <span class="hljs-attr">"bess_power"</span>: <span class="hljs-number">1250.0</span>,
      <span class="hljs-attr">"created_at"</span>: <span class="hljs-string">"2025-01-15T10:00:00"</span>,
      <span class="hljs-attr">"updated_at"</span>: <span class="hljs-string">"2025-01-15T10:00:00"</span>
    }
  ],
  <span class="hljs-attr">"count"</span>: <span class="hljs-number">4</span>
}
</div></code></pre>
<h5 id="dbprojecttable-str-limit-int--200---dictstr-any"><code>db_project(table: str, limit: int = 200) -&gt; Dict[str, Any]</code></h5>
<p>Datenbank-Tabellen-Dump f√ºr unterst√ºtzte Tabellen.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>table</code>: &quot;spot_prices&quot;, &quot;metrics&quot;, &quot;pv_load&quot;, &quot;projects&quot;, &quot;battery_configs&quot;</li>
<li><code>limit</code>: Maximale Anzahl Zeilen</li>
</ul>
<h4 id="zeitreihen"><strong>Zeitreihen</strong></h4>
<h5 id="readpvloadday-str---dictstr-any"><code>read_pv_load(day: str) -&gt; Dict[str, Any]</code></h5>
<p>Liest PV/Last-Zeitreihen f√ºr einen bestimmten Tag.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>day</code>: Datum im Format &quot;YYYY-MM-DD&quot;</li>
</ul>
<p><strong>R√ºckgabe:</strong></p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"day"</span>: <span class="hljs-string">"2025-01-15"</span>,
  <span class="hljs-attr">"series"</span>: [
    {<span class="hljs-attr">"ts"</span>: <span class="hljs-string">"2025-01-15T00:00:00"</span>, <span class="hljs-attr">"pv_kw"</span>: <span class="hljs-number">0.0</span>, <span class="hljs-attr">"load_kw"</span>: <span class="hljs-number">15.5</span>}
  ],
  <span class="hljs-attr">"points"</span>: <span class="hljs-number">24</span>,
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"bess_database.pv_load"</span>
}
</div></code></pre>
<h4 id="convenience-funktionen"><strong>Convenience-Funktionen</strong></h4>
<h5 id="bessgetspotpricestoday---dictstr-any"><code>bess_get_spot_prices_today() -&gt; Dict[str, Any]</code></h5>
<p>Holt heutige Spotpreise (Wrapper f√ºr <code>prices_get_spotcurve</code>).</p>
<h5 id="bessgetawattartoday---dictstr-any"><code>bess_get_awattar_today() -&gt; Dict[str, Any]</code></h5>
<p>Holt heutige aWATTar-Preise (Wrapper f√ºr <code>prices_get_awattar</code>).</p>
<h3 id="%F0%9F%8E%AE-verwendung-in-cursor-ai"><strong>üéÆ Verwendung in Cursor AI</strong></h3>
<h4 id="beispiel-1-preisdaten-analysieren"><strong>Beispiel 1: Preisdaten analysieren</strong></h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Hole heutige Spotpreise</span>
spot_prices = bess_get_spot_prices_today()
print(<span class="hljs-string">f"Anzahl Datenpunkte: <span class="hljs-subst">{spot_prices[<span class="hljs-string">'points'</span>]}</span>"</span>)

<span class="hljs-comment"># Hole aWATTar-Preise f√ºr Deutschland</span>
awattar_de = prices_get_awattar(<span class="hljs-string">"2025-01-15"</span>, <span class="hljs-string">"DE"</span>)
print(<span class="hljs-string">f"aWATTar DE: <span class="hljs-subst">{awattar_de[<span class="hljs-string">'points'</span>]}</span> Datenpunkte"</span>)
</div></code></pre>
<h4 id="beispiel-2-bess-status-%C3%BCberwachen"><strong>Beispiel 2: BESS-Status √ºberwachen</strong></h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Lese aktuellen SOC</span>
soc = bess_read_soc()
print(<span class="hljs-string">f"Aktueller SOC: <span class="hljs-subst">{soc}</span>%"</span>)

<span class="hljs-comment"># Setze BESS-Modus</span>
result = bess_set_mode(<span class="hljs-string">"charge"</span>)
print(<span class="hljs-string">f"Modus-Set: <span class="hljs-subst">{result}</span>"</span>)
</div></code></pre>
<h4 id="beispiel-3-projektdaten-abrufen"><strong>Beispiel 3: Projektdaten abrufen</strong></h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Hole alle Projekte</span>
projects = bess_get_projects()
<span class="hljs-keyword">for</span> project <span class="hljs-keyword">in</span> projects[<span class="hljs-string">'projects'</span>]:
    print(<span class="hljs-string">f"Projekt: <span class="hljs-subst">{project[<span class="hljs-string">'name'</span>]}</span> - <span class="hljs-subst">{project[<span class="hljs-string">'bess_size'</span>]}</span> kWh"</span>)
</div></code></pre>
<h3 id="%F0%9F%94%A7-technische-details"><strong>üîß Technische Details</strong></h3>
<h4 id="datenbankverbindung"><strong>Datenbankverbindung</strong></h4>
<ul>
<li><strong>Pfad</strong>: <code>instance/bess.db</code></li>
<li><strong>Typ</strong>: SQLite3</li>
<li><strong>Row Factory</strong>: <code>sqlite3.Row</code> f√ºr Dictionary-Zugriff</li>
</ul>
<h4 id="api-integration"><strong>API-Integration</strong></h4>
<ul>
<li><strong>aWATTar</strong>: Live-Preise f√ºr AT/DE</li>
<li><strong>APG</strong>: √ñsterreichische Preisdaten</li>
<li><strong>MQTT</strong>: Hardware-Steuerung</li>
</ul>
<h4 id="fehlerbehandlung"><strong>Fehlerbehandlung</strong></h4>
<ul>
<li>Robuste Fehlerbehandlung mit detailliertem Logging</li>
<li>Graceful Degradation bei API-Ausf√§llen</li>
<li>Datenbankfehler werden abgefangen und gemeldet</li>
</ul>
<h3 id="%F0%9F%93%8A-status--monitoring"><strong>üìä Status &amp; Monitoring</strong></h3>
<p>Der Server zeigt beim Start:</p>
<ul>
<li>‚úÖ Datenbankverbindung erfolgreich</li>
<li>üîß Verf√ºgbare MCP-Funktionen</li>
<li>üìä Test-Ergebnisse der Funktionen</li>
</ul>
<h3 id="%F0%9F%9A%80-n%C3%A4chste-schritte"><strong>üöÄ N√§chste Schritte</strong></h3>
<ol>
<li><strong>Cursor AI Integration</strong>: Konfiguration in Cursor aktivieren</li>
<li><strong>MQTT-Setup</strong>: Hardware-Steuerung konfigurieren</li>
<li><strong>Dispatch-Adapter</strong>: Erweiterte Algorithmen implementieren</li>
<li><strong>Monitoring</strong>: Dashboard f√ºr Live-√úberwachung</li>
</ol>
<h3 id="%F0%9F%90%9B-fehlerbehebung"><strong>üêõ Fehlerbehebung</strong></h3>
<h4 id="h%C3%A4ufige-probleme"><strong>H√§ufige Probleme</strong></h4>
<ol>
<li>
<p><strong>Datenbank nicht gefunden</strong></p>
<ul>
<li>Pr√ºfen Sie den Pfad: <code>instance/bess.db</code></li>
<li>Stellen Sie sicher, dass die BESS-Simulation l√§uft</li>
</ul>
</li>
<li>
<p><strong>API-Fehler</strong></p>
<ul>
<li>Internetverbindung pr√ºfen</li>
<li>API-Limits beachten</li>
</ul>
</li>
<li>
<p><strong>MQTT-Verbindung</strong></p>
<ul>
<li>MQTT-Broker l√§uft?</li>
<li>Credentials korrekt?</li>
</ul>
</li>
</ol>
<h4 id="logs"><strong>Logs</strong></h4>
<p>Alle Fehler werden in der Konsole und im Log-System protokolliert.</p>
<h3 id="%F0%9F%93%81-dateien"><strong>üìÅ Dateien</strong></h3>
<ul>
<li><code>mcp_server_working.py</code> - Hauptversion des MCP-Servers</li>
<li><code>mcp_server_simple.py</code> - Testversion</li>
<li><code>cursor_mcp_config.json</code> - Cursor-Konfiguration</li>
<li><code>MCP_SERVER_FINAL_DOKUMENTATION.md</code> - Detaillierte Dokumentation</li>
<li><code>app/mcp_api.py</code> - Flask-API-Integration</li>
<li><code>app/mcp_dispatch_adapter.py</code> - Dispatch-Adapter</li>
<li><code>app/templates/mcp_dashboard.html</code> - MCP-Dashboard</li>
</ul>
<hr>
<h3 id="%F0%9F%94%AE-zuk%C3%BCnftige-erweiterungen"><strong>üîÆ Zuk√ºnftige Erweiterungen</strong></h3>
<ul>
<li><strong>Blockchain-Integration:</strong> F√ºr Carbon Credits</li>
<li><strong>Real-time Marktdaten:</strong> Live-Preis-Updates</li>
<li><strong>Machine Learning:</strong> Predictive Analytics f√ºr Credits-Preise</li>
<li><strong>API-Integration:</strong> Externe Nachhaltigkeits-Plattformen</li>
<li><strong>MCP-Erweiterungen:</strong> Weitere intelligente Funktionen f√ºr Cursor AI</li>
</ul>
<hr>
<p><strong>BESS Simulation</strong> - Professionelle Batteriespeicher-Simulation f√ºr erneuerbare Energien üöÄ</p>
<p><em>Letzte Aktualisierung: 15. Januar 2025 - MCP-Server Integration f√ºr intelligente Cursor AI Steuerung vollst√§ndig implementiert und dokumentiert</em></p>

</body>
</html>
