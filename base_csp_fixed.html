<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Content Security Policy - Font Awesome erlauben -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://use.fontawesome.com; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com https://cdnjs.cloudflare.com; font-src 'self' https://cdnjs.cloudflare.com https://use.fontawesome.com;">
    
    <title>{% block title %}BESS Simulation{% endblock %}</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='favicon-32x32.png') }}">
    <link rel="icon" type="image/png" sizes="48x48" href="{{ url_for('static', filename='favicon-48x48.png') }}">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome - Intelligente Fallback-Lösung -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- XLSX Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    
    <!-- Elegante Fallback-Lösung -->
    <style>
        /* Schlichte Fallback-Icons für kritische Elemente */
        .fa-user::before { content: "👤"; }
        .fa-sign-out-alt::before { content: "🚪"; }
        .fa-dashboard::before { content: "📊"; }
        .fa-project-diagram::before { content: "📋"; }
        .fa-users::before { content: "👥"; }
        .fa-database::before { content: "🗄️"; }
        .fa-calculator::before { content: "🧮"; }
        .fa-chart-line::before { content: "📈"; }
        .fa-plus::before { content: "➕"; }
        .fa-edit::before { content: "✏️"; }
        .fa-eye::before { content: "👁️"; }
        .fa-trash::before { content: "🗑️"; }
        .fa-cogs::before { content: "⚙️"; }
        .fa-times::before { content: "❌"; }
        .fa-check::before { content: "✅"; }
        .fa-spinner::before { content: "🔄"; }
        .fa-chevron-down::before { content: "🔽"; }
        .fa-chevron-up::before { content: "🔼"; }
        .fa-calendar::before { content: "📅"; }
        .fa-map-marker-alt::before { content: "📍"; }
        .fa-battery-half::before { content: "🔋"; }
        .fa-solar-panel::before { content: "☀️"; }
        .fa-wind::before { content: "💨"; }
        .fa-water::before { content: "💧"; }
        .fa-euro-sign::before { content: "💶"; }
        .fa-cog::before { content: "⚙️"; }
        .fa-chart-bar::before { content: "📊"; }
        .fa-file-upload::before { content: "📤"; }
        .fa-file-download::before { content: "📥"; }
        .fa-cloud::before { content: "☁️"; }
        .fa-flag::before { content: "🏁"; }
        .fa-bolt::before { content: "⚡"; }
        .fa-star::before { content: "⭐"; }
        .fa-home::before { content: "🏠"; }
        .fa-search::before { content: "🔍"; }
        .fa-arrow-left::before { content: "⬅️"; }
        .fa-arrow-right::before { content: "➡️"; }
        .fa-arrow-up::before { content: "⬆️"; }
        .fa-arrow-down::before { content: "⬇️"; }
        .fa-sync::before { content: "🔄"; }
        .fa-save::before { content: "💾"; }
        .fa-download::before { content: "📥"; }
        .fa-upload::before { content: "📤"; }
        .fa-link::before { content: "🔗"; }
        .fa-lock::before { content: "🔒"; }
        .fa-unlock::before { content: "🔓"; }
        .fa-bell::before { content: "🔔"; }
        .fa-envelope::before { content: "✉️"; }
        .fa-phone::before { content: "📞"; }
        .fa-server::before { content: "🖥️"; }
        .fa-wifi::before { content: "📶"; }
        .fa-bars::before { content: "☰"; }
        .fa-list::before { content: "📋"; }
        .fa-copy::before { content: "📋"; }
        .fa-undo::before { content: "↶"; }
        .fa-redo::before { content: "↷"; }
        .fa-expand::before { content: "⤢"; }
        .fa-compress::before { content: "⤡"; }
        .fa-times-circle::before { content: "❌"; }
        .fa-check-circle::before { content: "✅"; }
        .fa-exclamation-triangle::before { content: "⚠️"; }
        .fa-info-circle::before { content: "ℹ️"; }
        .fa-question-circle::before { content: "❓"; }
        .fa-minus::before { content: "➖"; }
        .fa-circle::before { content: "●"; }
        .fa-circle-notch::before { content: "🔄"; }
        .fa-gear::before { content: "⚙️"; }
        .fa-sliders-h::before { content: "🎛️"; }
        .fa-toggle-on::before { content: "🔘"; }
        .fa-toggle-off::before { content: "⚪"; }
    </style>
</head>
<body class="bg-gray-100">
    {% include 'header_simple.html' %}
    
    <main class="container mx-auto px-4 py-8">
        {% block content %}{% endblock %}
    </main>
    
    {% include 'footer.html' %}
    
    {% block scripts %}{% endblock %}
</body>
</html>
